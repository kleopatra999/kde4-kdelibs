Index: cmake/modules/FindQt4.cmake
===================================================================
--- cmake/modules/FindQt4.cmake	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ cmake/modules/FindQt4.cmake	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -727,6 +727,7 @@
     PATHS
     ${QT_INCLUDE_DIR}/QtWebKit
     ${QT_HEADERS_DIR}/QtWebKit
+    ${QT_LIBRARY_DIR}/QtWebkit.framework/Headers
     NO_DEFAULT_PATH
     )
   
@@ -737,11 +738,13 @@
     ${QT_HEADERS_DIR}/QtXmlPatterns
     NO_DEFAULT_PATH
     )
-  
+
   # Set QT_PHONON_INCLUDE_DIR
-  FIND_PATH(QT_PHONON_INCLUDE_DIR phonon
+  # Qt >= 4.5.3 (or kde-qt-4.5.2 which has the fix too) : Phonon/ClassName is inside include/phonon
+  # With previous versions of Qt, this could not work; upgrade Qt or use a standalone phonon
+  FIND_PATH(QT_PHONON_INCLUDE_DIR Phonon
     PATHS
-    ${QT_INCLUDE_DIR}/phonon
+    ${QT_HEADERS_DIR}/phonon
     NO_DEFAULT_PATH
     )
 
Index: cmake/modules/FindPopplerQt4.cmake
===================================================================
--- cmake/modules/FindPopplerQt4.cmake	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ cmake/modules/FindPopplerQt4.cmake	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -27,11 +27,12 @@
 find_path(POPPLER_QT4_INCLUDE_DIR 
   NAMES poppler-qt4.h
   PATH_SUFFIXES poppler/qt4 poppler
-  PATHS ${_PopplerQt4IncDir}
+  HINTS ${_PopplerQt4IncDir}
 )
 
-find_library(POPPLER_QT4_LIBRARIES poppler-qt4
-  ${_PopplerQt4LinkDir}
+find_library(POPPLER_QT4_LIBRARIES 
+  NAMES poppler-qt4
+  HINTS ${_PopplerQt4LinkDir}
 )
 
 if (POPPLER_QT4_INCLUDE_DIR AND POPPLER_QT4_LIBRARIES)
Index: cmake/modules/FindKDE4Internal.cmake
===================================================================
--- cmake/modules/FindKDE4Internal.cmake	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ cmake/modules/FindKDE4Internal.cmake	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1054,7 +1054,7 @@
    set( __KDE_HAVE_GCC_VISIBILITY ${__KDE_HAVE_GCC_VISIBILITY} CACHE BOOL "GCC support for hidden visibility")
 
    # get the gcc version
-   exec_program(${CMAKE_C_COMPILER} ARGS --version OUTPUT_VARIABLE _gcc_version_info)
+   exec_program(${CMAKE_C_COMPILER} ARGS ${CMAKE_C_COMPILER_ARG1} --version OUTPUT_VARIABLE _gcc_version_info)
 
    string (REGEX MATCH "[345]\\.[0-9]\\.[0-9]" _gcc_version "${_gcc_version_info}")
    # gcc on mac just reports: "gcc (GCC) 3.3 20030304 ..." without the patch level, handle this here:
@@ -1075,11 +1075,11 @@
 
    set(_GCC_COMPILED_WITH_BAD_ALLOCATOR FALSE)
    if (GCC_IS_NEWER_THAN_4_1)
-      exec_program(${CMAKE_C_COMPILER} ARGS -v OUTPUT_VARIABLE _gcc_alloc_info)
+      exec_program(${CMAKE_C_COMPILER} ARGS ${CMAKE_C_COMPILER_ARG1} -v OUTPUT_VARIABLE _gcc_alloc_info)
       string(REGEX MATCH "(--enable-libstdcxx-allocator=mt)" _GCC_COMPILED_WITH_BAD_ALLOCATOR "${_gcc_alloc_info}")
    endif (GCC_IS_NEWER_THAN_4_1)
 
-   if (__KDE_HAVE_GCC_VISIBILITY AND GCC_IS_NEWER_THAN_4_1 AND NOT _GCC_COMPILED_WITH_BAD_ALLOCATOR)
+   if (__KDE_HAVE_GCC_VISIBILITY AND GCC_IS_NEWER_THAN_4_1 AND NOT _GCC_COMPILED_WITH_BAD_ALLOCATOR AND NOT WIN32)
       set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fvisibility=hidden")
       set (KDE4_C_FLAGS "-fvisibility=hidden")
       # check that Qt defines Q_DECL_EXPORT as __attribute__ ((visibility("default")))
@@ -1101,9 +1101,9 @@
       if (GCC_IS_NEWER_THAN_4_2)
           set (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fvisibility-inlines-hidden")
       endif (GCC_IS_NEWER_THAN_4_2)
-   else (__KDE_HAVE_GCC_VISIBILITY AND GCC_IS_NEWER_THAN_4_1 AND NOT _GCC_COMPILED_WITH_BAD_ALLOCATOR)
+   else (__KDE_HAVE_GCC_VISIBILITY AND GCC_IS_NEWER_THAN_4_1 AND NOT _GCC_COMPILED_WITH_BAD_ALLOCATOR AND NOT WIN32)
       set (__KDE_HAVE_GCC_VISIBILITY 0)
-   endif (__KDE_HAVE_GCC_VISIBILITY AND GCC_IS_NEWER_THAN_4_1 AND NOT _GCC_COMPILED_WITH_BAD_ALLOCATOR)
+   endif (__KDE_HAVE_GCC_VISIBILITY AND GCC_IS_NEWER_THAN_4_1 AND NOT _GCC_COMPILED_WITH_BAD_ALLOCATOR AND NOT WIN32)
 
 endif (CMAKE_COMPILER_IS_GNUCXX)
 
Index: cmake/modules/FindQImageBlitz.cmake
===================================================================
--- cmake/modules/FindQImageBlitz.cmake	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ cmake/modules/FindQImageBlitz.cmake	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -27,10 +27,9 @@
   NAMES
   qimageblitz.h
   PATH_SUFFIXES qimageblitz
-  PATHS
+  HINTS
   $ENV{QIMAGEBLITZDIR}/include
   ${PC_QIMAGEBLITZ_INCLUDEDIR}
-  ${PC_QIMAGEBLITZ_INCLUDE_DIRS}
   ${KDE4_INCLUDE_DIR}
   ${INCLUDE_INSTALL_DIR}
 )
@@ -38,10 +37,9 @@
 find_library_with_debug(QIMAGEBLITZ_LIBRARIES
   WIN32_DEBUG_POSTFIX d
   qimageblitz
-  PATHS
+  HINTS
   $ENV{QIMAGEBLITZDIR}/lib
   ${PC_QIMAGEBLITZ_LIBDIR}
-  ${PC_QIMAGEBLITZ_LIBRARY_DIRS}
   ${KDE4_LIB_DIR}
   ${LIB_INSTALL_DIR}
 )
Index: interfaces/kimproxy/interface/dbusinstantmessenger.desktop
===================================================================
--- interfaces/kimproxy/interface/dbusinstantmessenger.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ interfaces/kimproxy/interface/dbusinstantmessenger.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -30,6 +30,7 @@
 Comment[he]=תוכנת מסרים מידיים עם ממשק D-Bus
 Comment[hi]=डी-बस इंटरफ़ेस के साथ इंस्टैंट मैसेंजर
 Comment[hne]=डी-बस इंटरफेस के साथ इंस्टैंट मैसेंजर
+Comment[hr]=Trenutni dopisnik s D-Bus sučeljem
 Comment[hsb]=Instant Messenger z DCOP-interfejsom
 Comment[hu]=Azonnali üzenetküldő DBus felülettel
 Comment[is]=Spjallforrit með D-Bus viðmóti
Index: interfaces/kimproxy/interface/kcm_instantmessenger.desktop
===================================================================
--- interfaces/kimproxy/interface/kcm_instantmessenger.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ interfaces/kimproxy/interface/kcm_instantmessenger.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -14,6 +14,7 @@
 Name[gu]=ઇન્સ્ટન્ટ મેસેન્જર
 Name[he]=מסרים מידיים
 Name[hi]=इंसटैंट मैसेंजर
+Name[hr]=Trenutni dopisnik
 Name[hu]=Azonnali üzenetküldő
 Name[is]=Spjallforrit
 Name[it]=Messaggistica istantanea
@@ -74,7 +75,7 @@
 Comment[he]=תוכנת מסרים מידיים מאפשרת לשוחח ברשת בין שני אנשים או יותר.
 Comment[hi]=दो व्यक्तियों या समूहों के बीच दो-तरफ़ा गपशप की सुविधा इंस्टैंट मैसेंजर से मिलती है.
 Comment[hne]=दू मनखे या समूह मन के बीच दू-तरफा गपसप के सुविधा इंस्टैंट मैसेंजर से मिलथे.
-Comment[hr]=Trenutne poruke omogućuju dvosmjerno brbljanje između pojedinaca i grupa.
+Comment[hr]=Trenutni dopisnik omogućuje obostrano brbljanje između pojedinaca i grupa.
 Comment[hsb]=Instant messenger zmóžni jednotliwcam a skupinam spěšnu wuměnu zdźělenkow.
 Comment[hu]=Interaktív társalgást tesz lehetővé az interneten keresztül két személy vagy csoport között.
 Comment[is]=Spjallforritið gerir einstaklingum og hópum kleyft að spjalla saman á einfaldan máta.
Index: interfaces/kspeech/dbustexttospeech.desktop
===================================================================
--- interfaces/kspeech/dbustexttospeech.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ interfaces/kspeech/dbustexttospeech.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -30,6 +30,7 @@
 Comment[he]=שירות טקסט לדיבור עם ממשק D-Bus
 Comment[hi]=डी-बस इंटरफ़ेस के साथ पाठ-से-वार्ता सेवा
 Comment[hne]=डी-बस इंटरफेस के साथ पाठ-से-वार्ता सेवा
+Comment[hr]=Usluga tekst-u-govor s D-Bus sučeljem.
 Comment[hsb]=konwertowanje teksta na rěč z D-Bus-interfejsom
 Comment[hu]=Szövegfelolvasó szolgáltatás D-Bus felülettel
 Comment[is]=Texti-í-tal þjónusta með D-Bus viðmóti
@@ -41,7 +42,7 @@
 Comment[ko]=D-Bus 인터페이스를 사용하는 텍스트 음성 변환 서비스
 Comment[ku]=Servîsa Axaftin-bi-Nivîsê bi navrû ya D-Bus
 Comment[lt]=Teksto vertimo kalba tarnyba su D-Bus sąsaja
-Comment[lv]=Teksta-uz-runu serviss ar D-Bus saskarni
+Comment[lv]=Teksts-uz-runu serviss ar D-Bus saskarni
 Comment[mai]=डी-बस इंटरफ़ेस केर सँग पाठ-सँ-वार्ता सेवा
 Comment[mk]=Сервис за текст-во-говор со D-Bus-интерфејс
 Comment[ml]=ഡി-ബസ് വിനിമയതലമുള്ള അക്ഷരങ്ങളെ ശബ്ദത്തിലേയ്ക്കു് മാറ്റുന്ന സേവനം
Index: interfaces/ktexteditor/containerinterface.h
===================================================================
--- interfaces/ktexteditor/containerinterface.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ interfaces/ktexteditor/containerinterface.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -282,7 +282,7 @@
     */
     virtual QWidget* getViewBarParent(View *view,enum Position position)=0;
 
-    /** It is advisable to store only QPointers to the bar and it's children in the caller after this point.
+    /** It is advisable to store only QPointers to the bar and its children in the caller after this point.
      *  The container may at any point delete the bar, eg if the container is destroyed
      *  The caller has to ensure that bar->parentWidget() is the widget returned by the previous function
      */
Index: interfaces/ktexteditor/ktexteditor_loadsavefiltercheckplugin.desktop
===================================================================
--- interfaces/ktexteditor/ktexteditor_loadsavefiltercheckplugin.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ interfaces/ktexteditor/ktexteditor_loadsavefiltercheckplugin.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 Comment[gu]=KTextEditor લાવવા/સંગ્રહ ગાળક/ચકાસણી પ્લગઇન
 Comment[he]=תוסף לשמירה וטעינה או בדיקה של תוסף עבור KTextEditor
 Comment[hne]=के-टैक्स्ट-एडीटर लोड/सहेज फिल्टर/जांच प्लगइन
+Comment[hr]=KTextEditor priključak za učitavanje/spremanje i filtriranje/provjeru
 Comment[hsb]=KTextEditor plugin za wočinjenje/zawěsćenje
 Comment[hu]=KTextEditor betöltési/mentési/szűrési/ellenőrzési bővítmény
 Comment[is]=KTextEditor hlaða/vista sía/prófa íforrit
@@ -35,7 +36,7 @@
 Comment[ko]=KTextEditor 필터/검사 불러오기/저장 플러그인
 Comment[ku]=KEdîtoraNivîsê pêveka barbike/tomarbike parzûnbike/kontrolbike
 Comment[lt]=KTextEditor įkėlimo/įrašymo filtro/tikrinimo priedas
-Comment[lv]=KTextEditor ielādēšanas/saglabāšanas  filtrs/pārbaudīšanas spraudnis
+Comment[lv]=KTextEditor ielādēšanas/saglabāšanas filtrs/pārbaudīšanas spraudnis
 Comment[mai]=KTextEditor लोड/सहेज फिल्टर/जाँच प्लगइन
 Comment[ml]=കെടെക്സ്റ്റ്എഡിറ്റര്‍ ചേര്‍ക്കുക/സൂക്ഷിയ്ക്കുക ഫില്‍ടര്‍/പരിശോദിയ്ക്കുക എന്നതിനുള്ള സംയോജകം
 Comment[ms]=Plugin muat/simpan tapis/periksa KTextEditor
Index: interfaces/ktexteditor/ktexteditorplugin.desktop
===================================================================
--- interfaces/ktexteditor/ktexteditorplugin.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ interfaces/ktexteditor/ktexteditorplugin.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -33,7 +33,7 @@
 Comment[he]=תוסף KTextEditor
 Comment[hi]=के-टैक्स्ट-एडीटर प्लगइन
 Comment[hne]=के-टैक्स्ट-एडीटर प्लगइन
-Comment[hr]=KTextEditor dodatak
+Comment[hr]=KTextEditor priključak
 Comment[hsb]=KTextEditor zašćěpka
 Comment[hu]=KTextEditor-bővítőmodul
 Comment[is]=KTextEditor-íforrit
Index: interfaces/ktexteditor/kcm_ktexteditor.desktop
===================================================================
--- interfaces/ktexteditor/kcm_ktexteditor.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ interfaces/ktexteditor/kcm_ktexteditor.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -17,6 +17,7 @@
 Name[gu]=જડિત લખાણ સંપાદક
 Name[he]=עורך טקסט משובץ
 Name[hi]=अंतर्निर्मित पाठ संपादक
+Name[hr]=Ugrađeni uređivač teksta
 Name[hu]=Beágyazott szövegszerkesztő
 Name[is]=Ívafinn textaritill
 Name[it]=Editor di testi integrato
@@ -77,7 +78,7 @@
 Comment[he]=שירות עורך הטקסט מספק לתוכניות יכולות הצגה ועריכת טקסט. תוכנות של KDE שמספקות אמצעים לעריכת טקסט ישתמשו בשירות זה.
 Comment[hi]=पाठ संपादक सेवा में पाठ प्रदर्शक तथा संपादक अनुप्रयोग मिलते हैं. केडीई अनुप्रयोग जो पाठ संपादन सुविधा प्रदान करते हैं उन्हें यह सेवा प्रयोग करना चाहिए.
 Comment[hne]=पाठ संपादक सेवा मं पाठ प्रदर्सक अउ संपादक अनुपरयोग मिलथे. केडीई अनुपरयोग जऊन पाठ संपादन सुविधा प्रदान करथे ओ मन ल ए सेवा परयोग करना चाही.
-Comment[hr]=Usluga tekstualnog uređivača aplikacijama omugućuje pregledavanje i uređivanje teksta. KDE aplikacije koje omogućuju uređivanje teksta trebale bi upotrebljavati ovo sučelje.
+Comment[hr]=Usluga tekstualnog uređivača omugućuje aplikacijama pregledavanje i uređivanje teksta. KDE aplikacije koje omogućuju uređivanje teksta trebale bi upotrebljavati ovu uslugu.
 Comment[hsb]=Wobdźěłanje teksta staji programam wobdźěłarja a wobhladowarja teksta k dispoziciji. KDE-aplikacije, kiž tajke něšto trjebaja, měli tutón serwis wužiwać.
 Comment[hu]=A szövegszerkesztő szolgáltatáson keresztül az alkalmazások szövegek megtekintését és szerkesztését végezhetik el. A KDE szövegszerkesztő programjai használhatják.
 Comment[is]=Ívafni ritillinn færir forritum texta-skoðara og ritil.  KDE forrit sem birta ritil til textavinnslu ættu að nota þessa þjónustu.
@@ -90,7 +91,7 @@
 Comment[ku]=Servîsa edîtora nivîsê sepanên bi nîşanderê nivîsê û edîtorê nivîsê re peyda dike. Sepanên KDE yên ku derfetên nivîsandinê peyda dike divê vê servîsê bi kar bîne.
 Comment[lb]=Den Texeditor-Service stellt Programmer en Textlieser an en Texteditor zur Verfügung.KDE-Programmer, déi Textmanipuléierungsfunktiounen ubidden, sollen dëse Service benotzen.
 Comment[lt]=Teksto redaktoriaus tarnyba pateikia programoms teksto žiūriklį ir redaktorių.  KDE programos, leidžiančios redaguoti tekstą, turėtų naudoti šią tarnybą.
-Comment[lv]=Teksta redaktora serviss sniedz teksta aplūkošanas un rediģēšanas pakalpojumus programmām. KDE programmām, kurām tas ir nepieciešams, vajadzētu izmantot šo servisu.
+Comment[lv]=Teksta redaktora serviss sniedz teksta aplūkošanas un rediģēšanas pakalpojumus programmām. Tām KDE programmām, kurām tas ir nepieciešams, vajadzētu izmantot šo servisu.
 Comment[mai]=पाठ संपादक सेवामे पाठ प्रदर्शक आओर संपादक अनुप्रयोग भेटैछ. केडीइ अनुप्रयोग जे पाठ संपादन सुविधा दैछ ओकरा ई सेवाक प्रयोग कएनाइ चाही.
 Comment[mk]=Сервисот за текст уредувач ги снабдува апликациите со текст прегледник и уредувач. KDE апликациите што овозможуваат уредување текст би требало да го користат овој сервис.
 Comment[ml]=ടെക്സ്റ്റ് എഴുത്തിടത്തിന്റെ സേവനം പ്രയോഗങ്ങള്‍ക്കു് പദാവലി കാണാനും മാറ്റാനുമുള്ള സംവിധാനം ഒരുക്കുന്നു. പദാവലി ലേഖനം ചെയ്യാനുള്ള സൌകര്യങ്ങളൊരുക്കുന്ന കെഡിഇയിലെ പ്രയോഗങ്ങള്‍ ഈ സേവനം ഉപയോഗിയ്ക്കണം.
Index: knotify/tests/knotifytest.notifyrc
===================================================================
--- knotify/tests/knotifytest.notifyrc	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ knotify/tests/knotifytest.notifyrc	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -28,6 +28,7 @@
 Comment[he]=בדיקה עבור Knotify
 Comment[hi]=के-नोटिफ़ाई के लिए जाँच
 Comment[hne]=के-नोटिफाई बर जांच
+Comment[hr]=Proba za Knotify
 Comment[hsb]=Test za Knotify
 Comment[hu]=A KNotify tesztelése
 Comment[is]=Prófun á Knotify
@@ -104,6 +105,7 @@
 Name[he]=קבוצה
 Name[hi]=समूह
 Name[hne]=समूह
+Name[hr]=Grupa
 Name[hsb]=Skupina
 Name[hu]=Csoport
 Name[is]=Hópur
@@ -179,6 +181,7 @@
 Comment[he]=הקבוצה
 Comment[hi]=समूह 
 Comment[hne]=समूह 
+Comment[hr]=Grupa
 Comment[hsb]=Skupina
 Comment[hu]=A csoport
 Comment[is]=Hópurinn
@@ -253,6 +256,7 @@
 Name[he]=מחובר
 Name[hi]=ऑनलाइन
 Name[hne]=आनलाइन
+Name[hr]=Povezan
 Name[is]=Tengd(ur)
 Name[it]=In linea
 Name[ja]=オンライン
@@ -323,6 +327,7 @@
 Comment[he]=איש הקשר מחובר כעת
 Comment[hi]=संपर्क जुड़ गया है
 Comment[hne]=संपर्क जुड़ गे हे
+Comment[hr]=Kontakt je sada spojen
 Comment[hsb]=Kontakt je nětko nawjazany
 Comment[hu]=A partner csatlakozott (online állapotú)
 Comment[is]=Tengiliðurinn er tengdur núna
@@ -402,6 +407,7 @@
 Name[he]=ההודעה התקבלה
 Name[hi]=संदेश प्राप्त
 Name[hne]=संदेस प्राप्त
+Name[hr]=Primljena poruka
 Name[hsb]=Powěsć dóstata
 Name[hu]=Üzenet érkezett
 Name[hy]=Հաղորդագրությունը ստացված է
@@ -479,6 +485,7 @@
 Comment[he]=ההודעה נשלחה
 Comment[hi]=संदेश प्राप्त हो गया है
 Comment[hne]=संदेस प्राप्त हो गे हे
+Comment[hr]=Poruka je primljena
 Comment[hsb]=Powěsć je so dóstała
 Comment[hu]=Üzenet érkezett
 Comment[is]=Tekið hefur verið á móti skilaboðum
Index: kate/render/katerenderer.h
===================================================================
--- kate/render/katerenderer.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/render/katerenderer.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -205,7 +205,7 @@
     /**
      * This is a smaller QString::isRightToLeft(). It's also marked as internal to kate
      * instead of internal to Qt, so we can modify. This method searches for the first
-     * strong character in the paragraph and then returns it's direction. In case of a 
+     * strong character in the paragraph and then returns its direction. In case of a 
      * line without any strong characters, the direction is forced to be LTR.
      * 
      * Back in KDE 4.1 this method counted chars, which lead to unwanted side effects.
Index: kate/plugins/kdatatool/ktexteditor_kdatatool.desktop
===================================================================
--- kate/plugins/kdatatool/ktexteditor_kdatatool.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/plugins/kdatatool/ktexteditor_kdatatool.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -41,6 +41,7 @@
 Name[he]=כלי נתונים
 Name[hi]=डेटा औजार
 Name[hne]=डाटा औजार
+Name[hr]=Podatkovni alati
 Name[hsb]=Datowe nastroje
 Name[hu]=Adatkezelő programok
 Name[is]=Gagnatól
@@ -116,7 +117,7 @@
 Comment[he]=מאפשר שימוש בכלי נתונים כגון אגרון מילים ובודק איות (אם מותקנים כלים כאלה)
 Comment[hi]=डाटा औजार जैसे कि थिसॉरस और वर्तनी जांचक (यदि संस्थापित हैं) को सक्षम करें
 Comment[hne]=डाटा औजार जइसन कि थिसारस अउ हिज्जा जांचक (यदि इनस्टाल हे) ल सक्छम करव
-Comment[hr]=Omogućavanje alata poput tezaurusa i provjere pravopisa (ako su instalirani)
+Comment[hr]=Omogućavanje alata poput rječnika sinonima i antonima, te provjere pravopisa (ako su instalirani)
 Comment[hsb]=Staja graty kaž tezawrus abo prawopisnu kontrolu k dispoziciji (jeli instalowane)
 Comment[hu]=Adatkezelő eszközök (pl. szinonimaszótár, helyesírás-ellenőrző) támogatása
 Comment[is]=Virkir gagnatól eins og stafsetningaforrit og leiðréttingar (ef uppsett)
@@ -129,7 +130,7 @@
 Comment[ku]=Amûrên dane wekî ferheng û kontrola rastnivîsê (heke saz kirî be) çalak bike
 Comment[lb]=Hëllefsprogrammer, wéi Thésaurus an Rechtschreifkontroll, uschalten (wann installéiert)
 Comment[lt]=Įjungia duomenų įrankius, tokius kaip sinonimų žodynas ir rašybos tikrinimas (jei įdiegta)
-Comment[lv]=Ieslēdz instalētos datu rīkus kā tēzaurs un pareizrakstības pārbaudītājs
+Comment[lv]=Ieslēdz instalētos datu rīkus, tādus kā tēzaurs un pareizrakstības pārbaudītājs
 Comment[mai]=डाटा अओजार जहिना जे थेसारस आओर वर्तनी जांचक (जँ संस्थापित अछि) केँ सक्षम करू
 Comment[mk]=Овозможување на алатки како енциклопедија или проверка на правопис (ако се инсталирани)
 Comment[ml]=അക്ഷര വിന്യാസ പരിശോധന, നാനാര്‍ത്ഥങ്ങള്‍ മുതലായ ഡാറ്റയോടൊപ്പമുപയോഗിയ്ക്കാവുന്ന ഉപകരണങ്ങള്‍ നിലവിലുണ്ടെങ്കില്‍ ഉപയോഗിയ്ക്കുക
Index: kate/plugins/insertfile/ktexteditor_insertfile.desktop
===================================================================
--- kate/plugins/insertfile/ktexteditor_insertfile.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/plugins/insertfile/ktexteditor_insertfile.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -44,6 +44,7 @@
 Name[he]=הוספת קובץ
 Name[hi]=फ़ाइल प्रविष्ट करें
 Name[hne]=फाइल भरव
+Name[hr]=Umetni datoteku
 Name[hsb]=Dokument zasunyć
 Name[hu]=Fájl beszúrása
 Name[is]=Skjóta inn skrá
@@ -124,7 +125,7 @@
 Comment[he]=מוסיף כל קובץ הניתן לקריאה במיקום הסמן
 Comment[hi]=संकेतक के स्थान पर कोई भी पढ़ने योग्य फ़ाइल प्रविष्ट करें
 Comment[hne]=संकेतक के जगह तिर कोनो पढ़े जा सके फाइल भरव
-Comment[hr]=Na položaju pokazivača umetnite bilo koju čitljivu datoteku
+Comment[hr]=Na položaj pokazivača umetnite bilo koju čitljivu datoteku
 Comment[hsb]=Zasunje lubowólnu čitajomnu dataju na poziciji cursora
 Comment[hu]=Tetszőleges olvasható fájl beszúrása a kurzorpozíciónál
 Comment[is]=Setur inn hvaða lesanlegu skrá sem er í stöðu bendilsins
Index: kate/plugins/autobookmarker/ktexteditor_autobookmarker.desktop
===================================================================
--- kate/plugins/autobookmarker/ktexteditor_autobookmarker.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/plugins/autobookmarker/ktexteditor_autobookmarker.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -39,6 +39,7 @@
 Name[he]=מוסיף סימניות אוטומטי
 Name[hi]=आटोबुकमार्कर
 Name[hne]=आटोबुकमार्कर
+Name[hr]=Samostalni dodavač knjižnih kratica
 Name[hsb]=Awtobookmarker
 Name[hu]=Automatikus könyvjelzők
 Name[is]=Sjálfvirkur bókamerkjari
@@ -128,7 +129,7 @@
 Comment[ku]=Danîşanan ava bike ser rêzên hevgirtî bi mînak re demê pelên nivîsê tên bar kirin 
 Comment[lb]=Setzt Lieszeechen op d'Zeilen, déi ee bestëmmtent Muster enthalen, wann d'Dokument geluede gëtt
 Comment[lt]=Įterpia žymeles eilutėse, kurios atitinka tam tikrą derinį, dokumento įkėlimo metu
-Comment[lv]=Ielādējot dokumentu, liek grāmatzīmes rindām, kuras atbilst norādītajam paraugam
+Comment[lv]=Ielādējot dokumentu, uzstāda grāmatzīmes tām rindām, kuras atbilst norādītajam paraugam
 Comment[mai]=जखन दस्ताबेज लोड होइछ तँ पैटर्न सँ मिलति जुलति पुस्तचिन्ह पंक्तिमे सेट करू
 Comment[mk]=Постава обележувачи на линиите кои се поклопуваат со шема кога документите се вчитуваат
 Comment[ml]=ഡോകുമെന്റുകള്‍ എടുക്കുമ്പോള്‍ ഒരു പ്രത്യേക പാറ്റേണുമായി യോജിക്കുന്ന വരികളുടെ ഓര്‍മ്മക്കുറിപ്പ്  രേഖപ്പെടുത്തുക
Index: kate/plugins/pythonencoding/ktexteditor_python-encoding.desktop
===================================================================
--- kate/plugins/pythonencoding/ktexteditor_python-encoding.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/plugins/pythonencoding/ktexteditor_python-encoding.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -23,6 +23,7 @@
 Name[gu]=પાયથોન એનકોડિંગ ચકાસનાર/ઉમેરનાર
 Name[he]=בודק/מוסיף קידוד Python 
 Name[hne]=पायथन एनकोडिंग जंचइया/जोड़इया
+Name[hr]=Provjeravač/dodavač enkodinga u Pythonu
 Name[hu]=Python kódolásellenőrző
 Name[is]=Python kóðaprófun/línuendingar
 Name[it]=Controllo/aggiunta codifica per Python
@@ -82,6 +83,7 @@
 Comment[gu]=પાયથોન ફાઇલો સંગ્રહ કરતી વખતે એનકોડિંગ ચકાસો અને એનકોડિંગ વાક્ય ઉમેરો
 Comment[he]=בעת שמירה בדוק את הקידוד של קבצי פייתון והוסף שורת קידוד
 Comment[hne]=पायथन फाइल के एनकोडिंग जांचे अऊ एनकोडिंग लाइन जोड़े के बेरा में
+Comment[hr]=Prilikom spremanja provjerite enkoding pyhtonovih datoteka i dodajte liniju s enkodingom
 Comment[hsb]=Přepruwuje koděrowanje python-datajow a doda linku z informaciju wo koděrowanju
 Comment[hu]=Mentéskor ellenőrzi vagy létrehozza a kódolást megadó sort
 Comment[is]=Þegar python skrár eru vistaðar er farið yfir kóðann og bætt við endalínum
@@ -92,7 +94,7 @@
 Comment[kn]=ಉಳಿಸುವಾಗ ಪೈಥಾನ್ ಕಡತಗಳ ಸಂಕೇತೀಕರಣವನ್ನು (ಎಂಕೋಡಿಂಗ್) ಪರಿಶೀಲಿಸಿ, ಸಂಕೇತೀಕರಣ ಸಾಲನ್ನು ಸೇರಿಸು
 Comment[ko]=파이썬 파일을 저장할 때 인코딩을 검사하여 인코딩 줄 추가하기
 Comment[ku]=Demê tomar kirinê de kod kirina pelên python kontrol bike û rêzekê kod kirinê lê zêde bike
-Comment[lv]=Saglabājot, pārbauda kodējumu python failiem un pievienojo kodējuma rindu
+Comment[lv]=Saglabājot pārbauda kodējumu python failiem un pievieno kodējuma rindu
 Comment[mai]=सहेजबाक काले पाएथनक एनकोडिंग जाँचू आओर कोनो एनकोडिंग फाइलकेँ जोड़ू
 Comment[ml]=സൂക്ഷിയ്ക്കുമ്പോള്‍ പൈത്തണ്‍ ഫയലുകളുടെ എന്‍കോഡിങ്ങ് പരിശോദിയ്ക്കുകയും എന്‍കോഡിങ്ങ് വരി ചേര്‍ക്കുകയും ചെയ്യുക
 Comment[nb]=Under lagring sjekkes tegnkodingen i Python-filer og en tegnkodingslinje legges inn
Index: kate/plugins/timedate/ktexteditor_timedate_config.desktop
===================================================================
--- kate/plugins/timedate/ktexteditor_timedate_config.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/plugins/timedate/ktexteditor_timedate_config.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -33,6 +33,7 @@
 Name[he]=הגדרות תבנית התאריך והשעה המוספים
 Name[hi]=समय व तिथि भरने का फ़ॉर्मेट
 Name[hne]=समय व तारीक भरे के फारमेट
+Name[hr]=Format vremena & Unos datuma
 Name[hsb]=Format časa a datuma, kiž so zasunjetej
 Name[hu]=A beszúrt dátum és idő formátuma
 Name[is]=Snið innskotins tíma- og dagsetningar
Index: kate/plugins/timedate/ktexteditor_timedate.desktop
===================================================================
--- kate/plugins/timedate/ktexteditor_timedate.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/plugins/timedate/ktexteditor_timedate.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -45,6 +45,7 @@
 Name[he]=תאריך ושעה
 Name[hi]=समय व तिथि
 Name[hne]=समय व तारीक
+Name[hr]=Vrijeme & Datum
 Name[hsb]=Čas a datum
 Name[hu]=Dátum és idő
 Name[hy]=Ժամ և Ամսաթիվ
@@ -121,6 +122,7 @@
 Comment[he]=הוספת התאריך והשעה הנוכחיים
 Comment[hi]=वर्तमान समय व तिथि प्रविष्ट करें
 Comment[hne]=अभी हाल के समय व तारीक भरव
+Comment[hr]=Unesi trenutno vrijeme & datum
 Comment[hsb]=Zasunje aktualny čas a datum
 Comment[hu]=Az aktuális dátum és idő beszúrása
 Comment[hy]=Մտցրեք ընթացիք Ժամը և Ամսաթիվը
Index: kate/syntax/data/gettext.xml
===================================================================
--- kate/syntax/data/gettext.xml	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/syntax/data/gettext.xml	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -66,7 +66,7 @@
 
       <!--
         Tag-context should be carried over if split by string continuation,
-        to not loose markup highlighting when that happens.
+        to not lose markup highlighting when that happens.
       -->
       <context name = "String" attribute = "String" lineEndContext="#stay">
         <RegExpr attribute = "Char" String="\\." context="#stay"/>
Index: kate/utils/kateprinter.cpp
===================================================================
--- kate/utils/kateprinter.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kate/utils/kateprinter.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -79,6 +79,7 @@
     parentWidget=QApplication::activeWindow();
 
   QPrintDialog *printDialog = KdePrint::createPrintDialog(&printer, tabs, parentWidget);
+  printDialog->setOption( QAbstractPrintDialog::PrintPageRange, false);
 
   if ( doc->activeView()->selection() )
     printDialog->addEnabledOption(QAbstractPrintDialog::PrintSelection);
Index: kfile/kurlbutton.cpp
===================================================================
--- kfile/kurlbutton.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kfile/kurlbutton.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -123,7 +123,7 @@
     QAction* activatedAction = popup.exec(QCursor::pos());
     if (activatedAction == copyAction) {
         QMimeData* mimeData = new QMimeData();
-        mimeData->setText(m_urlNavigator->url().prettyUrl());
+        mimeData->setText(m_urlNavigator->url().pathOrUrl());
         clipboard->setMimeData(mimeData);
     } else if (activatedAction == pasteAction) {
         m_urlNavigator->setUrl(KUrl(clipboard->text()));
Index: kross/core/action.h
===================================================================
--- kross/core/action.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kross/core/action.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -143,7 +143,7 @@
              * contains details about e.g. the displayed text, the file to
              * execute or the used interpreter.
              * 
-             * \param searchPath List of directories where to search the script if it's path is relative
+             * \param searchPath List of directories where to search the script if its path is relative
              * First item is given the highest priority.
              */
             void fromDomElement(const QDomElement& element, const QStringList& searchPath/* = QStringList()*/);
Index: doc/common/Doxyfile.global
===================================================================
--- doc/common/Doxyfile.global	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ doc/common/Doxyfile.global	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -189,6 +189,7 @@
 GENERATE_AUTOGEN_DEF   = NO
 DETAILS_AT_TOP         = YES
 SORT_MEMBER_DOCS       = YES
+SORT_MEMBERS_CONSTRUCTORS_FIRST = YES
 GENERATE_TODOLIST      = YES
 IGNORE_PREFIX          = K
 CLASS_GRAPH            = YES
Index: kioslave/file/file.cpp
===================================================================
--- kioslave/file/file.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kioslave/file/file.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1146,7 +1146,7 @@
         error( KIO::ERR_COULD_NOT_UNMOUNT, i18n("Could not find program \"umount\""));
         return;
     }
-    buffer = umountProg + QFile::encodeName(KShell::quoteArg(_point)) + " 2>" + tmpFileName;
+    buffer = umountProg + ' ' + QFile::encodeName(KShell::quoteArg(_point)) + " 2>" + tmpFileName;
     system( buffer.constData() );
 #endif /* HAVE_VOLMGT */
 
Index: kioslave/http/kcookiejar/tests/kcookiejartest.cpp
===================================================================
--- kioslave/http/kcookiejar/tests/kcookiejartest.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kioslave/http/kcookiejar/tests/kcookiejartest.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -277,7 +277,7 @@
     {
         QTest::addColumn<QString>("fqdn");
         QTest::addColumn<QStringList>("expectedDomains");
-        QTest::newRow("empty") << "" << QStringList();
+        QTest::newRow("empty") << "" << (QStringList() << "localhost");
         QTest::newRow("ipv4") << "1.2.3.4" << (QStringList() << "1.2.3.4");
         QTest::newRow("ipv6") << "[fe80::213:d3ff:fef4:8c92]" << (QStringList() << "[fe80::213:d3ff:fef4:8c92]");
         QTest::newRow("bugs.kde.org") << "bugs.kde.org" << (QStringList() << "bugs.kde.org" << ".bugs.kde.org" << "kde.org" << ".kde.org");
Index: kioslave/http/kcookiejar/kcookiejar.desktop
===================================================================
--- kioslave/http/kcookiejar/kcookiejar.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kioslave/http/kcookiejar/kcookiejar.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -113,7 +113,7 @@
 Comment[he]=עוקב אחר כל העוגיות במערכת
 Comment[hi]=तंत्र में सभी कुकी का अता-पता बनाए रखता है
 Comment[hne]=तंत्र मं सब्बो कुकी के अता-पता बनाए रखथे 
-Comment[hr]=Vođenje evidencije o svim kolačićima na sustavu
+Comment[hr]=Vodi evidenciju o svim kolačićima u sustavu
 Comment[hsb]=Stara so wo wšě placki w systemje
 Comment[hu]=Nyomon követi a rendszerben létrejövő cookie-kat
 Comment[is]=Heldur utanum allar smákökur í kerfinu
Index: kioslave/http/http_cache_cleaner.desktop
===================================================================
--- kioslave/http/http_cache_cleaner.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kioslave/http/http_cache_cleaner.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -32,7 +32,7 @@
 Name[he]=מנקה מטמון ה־HTTP
 Name[hi]=एचटीटीपी कैच क्लीनर
 Name[hne]=एचटीटीपी कैच क्लीनर
-Name[hr]=Brisanje HTTP pohrane
+Name[hr]=Brisač HTTP-ove međumemorije
 Name[hu]=HTTP gyorstártisztító
 Name[is]=Hreinsiforrit HTTP skyndiminnis
 Name[it]=Ripulitore della cache HTTP
@@ -117,7 +117,7 @@
 Comment[he]=מנקה רשומות ישנות ממטמון ה־HTTP
 Comment[hi]=एचटीटीपी कैच से पुरानी प्रविष्टियों को साफ करता है
 Comment[hne]=एचटीटीपी कैच से जुन्ना प्रविस्टि मन ल साफ करथे 
-Comment[hr]=Uklanjanje starih datoteka iz HTTP privremene lokalne pohrane
+Comment[hr]=Uklanjanje starih unosa iz HTTP-ove međumemorije
 Comment[hsb]=Wumaza stare zapisy z temporerneho pomjatka HTTP
 Comment[hu]=Kitörli a régi bejegyzéseket a HTTP gyorstárból
 Comment[is]=Hreinsar gamlar færslur úr HTTP skyndiminninu
Index: nepomuk/core/variant.cpp
===================================================================
--- nepomuk/core/variant.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ nepomuk/core/variant.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1067,13 +1067,21 @@
 
 QList<QUrl> Nepomuk::Variant::toUrlList() const
 {
-    if( isUrl() ) {
+    if( isUrl() || isResource() ) {
         QList<QUrl> l;
         l.append( toUrl() );
         return l;
     }
-    else
+    else if( isResourceList() ) {
+        QList<QUrl> l;
+        QList<Resource> rl = toResourceList();
+        foreach(const Resource& r, rl)
+            l << r.resourceUri();
+        return l;
+    }
+    else {
         return d->value.value<QList<QUrl> >();
+    }
 }
 
 
Index: nepomuk/core/ontology/class.cpp
===================================================================
--- nepomuk/core/ontology/class.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ nepomuk/core/ontology/class.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -81,11 +81,14 @@
         Soprano::QueryResultIterator it
             = ResourceManager::instance()->mainModel()->executeQuery( QString("select distinct ?s where { "
                                                                               "{ ?s a <%1> . } UNION { ?s a <%2> . } "
-                                                                              "OPTIONAL { ?s <%3> ?ss . } . "
+                                                                              "OPTIONAL { graph ?g { ?s <%3> ?ss . } . "
+                                                                              "{ ?g a <%4> . } UNION { ?g a <%5> . } . } . "
                                                                               "FILTER(!BOUND(?ss)) . }")
                                                                       .arg( Soprano::Vocabulary::RDFS::Class().toString() )
                                                                       .arg( Soprano::Vocabulary::OWL::Class().toString() )
-                                                                      .arg( Soprano::Vocabulary::RDFS::subClassOf().toString() ),
+                                                                      .arg( Soprano::Vocabulary::RDFS::subClassOf().toString() )
+                                                                      .arg( Soprano::Vocabulary::NRL::Ontology().toString() )
+                                                                      .arg( Soprano::Vocabulary::NRL::KnowledgeBase().toString() ),
                                                                       Soprano::Query::QueryLanguageSparql );
         bool success = false;
         while ( it.next() ) {
@@ -137,7 +140,7 @@
 {
     // load domains with a hack to get at least a subset of properties that inherit their domain from parents
     Soprano::QueryResultIterator it
-        = ResourceManager::instance()->mainModel()->executeQuery( QString("select ?p where { "
+        = ResourceManager::instance()->mainModel()->executeQuery( QString("select distinct ?p where { "
                                                                           "{ ?p <%1> <%2> . } "
                                                                           "UNION "
                                                                           "{ ?p <%3> ?p1 . "
Index: nepomuk/core/ui/kautoscrollarea.h
===================================================================
--- nepomuk/core/ui/kautoscrollarea.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ nepomuk/core/ui/kautoscrollarea.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -51,7 +51,7 @@
      * Auto scrolling can take place in two directions but only
      * one at a time. The other direction will not be scrollable
      * at all and KAutoScrollArea will adjust the child's size
-     * to it's own.
+     * to its own.
      */
     void setOrientation( Qt::Orientation );
 
Index: nepomuk/core/ui/kratingwidget.h
===================================================================
--- nepomuk/core/ui/kratingwidget.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ nepomuk/core/ui/kratingwidget.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -182,7 +182,7 @@
     /**
      * Set the recommended size of the pixmaps. This is
      * only used for the sizeHint. The actual size is always
-     * dependant on the size of the widget itself.
+     * dependent on the size of the widget itself.
      */
     void setPixmapSize( int size );
 
Index: kimgio/qimageio_plugin.desktop
===================================================================
--- kimgio/qimageio_plugin.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kimgio/qimageio_plugin.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -28,6 +28,7 @@
 Comment[he]=תוסף QImageIOHandler
 Comment[hi]=क्यूइमेजआईओहैंडलर प्लगइन
 Comment[hne]=क्यूइमेजआईओ हेंडलर प्लगइन
+Comment[hr]=QImageIOHandler priključak
 Comment[hu]=QImageIOHandler modul
 Comment[is]=QImageIOHandler íforrit
 Comment[it]=Plugin QImageIOHandler
Index: kio/kfileplugin.desktop
===================================================================
--- kio/kfileplugin.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kfileplugin.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -30,7 +30,7 @@
 Name[he]=תוסף מידע קובץ עבור KFile
 Name[hi]=के-फ़ाइल मेटा डाटा प्लगइन
 Name[hne]=के-फाइल मेटा डाटा प्लगइन
-Name[hr]=KFile dodatak za meta-podatke
+Name[hr]=KFile priključak za meta-podatke 
 Name[hsb]=KFile-zašćěpka za Meta-Data
 Name[hu]=KFile metaadat-modul
 Name[is]=KFile metagagna-íforrit
@@ -43,7 +43,7 @@
 Name[ku]=Pêveka KPel Ser Dane
 Name[lb]=KFile-Metadonnéeë-Plugin
 Name[lt]=KFile Meta duomenų priedas
-Name[lv]=KFile meta datu spraudnis
+Name[lv]=KFile metadatu spraudnis
 Name[mai]=के-फाइल मेटा डाटा प्लगइन
 Name[mk]=KFile приклучок за мета податоци
 Name[ml]=കെഫയല്‍ മെറ്റാ ഡാറ്റയ്ക്കായുള്ള സംയോജകം
Index: kio/kio/global.cpp
===================================================================
--- kio/kio/global.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/global.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1242,3 +1242,47 @@
 {
     return globalJobTracker;
 }
+
+
+/***************************************************************
+ *
+ * KIO::MetaData
+ *
+ ***************************************************************/
+KIO::MetaData::MetaData(const QMap<QString,QVariant>& map)
+{
+  *this = map;
+}
+
+KIO::MetaData & KIO::MetaData::operator += ( const QMap<QString,QVariant> &metaData )
+{
+  QMap<QString,QVariant>::ConstIterator it;
+  
+  for(it = metaData.constBegin(); it !=  metaData.constEnd(); ++it)
+     insert(it.key(), it.value().toString());
+
+  return *this;
+}
+
+KIO::MetaData & KIO::MetaData::operator = ( const QMap<QString,QVariant> &metaData )
+{
+  clear();
+
+  QMap<QString,QVariant>::ConstIterator it;
+  for(it = metaData.constBegin(); it !=  metaData.constEnd(); ++it)
+     insert(it.key(), it.value().toString());
+
+  return *this;
+}
+
+QVariant KIO::MetaData::toVariant() const
+{
+ QMap<QString, QVariant> map;
+ QMap<QString,QString>::ConstIterator it;
+ QMap<QString,QString>::ConstIterator itEnd = constEnd();
+
+ for(it = constBegin(); it != itEnd; ++it)
+   map.insert(it.key(), it.value());
+
+ return QVariant(map);
+}
Index: kio/kio/tcpslavebase.cpp
===================================================================
--- kio/kio/tcpslavebase.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/tcpslavebase.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -318,6 +318,7 @@
                                     "WarnOnLeaveSSLMode");
 
             if (result == KMessageBox::Cancel) {
+                error(ERR_USER_CANCELED, host);
                 return false;
             }
         }
Index: kio/kio/accessmanagerreply_p.cpp
===================================================================
--- kio/kio/accessmanagerreply_p.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/accessmanagerreply_p.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -29,6 +29,7 @@
 
 #include <QSslConfiguration>
 #include <QTimer>
+#include <QPointer>
 
 namespace KDEPrivate {
 
@@ -48,7 +49,7 @@
 
     AccessManagerReply *q;
 
-    KIO::Job *m_kioJob;
+    QPointer<KIO::Job> m_kioJob;
     QByteArray m_data;
     bool m_metaDataRead;
 };
@@ -127,13 +128,19 @@
         if (!headers.isEmpty()) {
             QStringList headerList = headers.split('\n');
             Q_FOREACH(const QString &header, headerList) {
+                if (header.startsWith(QLatin1String("set-cookie"), Qt::CaseInsensitive)) {
+                    //kDebug() << "Ignored header: " << header;
+                    continue;
+                }
                 const QStringList headerPair = header.split(": ");
                 if (headerPair.size() == 2) {
-//                     kDebug() << headerPair.at(0) << headerPair.at(1);
+                    //kDebug() << headerPair.at(0) << headerPair.at(1);
                     setRawHeader(headerPair.at(0).toUtf8(), headerPair.at(1).toUtf8());
                 }
             }
         }
+
+        setAttribute(QNetworkRequest::User, kioJob->metaData().toVariant());
         d->m_metaDataRead = true;
     }
 
@@ -154,54 +161,54 @@
     switch (kJob->error())
     {
         case 0:
-            setError(QNetworkReply::NoError, errorString());
+            setError(QNetworkReply::NoError, kJob->errorText());
             kDebug() << "0 -> QNetworkReply::NoError";
             break;
         case KIO::ERR_COULD_NOT_CONNECT:
-            setError(QNetworkReply::ConnectionRefusedError, errorString());
-            kDebug() << "KIO::ERR_COULD_NOT_CONNECT -> KIO::ERR_COULD_NOT_CONNECT";
+            setError(QNetworkReply::ConnectionRefusedError, kJob->errorText());
+            kDebug() << "KIO::ERR_COULD_NOT_CONNECT -> QNetworkReply::ConnectionRefusedError";
             break;
         case KIO::ERR_UNKNOWN_HOST:
-            setError(QNetworkReply::HostNotFoundError, errorString());
+            setError(QNetworkReply::HostNotFoundError, kJob->errorText());
             kDebug() << "KIO::ERR_UNKNOWN_HOST -> QNetworkReply::HostNotFoundError";
             break;
         case KIO::ERR_SERVER_TIMEOUT:
-            setError(QNetworkReply::TimeoutError, errorString());
+            setError(QNetworkReply::TimeoutError, kJob->errorText());
             kDebug() << "KIO::ERR_SERVER_TIMEOUT -> QNetworkReply::TimeoutError";
             break;
         case KIO::ERR_USER_CANCELED:
         case KIO::ERR_ABORTED:
-            setError(QNetworkReply::OperationCanceledError, errorString());
+            setError(QNetworkReply::OperationCanceledError, kJob->errorText());
             kDebug() << "KIO::ERR_ABORTED -> QNetworkReply::OperationCanceledError";
             break;
         case KIO::ERR_UNKNOWN_PROXY_HOST:
-            setError(QNetworkReply::ProxyNotFoundError, errorString());
+            setError(QNetworkReply::ProxyNotFoundError, kJob->errorText());
             kDebug() << "KIO::UNKNOWN_PROXY_HOST -> QNetworkReply::ProxyNotFoundError";
             break;
         case KIO::ERR_ACCESS_DENIED:
-            setError(QNetworkReply::ContentAccessDenied, errorString());
+            setError(QNetworkReply::ContentAccessDenied, kJob->errorText());
             kDebug() << "KIO::ERR_ACCESS_DENIED -> QNetworkReply::ContentAccessDenied";
             break;
         case KIO::ERR_WRITE_ACCESS_DENIED:
-            setError(QNetworkReply::ContentOperationNotPermittedError, errorString());
+            setError(QNetworkReply::ContentOperationNotPermittedError, kJob->errorText());
             kDebug() << "KIO::ERR_WRITE_ACCESS_DENIED -> QNetworkReply::ContentOperationNotPermittedError";
             break;
         case KIO::ERR_NO_CONTENT:
         case KIO::ERR_DOES_NOT_EXIST:
-            setError(QNetworkReply::ContentNotFoundError, errorString());
+            setError(QNetworkReply::ContentNotFoundError, kJob->errorText());
             kDebug() << "KIO::ERR_DOES_NOT_EXIST -> QNetworkReply::ContentNotFoundError";
             break;
         case KIO::ERR_COULD_NOT_AUTHENTICATE:
-            setError(QNetworkReply::AuthenticationRequiredError, errorString());
+            setError(QNetworkReply::AuthenticationRequiredError, kJob->errorText());
             kDebug() << kJob->error();
             break;
         case KIO::ERR_UNSUPPORTED_PROTOCOL:
         case KIO::ERR_NO_SOURCE_PROTOCOL:
-            setError(QNetworkReply::ProtocolUnknownError, errorString());
+            setError(QNetworkReply::ProtocolUnknownError, kJob->errorText());
             kDebug() << kJob->error();
             break;
         case KIO::ERR_UNSUPPORTED_ACTION:
-            setError(QNetworkReply::ProtocolInvalidOperationError, errorString());
+            setError(QNetworkReply::ProtocolInvalidOperationError, kJob->errorText());
             kDebug() << kJob->error();
             break;
         default:
Index: kio/kio/jobuidelegate.cpp
===================================================================
--- kio/kio/jobuidelegate.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/jobuidelegate.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -80,7 +80,7 @@
                                                      ctimeSrc, ctimeDest, mtimeSrc,
                                                      mtimeDest);
     KIO::RenameDialog_Result res = static_cast<RenameDialog_Result>(dlg.exec());
-    newDest = dlg.newDestUrl().toLocalFile();
+    newDest = dlg.newDestUrl().path();
     return res;
 }
 
Index: kio/kio/kfileitem.cpp
===================================================================
--- kio/kio/kfileitem.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/kfileitem.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -532,6 +532,9 @@
 {
     d->m_strName = name;
     d->m_strText = KIO::decodeFileName( d->m_strName );
+    if (d->m_entry.contains(KIO::UDSEntry::UDS_NAME))
+        d->m_entry.insert(KIO::UDSEntry::UDS_NAME, d->m_strName); // #195385
+
 }
 
 QString KFileItem::linkDest() const
Index: kio/kio/kautomount.cpp
===================================================================
--- kio/kio/kautomount.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/kautomount.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -108,7 +108,7 @@
 };
 
 KAutoUnmount::KAutoUnmount( const QString & _mountpoint, const QString & _desktopFile )
-    : d( new KAutoUnmountPrivate(this, _desktopFile, _mountpoint) )
+    : d( new KAutoUnmountPrivate(this, _mountpoint, _desktopFile) )
 {
     KIO::Job * job = KIO::unmount( d->m_mountpoint );
     connect( job, SIGNAL( result( KJob * ) ), this, SLOT( slotResult( KJob * ) ) );
Index: kio/kio/kfilewrite.desktop
===================================================================
--- kio/kio/kfilewrite.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/kfilewrite.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -30,6 +30,7 @@
 Comment[he]=תוסף KFileWrite
 Comment[hi]=के-फ़ाइल-राइट प्लगइन
 Comment[hne]=के-फाइल-राइट प्लगइन
+Comment[hr]=KFileWrite priključak
 Comment[hsb]=KFileWrite-zašćěpka
 Comment[hu]=KFileWrite modul
 Comment[is]=KFileWrite íforrit
Index: kio/kio/global.h
===================================================================
--- kio/kio/global.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/global.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 #include <QtCore/QHash>
 #include <QtCore/QMap>
 #include <QtCore/QList>
+#include <QtCore/QVariant>
 
 #include <kiconloader.h>
 #include <QtGui/QPixmap> // for pixmapForUrl
@@ -389,11 +390,17 @@
      QMap<QString, QString>(metaData) { }
 
    /**
+    * Creates a meta data map from a QVaraint map.
+    * @since 4.3.1
+    */
+    MetaData(const QMap<QString,QVariant> &);
+
+   /**
     * Adds the given meta data map to this map.
     * @param metaData the map to add
     * @return this map
     */
-   MetaData & operator+= ( const QMap<QString,QString> &metaData )
+   MetaData & operator += ( const QMap<QString,QString> &metaData )
    {
       QMap<QString,QString>::ConstIterator it;
       for(it = metaData.constBegin(); it !=  metaData.constEnd(); ++it)
@@ -402,6 +409,34 @@
       }
       return *this;
    }
+
+   /**
+    * Same as above except the value in the map is a QVariant.
+    *
+    * This convenience function allows you to easily assign the values
+    * of a QVariant to this meta data class.
+    *
+    * @param metaData the map to add
+    * @return this map
+    * @since 4.3.1
+    */
+   MetaData & operator += ( const QMap<QString,QVariant> &metaData );
+
+   /**
+    * Sets the given meta data map to this map.
+    * @param metaData the map to add
+    * @return this map
+    * @since 4.3.1
+    */
+   MetaData & operator = ( const QMap<QString,QVariant> &metaData );
+
+   /**
+    * Returns the contents of the map as a QVariant.
+    *
+    * @return a QVariant representation of the meta data map.
+    * @since 4.3.1
+    */
+   QVariant toVariant() const;
 };
 
 }
Index: kio/kio/accessmanager.cpp
===================================================================
--- kio/kio/accessmanager.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kio/accessmanager.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -30,6 +30,7 @@
 
 #include <kdebug.h>
 #include <kio/job.h>
+#include <kio/scheduler.h>
 
 namespace KIO {
 
@@ -67,7 +68,7 @@
 
 QNetworkReply *AccessManager::createRequest(Operation op, const QNetworkRequest &req, QIODevice *outgoingData)
 {
-    KIO::Job *kioJob = 0;
+    KIO::SimpleJob *kioJob = 0;
 
     if ( !d->externalContentAllowed && req.url().scheme() != "file" && !req.url().scheme().isEmpty() ) {
         kDebug() << "Blocked: " << req.url().scheme() <<  req.url();
@@ -109,6 +110,7 @@
             return 0;
     }
 
+    KIO::Scheduler::scheduleJob(kioJob);
     KDEPrivate::AccessManagerReply *reply = new KDEPrivate::AccessManagerReply(op, req, kioJob, this);
 
     kioJob->addMetaData(d->metaDataForRequest(req));
@@ -124,6 +126,12 @@
 {
     KIO::MetaData metaData;
 
+    // Add the user-specified meta data first...
+    QVariant userMetaData = request.attribute (QNetworkRequest::User);
+    if (userMetaData.isValid() && userMetaData.type() == QVariant::Map) {
+      metaData += userMetaData.toMap();
+    }
+
     metaData.insert("PropagateHttpHeader", "true");
 
     metaData.insert("UserAgent", request.rawHeader("User-Agent"));
Index: kio/kdatatool.desktop
===================================================================
--- kio/kdatatool.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kdatatool.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -33,7 +33,7 @@
 Comment[he]=כלי נתונים של KDE
 Comment[hi]=केडीई डाटा औजार
 Comment[hne]=केडीई डाटा औजार
-Comment[hr]=KDE alat za podatke
+Comment[hr]=KDE-ov alat za podatke
 Comment[hsb]=Datowy nastroj za KDE
 Comment[hu]=KDE adatkezelő segédprogram
 Comment[is]=KDE gagnatól
Index: kio/kfile/kpropertiesdialogplugin.desktop
===================================================================
--- kio/kfile/kpropertiesdialogplugin.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kfile/kpropertiesdialogplugin.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -34,7 +34,7 @@
 Comment[he]=תוסף לדו־שיח המאפיינים
 Comment[hi]=गुण संवाद के लिए प्लगइन
 Comment[hne]=गुन गोठ बर प्लगइन
-Comment[hr]=Dodatak dijaloga 'Svojstva'
+Comment[hr]=Priključak za dijalog 'Svojstva'
 Comment[hsb]=Zašćěpka za swójstwowy dialog
 Comment[hu]=Beépülő modul a tulajdonságok párbeszédablakhoz
 Comment[is]=Íforrit fyrir stillingarforrit
Index: kio/misc/kpac/proxyscout.notifyrc
===================================================================
--- kio/misc/kpac/proxyscout.notifyrc	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/misc/kpac/proxyscout.notifyrc	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -30,6 +30,7 @@
 Comment[he]=קביעת הגדרות מתווכים באופן אוטומטי
 Comment[hi]=स्वचालित प्रॉक्सी कॉन्फ़िगरेशन
 Comment[hne]=अपने अपन प्राक्सी कान्फिगरेसन
+Comment[hr]=Automatsko konfiguriranje proxyja
 Comment[hsb]=Awtomatiska konfiguracija proxyja
 Comment[hu]=Automatikus proxybeállítás
 Comment[is]=Sjálfvirkar stillingar vefsels
@@ -107,6 +108,7 @@
 Name[he]=תסריט מתווך לא תקין
 Name[hi]=अवैध प्रॉक्सी स्क्रिप्ट
 Name[hne]=अवैध प्राक्सी स्क्रिप्ट
+Name[hr]=Neispravna proxy skripta
 Name[hsb]=Njekorektny proxyjowy skript
 Name[hu]=Érvénytelen proxyszkript
 Name[is]=Ógild vefselsskrifta
@@ -185,7 +187,7 @@
 Comment[he]=תסריט ההגדרות של השרת המתווך שהורד לא תקין
 Comment[hi]=डाउनलोड किया गया प्रॉक्सी कॉन्फ़िगरेशन स्क्रिप्ट अवैध है
 Comment[hne]=डाउनलोड करे गे प्राक्सी कान्फिगरेसन स्क्रिप्ट अवैध हे
-Comment[hr]=Preuzeta skripta konfiguriranja proxyja je neispravna
+Comment[hr]=Preuzeta skripta za konfiguriranje proxyja je neispravna
 Comment[hsb]=Sćehnjeny konfiguraciski skript za proxy je njekorektny.
 Comment[hu]=A letöltött proxyszkript érvénytelen
 Comment[is]=Sótt vefselsskrifta er ógild
@@ -198,7 +200,7 @@
 Comment[ku]=Skrîpta veavakirina proxy yê daxistî ne derbasdar e
 Comment[lb]=D'Proxy-Configuratiounsskript, dat erofgelude gouf, ass ongülteg
 Comment[lt]=Atsisiųstas proxy derinimo scenarijus yra blogas
-Comment[lv]=Lejuplādētais starpniekservera skripts ir nederīgs
+Comment[lv]=Lejupielādētais starpniekservera skripts ir nederīgs
 Comment[mai]=डाउनलोड कएल गेल प्राक्सी बिन्यास स्क्रिप्ट अवैध अछि
 Comment[mk]=Симнатата скрипта за конфигурација на прокси е навалидна
 Comment[ml]=ഡൌണ്‍ലോഡ് ചെയ്ത പ്രോക്സി സജ്ജീകരിക്കുന്ന സ്ക്രിപ്റ്റ് ശരിയല്ല
@@ -269,6 +271,7 @@
 Name[he]=שגיאת הורדת תסריט
 Name[hi]=स्क्रिप्ट डाउनलोड त्रुटि
 Name[hne]=स्क्रिप्ट डाउनलोड गलती
+Name[hr]=Pogreška pri preuzimanju skripte
 Name[hsb]=Zmylk sćehnjenja skripta
 Name[hu]=Szkriptletöltési hiba
 Name[is]=Villa við niðurhal skriftu
@@ -347,7 +350,7 @@
 Comment[he]=אין אפשרות להוריד את תסריט הגדרות שרת המתווך
 Comment[hi]=प्रॉक्सी कॉन्फ़िगरेशन स्क्रिप्ट को डाउनलोड नहीं किया जा सका
 Comment[hne]=प्राक्सी कान्फिगरेसन स्क्रिप्ट ल डाउनलोड नइ कर सकिस
-Comment[hr]=Skripta konfiguriranja proxyja nije mogla biti preuzetom s Interneta
+Comment[hr]=Skripta za konfiguraciju proxyja nije mogla biti preuzeta
 Comment[hsb]=Konfiguraciski skript za proxy njehodźi so sćahnyć
 Comment[hu]=A proxyszkriptet nem sikerült letölteni
 Comment[is]=Gat ekki sótt stillingaskriftu vefsels
@@ -431,6 +434,7 @@
 Name[he]=שגיאה בעת פיענוח התסריט
 Name[hi]=स्क्रिप्ट परीक्षण त्रुटि
 Name[hne]=स्क्रिप्ट परीक्छन गलती
+Name[hr]=Pogreška pri procjenjivanju skripte
 Name[hsb]=Zmylk při wuwjedźenju skripta
 Name[hu]=Szkriptkiértékelési hiba
 Name[is]=Villa við túlkun skriftu
@@ -507,7 +511,7 @@
 Comment[he]=ארעה שגיאה בעת ההפעלה של תסריט הגדרת השרת המתווך
 Comment[hi]=प्रॉक्सी कॉन्फ़िगरेशन स्क्रिप्ट को चलाने के दौरान एक त्रुटि हुई
 Comment[hne]=प्राक्सी कान्फिगरेसन स्क्रिप्ट ल चलाय के समय एक गलती होइस
-Comment[hr]=Došlo je do pogreške pri izvršavanju konfiguracijske skripte proxyja
+Comment[hr]=Došlo je do pogreške pri izvršavanju skripte za konfiguraciju proxyja
 Comment[hsb]=Při wuwjedźenju konfiguraciskeho skripta za proxy je so zmylk stał
 Comment[hu]=Hiba történt a proxyszkript végrehajtása közben
 Comment[is]=Það kom upp villa við keyrslu stillingaskriftu vefsels
Index: kio/kcmoduleinit.desktop
===================================================================
--- kio/kcmoduleinit.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kcmoduleinit.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -31,6 +31,7 @@
 Name[he]=איתחול ההגדרות של KDE
 Name[hi]=केडीई कॉन्फ़िगरेशन इनिशिअलाइज़ेशन
 Name[hne]=केडीई कान्फिगरेसन इनिसिअलाइजेसन
+Name[hr]=Inicijalizacija KDE-ove konfiguracije
 Name[hsb]=Inicializacija za konfiguraciju KDE
 Name[hu]=KDE konfigurációkészítő
 Name[is]=Ræsing KDE stillinga
Index: kio/tests/kfileitemtest.cpp
===================================================================
--- kio/tests/kfileitemtest.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/tests/kfileitemtest.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -241,6 +241,21 @@
     QVERIFY(fileItem.cmp(fileItem2));
 }
 
+void KFileItemTest::testRename()
+{
+    KIO::UDSEntry entry;
+    const QString origName = QString::fromLatin1("foo");
+    entry.insert(KIO::UDSEntry::UDS_NAME, origName);
+    entry.insert(KIO::UDSEntry::UDS_FILE_TYPE, S_IFDIR);
+    KFileItem fileItem(entry, KUrl("/dir/foo"));
+    QCOMPARE(fileItem.name(), origName);
+    QCOMPARE(fileItem.text(), origName);
+    const QString newName = QString::fromLatin1("FiNeX_rocks");
+    fileItem.setName(newName);
+    QCOMPARE(fileItem.name(), newName);
+    QCOMPARE(fileItem.text(), newName);
+    QCOMPARE(fileItem.entry().stringValue(KIO::UDSEntry::UDS_NAME), newName); // #195385
+}
 
 void KFileItemTest::testDecodeFileName_data()
 {
Index: kio/tests/kdirmodeltest.cpp
===================================================================
--- kio/tests/kdirmodeltest.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/tests/kdirmodeltest.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -418,6 +418,12 @@
     // check renaming happened
     QCOMPARE( m_dirModel->itemForIndex( m_secondFileIndex ).url().url(), newUrl.url() );
 
+    // check that KDirLister::cachedItemForUrl won't give a bad name if copying that item (#195385)
+    KFileItem cachedItem = KDirLister::cachedItemForUrl(newUrl);
+    Q_ASSERT(!cachedItem.isNull());
+    QCOMPARE(cachedItem.name(), QString("toplevelfile_2_renamed"));
+    QCOMPARE(cachedItem.entry().stringValue(KIO::UDSEntry::UDS_NAME), QString("toplevelfile_2_renamed"));
+
     // Put things back to normal
     job = KIO::rename(newUrl, url, KIO::HideProgressInfo);
     ok = job->exec();
Index: kio/tests/kfileitemtest.h
===================================================================
--- kio/tests/kfileitemtest.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/tests/kfileitemtest.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -35,6 +35,7 @@
     void testHiddenFile();
     void testMimeTypeOnDemand();
     void testCmp();
+    void testRename();
 
     void testDecodeFileName_data();
     void testDecodeFileName();
Index: kio/kurifilterplugin.desktop
===================================================================
--- kio/kurifilterplugin.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kurifilterplugin.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -33,7 +33,7 @@
 Name[he]=תוסף לגלישה משופרת
 Name[hi]=एनहैंस्ड ब्राउज़िंग प्लगइन
 Name[hne]=एन हैस्ड ब्राउजिंग प्लगइन
-Name[hr]=Napredni dodatak za pretraživanje
+Name[hr]=Priključak za pojačano pretraživanje
 Name[hsb]=Zašćěpka za polěpšenje browsowanje
 Name[hu]=Továbbfejlesztett böngészés bővítőmodul
 Name[is]=Íforrit fyrir vafraendurbætur
Index: kio/kcmodule.desktop
===================================================================
--- kio/kcmodule.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/kcmodule.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -32,6 +32,7 @@
 Name[he]=מודול הגדרות של KDE
 Name[hi]=केडीई कॉन्फ़िगरेशन मॉड्यूल
 Name[hne]=केडीई कान्फिगरेसन माड्यूल
+Name[hr]=KDE-ov konfiguracijski modul
 Name[hsb]=Modul za konfigurowanje KDE
 Name[hu]=KDE beállítómodul
 Name[is]=KDE stillingaeining
Index: kio/renamedialogplugin.desktop
===================================================================
--- kio/renamedialogplugin.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kio/renamedialogplugin.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -33,7 +33,7 @@
 Comment[he]=תוסף לדו־שיח שינוי שם
 Comment[hi]=नाम बदलने वाले संवाद के लिए प्लगइन
 Comment[hne]=नाम बदले वाले गोठ बर प्लगइन
-Comment[hr]=Dodatak dijaloga za preimenovanja
+Comment[hr]=Priključak za dijalog preimenovanja
 Comment[hsb]=Zašćěpka za přemjenowanski dialog
 Comment[hu]=Bővítőmodul az átnevezési párbeszédablakhoz
 Comment[is]=Íforrit fyrir 'endurnefna' gluggann
Index: security/crypto/crypto.desktop
===================================================================
--- security/crypto/crypto.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ security/crypto/crypto.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -97,6 +97,7 @@
 Comment[he]=שינוי הגדרות SSL, ניהול תעודות והגדרות הצפנה אחרות
 Comment[hi]=एसएसएल कॉन्फ़िगर, प्रमाणपत्र प्रबंधन, तथा अन्य क्रिप्टोग्राफ़िक सेटिंग
 Comment[hne]=एसएसएल कान्फिगर, प्रमानपत्र प्रबंधन, अउ दुसरा क्रिप्टोग्राफी सेटिंग
+Comment[hr]=Podešavanje SSL-a, upravljanje certifikatima i ostala kriptografska podešavanja
 Comment[hsb]=Konfigurowanje SSL, zastaranje certifikatow a druhe kryptografiske nastajenja
 Comment[hu]=SSL-beállítások, tanúsítványkezelés és további titkosítási lehetőségek
 Comment[is]=Stilla SSL, stýra skírteinum, og aðrar dulkóðunarstillingar
Index: kutils/kemoticons/providers/adium/emoticonstheme_adium.desktop
===================================================================
--- kutils/kemoticons/providers/adium/emoticonstheme_adium.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kutils/kemoticons/providers/adium/emoticonstheme_adium.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 Name[gu]=એડિયમ ઇમોકેશન થીમ
 Name[he]=ערכת פרצופונים של Adium
 Name[hne]=एडियम चेहराचिनहा थीम
+Name[hr]=Adiumova tema emotikona
 Name[hu]=Adium emotikon-téma
 Name[is]=Adium broskallaþema
 Name[it]=Tema faccine Adium
@@ -90,6 +91,7 @@
 Comment[gu]=એડિયમ ઇમોકેશન થીમ ઉપયોગ કરવા માટેની લાઇબ્રેરી
 Comment[he]=ספריה לשימוש בערכת הפרצופונים של Adium
 Comment[hne]=एडियम चेहराचिनहा थीम उपयोग करे बर लाइब्रेरी
+Comment[hr]=Biblioteka za korištenje Adiumove teme emotikona
 Comment[hsb]=Biblioteka za Adium emoticons theme
 Comment[hu]=Programkönyvtár az Adium emotikon-témához
 Comment[is]=Forritlingasafn til notkunar með Adium broskallaþema
Index: kutils/kemoticons/providers/kde/emoticonstheme_kde.desktop
===================================================================
--- kutils/kemoticons/providers/kde/emoticonstheme_kde.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kutils/kemoticons/providers/kde/emoticonstheme_kde.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 Name[gu]=KDE ઇમોકેશન થીમ
 Name[he]=ערכצ פרצופונים של KDE
 Name[hne]=केडीई चेहराचिनहा थीम
+Name[hr]=Kde-ova tema emotikona
 Name[hu]=KDE emotikon-téma
 Name[is]=KDE broskallaþema
 Name[it]=Tema faccine di Kde
@@ -91,6 +92,7 @@
 Comment[gu]=KDE ઇમોકેશન થીમ ઉપયોગ કરવા માટેની લાઇબ્રેરી
 Comment[he]=ספריה לשימוש בערכת הפרצופונים של KDE
 Comment[hne]=केडीई चेहराचिनहा थीम ल उपयोग करे बर लाइब्रेरी
+Comment[hr]=Biblioteka za korištenje KDE-ove teme emotikona
 Comment[hsb]=Biblioteka za KDE emoticons theme
 Comment[hu]=Programkönyvtár a KDE emotikon-témához
 Comment[is]=Forritlingasafn til notkunar með KDE broskallaþema
Index: kutils/kemoticons/providers/xmpp/emoticonstheme_xmpp.desktop
===================================================================
--- kutils/kemoticons/providers/xmpp/emoticonstheme_xmpp.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kutils/kemoticons/providers/xmpp/emoticonstheme_xmpp.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 Name[gu]=XMPP ઇમોકેશન થીમ
 Name[he]=ערכת פרצופונים של XMPP
 Name[hne]=एक्सएमपीपी चेहराचिनहा थीम
+Name[hr]=XMPP-ova tema emotikona
 Name[hu]=XMPP emotikon-téma
 Name[is]=XMPP broskallaþema
 Name[it]=Tema faccine XMPP
@@ -90,6 +91,7 @@
 Comment[gu]=XMPP ઇમોકેશન થીમ ઉપયોગ કરવા માટેની લાઇબ્રેરી
 Comment[he]=ספריה לשימוש בערכת הפרצופונים של XMMP
 Comment[hne]=एक्सएमपीपी चेहराचिनहा थीम ल उपयोग करे बर लाइब्रेरी
+Comment[hr]=Biblioteka za korištenje XMPP-ove teme emotikona
 Comment[hsb]=Biblioteka za XMPP emoticons theme
 Comment[hu]=Programkönyvtár az XMPP emotikon-témához
 Comment[is]=Forritlingasafn til notkunar með XMPP broskallaþema
Index: kutils/kemoticons/providers/pidgin/emoticonstheme_pidgin.desktop
===================================================================
--- kutils/kemoticons/providers/pidgin/emoticonstheme_pidgin.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kutils/kemoticons/providers/pidgin/emoticonstheme_pidgin.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 Name[gu]=પીડગીન ઇમોકેશન થીમ ઉપયોગ કરવા માટેની લાઇબ્રેરી
 Name[he]=ערכת פרצופונים של Pidgin
 Name[hne]=पिडगिन चेहराचिनहा थीम
+Name[hr]=Pidginova tema emotikona
 Name[hu]=Pidgin emotikon-téma
 Name[is]=Pidgin broskallaþema
 Name[it]=Tema faccine Pidgin
@@ -91,6 +92,7 @@
 Comment[gu]=પીડગીન ઇમોકેશન થીમ ઉપયોગ કરવા માટેની લાઇબ્રેરી
 Comment[he]=ספריה לשימוש בערכת הפרצופונים של Pidgin
 Comment[hne]=पिडगिन चेहराचिनहा थीम ल उपयोग करे बर लाइब्रेरी
+Comment[hr]=Biblioteka za korištenje Pidginove teme emotikona
 Comment[hsb]=Biblioteka za Pidgin emoticons theme
 Comment[hu]=Programkönyvtár a Pidgin emotikon-témához
 Comment[is]=Forritlingasafn til notkunar með Pidgin broskallaþema
Index: kdesu/stub.h
===================================================================
--- kdesu/stub.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdesu/stub.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -53,7 +53,7 @@
     /**
      * Set the priority of the process. The priority value must be between 0
      * and 100, 0 being the lowest priority. This value is mapped to the
-     * scheduler and system dependant priority range of the OS.
+     * scheduler and system dependent priority range of the OS.
      */
     void setPriority(int prio);
 
Index: kdecore/kernel/kcomponentdata.cpp
===================================================================
--- kdecore/kernel/kcomponentdata.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/kernel/kcomponentdata.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -141,16 +141,16 @@
 
         if (dirs->addCustomized(sharedConfig.data()))
             sharedConfig->reparseConfiguration();
-
-        // the first KComponentData sets the KDE Qt plugin paths
-        if (kdeLibraryPathsAdded != KdeLibraryPathsAddedDone) {
-            kdeLibraryPathsAdded = KdeLibraryPathsAddedDone;
-            const QStringList &plugins = dirs->resourceDirs("qtplugins");
-            QStringList::ConstIterator it = plugins.begin();
-            while (it != plugins.end()) {
-                QCoreApplication::addLibraryPath(*it);
-                ++it;
-            }
+    }
+    
+    // the first KComponentData sets the KDE Qt plugin paths
+    if (QCoreApplication::instance() && dirs && kdeLibraryPathsAdded != KdeLibraryPathsAddedDone) {
+        kdeLibraryPathsAdded = KdeLibraryPathsAddedDone;
+        const QStringList &plugins = dirs->resourceDirs("qtplugins");
+        QStringList::ConstIterator it = plugins.begin();
+        while (it != plugins.end()) {
+            QCoreApplication::addLibraryPath(*it);
+            ++it;
         }
     }
 }
Index: kdecore/services/kplugininfo.desktop
===================================================================
--- kdecore/services/kplugininfo.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/services/kplugininfo.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -33,7 +33,7 @@
 Name[he]=מידע על תוסף של KDE
 Name[hi]=केडीई प्लगइन जानकारी
 Name[hne]=केडीई प्लगइन जानकारी
-Name[hr]=Podaci o KDE dodatku
+Name[hr]=Podaci o KDE priključku
 Name[hsb]=KDE Informacija wo zašćěpkach
 Name[hu]=A KDE bővítőmodulok áttekintése
 Name[is]=KDE íforritsupplýsingar
Index: kdecore/localization/kencodingdetector.cpp
===================================================================
--- kdecore/localization/kencodingdetector.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/localization/kencodingdetector.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -889,7 +889,7 @@
         const char *autoDetectedEncoding;
         if ((c1 == 0xFE && c2 == 0xFF) || (c1 == 0xFF && c2 == 0xFE))
         {
-            autoDetectedEncoding = "ISO-10646-UCS-2";
+            autoDetectedEncoding = "UTF-16";
         }
         else if (c1 == 0xEF && c2 == 0xBB && c3 == 0xBF)
         {
@@ -908,7 +908,7 @@
             int nul_count_even = (c2 != 0) + (c4 != 0) + (c6 != 0) + (c8 != 0) + (c10 != 0);
             int nul_count_odd = (c1 != 0) + (c3 != 0) + (c5 != 0) + (c7 != 0) + (c9 != 0);
             if ((nul_count_even==0 && nul_count_odd==5) || (nul_count_even==5 && nul_count_odd==0))
-                autoDetectedEncoding = "ISO-10646-UCS-2";
+                autoDetectedEncoding = "UTF-16";
             else
                 autoDetectedEncoding = 0;
         }
Index: kdecore/config/kconfigbackend.desktop
===================================================================
--- kdecore/config/kconfigbackend.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/config/kconfigbackend.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -26,6 +26,7 @@
 Comment[gu]=KConfig માટે સંગ્રહ પાશ્ર્વભાગ
 Comment[he]=מנוע שמירה עבור KConfig
 Comment[hne]=के-कानफिग बर भंडार बैकएण्ड
+Comment[hr]=Skladišna pozadina za KConfig
 Comment[hsb]=składowanski backend za KConfig
 Comment[hu]=Tároló a KConfighoz
 Comment[is]=Geymslubakendi fyrir KConfig
Index: kdecore/all_languages.desktop
===================================================================
--- kdecore/all_languages.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/all_languages.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -835,6 +835,7 @@
 Name[he]=בלרוסית (לטינית)
 Name[hi]=बेलारूसी (लातिन)
 Name[hne]=बेलारूसी (लेटिन)
+Name[hr]=Bjeloruski (latinica)
 Name[hsb]=Běłorusce (z łaćonskim pismom)
 Name[hu]=Belorusz (latin betűs)
 Name[is]=Hvít-Rússneska latnesk
@@ -1166,6 +1167,7 @@
 Name[he]=בנגלית (הודו)
 Name[hi]=बंगाली (भारत)
 Name[hne]=बंगाली (भारत)
+Name[hr]=Bengalski (Indija)
 Name[hsb]=Bengalsce (Indiska)
 Name[hu]=Bengáli (India)
 Name[is]=Bengalst (Indland)
@@ -1560,6 +1562,7 @@
 Name[gu]=વેલેશિઅન (દક્ષિણી કેટેલાન)
 Name[he]=ולנסית (קאטלנית דרומית)
 Name[hi]=वेलेंसियाँ (दक्षिणी कातेलाँ)
+Name[hr]=Valencian (južni Katalonijski)
 Name[hu]=Valenciai (délkatalán)
 Name[is]=Valensíska (suður-katalónska)
 Name[it]=Valenziano (Catalano meridionale)
@@ -1831,6 +1834,7 @@
 Name[he]=טטרית של קרים
 Name[hi]=क्रिमियन तातर
 Name[hne]=क्रिमियन तातर
+Name[hr]=Krimsko-tatarski
 Name[hsb]=Krimtatarsce
 Name[hu]=Krími tatár
 Name[is]=Tataríska frá Krím
@@ -1984,6 +1988,7 @@
 Name[he]=קאשובית
 Name[hi]=काशुबियन
 Name[hne]=कासुबियन
+Name[hr]=Kašupski
 Name[hsb]=Kašubsce
 Name[hu]=Kasub
 Name[it]=Casciubico
@@ -2457,6 +2462,7 @@
 Name[he]=סורבית תחתית
 Name[hi]=निचला सॉर्बियाई
 Name[hne]=लोअर सार्बियाई
+Name[hr]=Donjesrpski
 Name[hu]=Alsó szorb
 Name[is]=Lág-sorbian
 Name[it]=Basso sorabo
@@ -3080,7 +3086,7 @@
 Name[mr]=एस्तोनियाई
 Name[ms]=Estonia
 Name[nb]=Estisk
-Name[nds]=Estnsch
+Name[nds]=Eestlannsch
 Name[ne]=इस्टोनियाली
 Name[nl]=Ests
 Name[nn]=Estisk
@@ -6804,6 +6810,7 @@
 Name[ga]=Maitilis
 Name[gu]=મૈથિલિ
 Name[hi]=मैथिली
+Name[hr]=Maithilski
 Name[ja]=マイティリー語
 Name[kk]=Майтили
 Name[km]=ម៉ារ៉ាទី
@@ -10001,6 +10008,7 @@
 Name[gu]=સિંહાલા
 Name[he]=סינהלזית
 Name[hi]=सिंहला
+Name[hr]=Sinhalski
 Name[hu]=Szingaléz
 Name[is]=Sinhalíska
 Name[it]=Singalese
@@ -12198,6 +12206,7 @@
 Name[he]=אוזבקית (קירילית)
 Name[hi]=उज़बैक (सिरिलिक)
 Name[hne]=उजबैक (सिरिलिक)
+Name[hr]=Uzbečki (ćirilica)
 Name[hsb]=Uzbekisce (z kyriliskim pismom)
 Name[hu]=Üzbég (cirill)
 Name[is]=Úsbekíska (Kyrilísk)
Index: kdecore/sonnet/sonnetspeller.desktop
===================================================================
--- kdecore/sonnet/sonnetspeller.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/sonnet/sonnetspeller.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -30,6 +30,7 @@
 Comment[he]=תוכנית בדיקת איות Sonnet
 Comment[hi]=सोनेट स्पैल क्लाएंट
 Comment[hne]=सोनेट स्पैल क्लायंट
+Comment[hr]=Pravopisni klijent Sonnet
 Comment[hsb]=Sonnet prawopisny program
 Comment[hu]=Sonnet helyesírás-ellenőrző
 Comment[is]=Sonnet stafsetningarbiðlarinn
Index: kdecore/date/ktimezone.cpp
===================================================================
--- kdecore/date/ktimezone.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/date/ktimezone.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -118,10 +118,6 @@
 
 KTimeZone KTimeZones::zone(const QString &name) const
 {
-#ifdef Q_WS_WIN
-    // return always the utc for now
-    return KTimeZone::utc();
-#else
     if (!name.isEmpty())
     {
         ZoneMap::ConstIterator it = d->zones.constFind(name);
@@ -131,7 +127,6 @@
             return KTimeZone::utc();
     }
     return KTimeZone();    // error
-#endif
 }
 
 
@@ -249,7 +244,7 @@
 {
 }
 
-KTimeZone::Transition::Transition(const QDateTime &t, const KTimeZone::Phase &p) 
+KTimeZone::Transition::Transition(const QDateTime &t, const KTimeZone::Phase &p)
     : d(new KTimeZoneTransitionPrivate)
 {
     d->time  = t;
@@ -419,7 +414,7 @@
 {
     ++d->refCount;
 }
-  
+
 KTimeZoneBackend::~KTimeZoneBackend()
 {
     if (d && --d->refCount == 0)
Index: kdecore/date/ksystemtimezone.cpp
===================================================================
--- kdecore/date/ksystemtimezone.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/date/ksystemtimezone.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -54,8 +54,10 @@
 #include <kdebug.h>
 #include <kconfiggroup.h>
 #include "ktzfiletimezone.h"
+#ifdef Q_OS_WIN
+#include "ktimezone_win.h"
+#endif
 
-
 #define KTIMEZONED_DBUS_IFACE "org.kde.KTimeZoned"
 
 
@@ -116,7 +118,12 @@
     static void setLocalZone();
     static void cleanup();
     static void readConfig(bool init);
-#ifndef Q_OS_WIN
+#ifdef Q_OS_WIN
+    static void updateTimezoneInformation()
+    {
+      instance()->updateTimezoneInformation(true);
+    }
+#else
     static void updateZonetab()  { instance()->readZoneTab(true); }
 #endif
 
@@ -128,7 +135,9 @@
 
 private:
     KSystemTimeZonesPrivate() {}
-#ifndef Q_OS_WIN
+#ifdef Q_OS_WIN
+    void updateTimezoneInformation(bool update);
+#else
     void readZoneTab(bool update);
     static float convertCoordinate(const QString &coordinate);
 #endif
@@ -287,6 +296,7 @@
 #ifdef Q_OS_WIN
         // On Windows, HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Time Zones
         // is the place to look. The TZI binary value is the TIME_ZONE_INFORMATION structure.
+        m_instance->updateTimezoneInformation(false);
 #else
         // For Unix, read zone.tab.
         if (!m_zonetab.isEmpty())
@@ -344,7 +354,43 @@
     delete m_tzfileSource;
 }
 
-#ifndef Q_OS_WIN
+#ifdef Q_OS_WIN
+
+void KSystemTimeZonesPrivate::updateTimezoneInformation(bool update)
+{
+    if (!m_source)
+        m_source = new KSystemTimeZoneSourceWindows;
+    QStringList newZones;
+    Q_FOREACH( const QString & tz, KSystemTimeZoneWindows::listTimeZones() ) {
+       // const std::wstring wstr = tz.toStdWString();
+       // const KTimeZone info = make_time_zone( wstr.c_str() );
+      KSystemTimeZoneWindows stz(m_source, tz);
+      if (update)
+        {
+            // Update the existing collection with the new zone definition
+            newZones += stz.name();
+            KTimeZone oldTz = zone(stz.name());
+            if (oldTz.isValid())
+                oldTz.updateBase(stz);   // the zone previously existed, so update its definition
+            else
+                add(stz);   // the zone didn't previously exist, so add it
+        }
+        else
+            add(stz);
+    }
+    if (update)
+    {
+        // Remove any zones from the collection which no longer exist
+        const ZoneMap oldZones = zones();
+        for (ZoneMap::const_iterator it = oldZones.begin();  it != oldZones.end();  ++it)
+        {
+            if (newZones.indexOf(it.key()) < 0)
+                remove(it.value());
+        }
+    }
+}
+
+#else
 /*
  * Find the location of the zoneinfo files and store in mZoneinfoDir.
  * Parse zone.tab and for each time zone, create a KSystemTimeZone instance.
@@ -800,3 +846,4 @@
 {
     return QList<int>();
 }
+
Index: kdecore/date/ktimezone_win.cpp
===================================================================
--- kdecore/date/ktimezone_win.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 0)
+++ kdecore/date/ktimezone_win.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -0,0 +1,479 @@
+/*
+   This file is part of the KDE libraries
+   Copyright (c) 2008 Marc Mutz <mutz@kde.org>, Till Adam <adam@kde.org>
+
+   This library is free software; you can redistribute it and/or
+   modify it under the terms of the GNU Library General Public
+   License as published by the Free Software Foundation; either
+   version 2 of the License, or (at your option) any later version.
+
+   This library is distributed in the hope that it will be useful,
+   but WITHOUT ANY WARRANTY; without even the implied warranty of
+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+   Library General Public License for more details.
+
+   You should have received a copy of the GNU Library General Public License
+   along with this library; see the file COPYING.LIB.  If not, write to
+   the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+   Boston, MA 02110-1301, USA.
+*/
+
+
+#include "ktimezone_win.h"
+#include <config.h>
+
+#include <kdebug.h>
+
+#include <QStringList>
+#include <windows.h>
+
+#include <memory>
+#include <string>
+#include <cassert>
+
+
+namespace {
+    class HKeyCloser {
+        const HKEY hkey;
+        Q_DISABLE_COPY( HKeyCloser )
+    public:
+        explicit HKeyCloser( HKEY hk ) : hkey( hk ) {}
+        ~HKeyCloser() { RegCloseKey(  hkey ); }
+    };
+
+    struct TZI {
+        LONG Bias;
+        LONG StandardBias;
+        LONG DaylightBias;
+        SYSTEMTIME StandardDate;
+        SYSTEMTIME DaylightDate;
+    };
+}
+
+
+static const TCHAR timeZonesKey[] = TEXT("SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Time Zones");
+static inline QDateTime systemtime_to_qdatetime( const SYSTEMTIME & st ) {
+    return QDateTime( QDate( st.wYear, st.wMonth, st.wDay ),
+                      QTime( st.wHour, st.wMinute, st.wSecond, st.wMilliseconds ) );
+}
+
+static SYSTEMTIME qdatetime_to_systemtime( const QDateTime & dt ) {
+    const QDate d = dt.date();
+    const QTime t = dt.time();
+    const SYSTEMTIME st = {
+        d.year(),
+        d.month(),
+        d.dayOfWeek() % 7, // 1..7 (Mon..Sun)->0..6(Sun..Sat)
+        d.day(),
+        t.hour(),
+        t.minute(),
+        t.second(),
+        t.msec(),
+    };
+    return st;
+}
+
+static bool TzSpecificLocalTimeToSystemTime_Portable( TIME_ZONE_INFORMATION* tz,
+                                                      SYSTEMTIME *i_stLocal,
+                                                      SYSTEMTIME *o_stUniversal )
+{
+
+    // the method below was introduced in XP. If it's there, use it, otherwise
+    // fall back to doing things manually
+//#if Q_OS_VERSION > 5.0
+#if 0
+    if ( QSysInfo::windowsVersion() > QSysInfo::WV_2000 )
+    {
+        return TzSpecificLocalTimeToSystemTime( &tz, i_stLocal , o_stUniversal ) != 0;
+    }
+#endif
+    // the algorithm is:
+    // - switch to the desired timezone temporarily
+    // - convert system time to (local) file time in that timezone
+    // - convert local file time to utc file time
+    // - convert utc file time to system time
+    // - reset timezone
+    FILETIME ft, ft_utc;
+    int result = 1;
+    TIME_ZONE_INFORMATION currentTimeZone;
+    result = GetTimeZoneInformation(&currentTimeZone);
+    if ( result == TIME_ZONE_ID_INVALID ) {
+        kWarning(161) << "Getting time zone information failed";
+        return false;
+    }
+    result = SetTimeZoneInformation(tz);
+    if ( result == 0 ) {
+        kWarning(161) << "Setting temporary time zone failed";
+        return false;
+    }
+    result = SystemTimeToFileTime(i_stLocal, &ft);
+    if ( result == 0 ) {
+        kWarning(161) << "SysteTimeToFileTime failed";
+        return false;
+    }
+    result = LocalFileTimeToFileTime(&ft, &ft_utc);
+    if ( result == 0 ) {
+        kWarning(161) << "LocalFileTimeToFileTime failed";
+        return false;
+    }
+    result = FileTimeToSystemTime(&ft_utc,o_stUniversal);
+    if ( result == 0 ) {
+        kWarning(161) << "FileTimeToSystemTime failed";
+        return false;
+    }
+    result = SetTimeZoneInformation(&currentTimeZone);
+    if ( result == 0 ) {
+        kWarning(161) << "Re-setting time zone information failed";
+        return false;
+    }
+    return true;
+}
+
+
+
+
+static bool get_binary_value( HKEY key, const TCHAR * value, void * data, DWORD numData, DWORD * outNumData=0 ) {
+    DWORD size = numData;
+    DWORD type = REG_BINARY;
+    if ( RegQueryValueEx( key, value, 0, &type, (LPBYTE)data, &size ) != ERROR_SUCCESS )
+        return false;
+    assert( type == REG_BINARY );
+    if (  type != REG_BINARY )
+        return false;
+    if ( outNumData )
+        *outNumData = size;
+    return true;
+}
+
+static bool get_string_value( HKEY key, const WCHAR * value, WCHAR * dest, DWORD destSizeInBytes ) {
+    DWORD size = destSizeInBytes;
+    DWORD type = REG_SZ;
+    dest[0] = '\0';
+    if ( RegQueryValueExW( key, value, 0, &type, (LPBYTE)dest, &size ) != ERROR_SUCCESS )
+        return false;
+    //dest[ qMin( size, destSizeInBytes - sizeof( WCHAR ) ) / sizeof( WCHAR ) ] = 0;
+    assert( type == REG_SZ );
+    if ( type != REG_SZ )
+        return false;
+    return true;
+}
+
+//
+//
+// Backend interface impl:
+//
+//
+
+static bool check_prereq( const KTimeZone * caller, const QDateTime & dt, Qt::TimeSpec spec ) {
+    return caller && caller->isValid() && dt.isValid() && dt.timeSpec() == spec ;
+}
+
+static inline bool check_local( const KTimeZone * caller, const QDateTime & dt ) {
+    return check_prereq( caller, dt, Qt::LocalTime );
+}
+
+static inline bool check_utc( const KTimeZone * caller, const QDateTime & dt ) {
+    return check_prereq( caller, dt, Qt::UTC );
+}
+
+static bool has_transition( const TIME_ZONE_INFORMATION & tz ) {
+    return tz.StandardDate.wMonth != 0 && tz.DaylightDate.wMonth != 0 ;
+}
+
+static int win_dayofweek_to_qt_dayofweek( int wdow ) {
+    // Sun(0)..Sat(6) -> Mon(1)...Sun(7)
+    return wdow ? wdow : 7 ;
+}
+
+static int qt_dayofweek_to_win_dayofweek( int qdow ) {
+    // Mon(1)...Sun(7) -> Sub(0)...Sat(6)
+    return qdow % 7;
+}
+
+static QDate find_nth_weekday_in_month_of_year( int nth, int dayOfWeek, int month, int year ) {
+    assert( nth >= 1 );
+    assert( nth <= 5 );
+
+    const QDate first( year, month, 1 );
+    const int actualDayOfWeek = first.dayOfWeek();
+    QDate candidate = first.addDays( ( nth - 1 ) * 7 + dayOfWeek - actualDayOfWeek );
+    assert( candidate.dayOfWeek() == dayOfWeek );
+    if ( nth == 5 )
+        if ( candidate.month() != month )
+            candidate = candidate.addDays( -7 );
+    assert( candidate.month() == month );
+    return candidate;
+}
+
+static QDateTime transition( const SYSTEMTIME & st, int year ) {
+    assert( st.wYear == 0 );
+    assert( st.wMonth != 0 );
+    return QDateTime( find_nth_weekday_in_month_of_year( st.wDay, win_dayofweek_to_qt_dayofweek( st.wDayOfWeek ), st.wMonth, year ),
+                      QTime( st.wHour, st.wMinute, st.wSecond, st.wMilliseconds ) );
+}
+
+struct Transitions {
+    QDateTime stdStart, dstStart;
+};
+
+Transitions transitions( const TIME_ZONE_INFORMATION & tz, int year ) {
+    const Transitions t = {
+        transition( tz.StandardDate, year ), transition( tz.DaylightDate, year )
+    };
+    return t;
+}
+
+
+/******************************************************************************/
+
+class KSystemTimeZoneSourceWindowsPrivate
+{
+public:
+    KSystemTimeZoneSourceWindowsPrivate() {}
+    ~KSystemTimeZoneSourceWindowsPrivate() {}
+};
+
+
+class KSystemTimeZoneBackendWindows : public KTimeZoneBackend
+{
+public:
+  KSystemTimeZoneBackendWindows(KTimeZoneSource *source, const QString &name)
+  : KTimeZoneBackend(source, name) {}
+
+  ~KSystemTimeZoneBackendWindows() {}
+
+  KSystemTimeZoneBackendWindows *clone() const;
+
+  QByteArray type() const;
+
+  int offsetAtZoneTime(const KTimeZone *caller, const QDateTime &zoneDateTime, int *secondOffset) const;
+  int offsetAtUtc(const KTimeZone *caller, const QDateTime &utcDateTime) const;
+  int offset(const KTimeZone *caller, time_t t) const;
+  bool isDstAtUtc(const KTimeZone *caller, const QDateTime &utcDateTime) const;
+  bool isDst(const KTimeZone *caller, time_t t) const;
+};
+
+class KSystemTimeZoneDataWindows : public KTimeZoneData
+{
+public:
+  KSystemTimeZoneDataWindows()
+  :KTimeZoneData()
+  {
+
+  }
+  TIME_ZONE_INFORMATION _tzi;
+  QString displayName;
+
+  const TIME_ZONE_INFORMATION & tzi( int year = 0 ) const { Q_UNUSED( year ); return _tzi; }
+};
+
+KSystemTimeZoneSourceWindows::KSystemTimeZoneSourceWindows()
+:d( new KSystemTimeZoneSourceWindowsPrivate )
+{
+}
+
+KTimeZoneData* KSystemTimeZoneSourceWindows::parse(const KTimeZone &zone) const
+{
+    KSystemTimeZoneDataWindows* data = new KSystemTimeZoneDataWindows();
+
+    std::basic_string<TCHAR> path( timeZonesKey );
+    path += TEXT( "\\" );
+    path += reinterpret_cast<TCHAR*>( zone.name().toLocal8Bit().data() );
+
+    HKEY key;
+    if ( RegOpenKeyEx( HKEY_LOCAL_MACHINE, path.c_str(), 0, KEY_READ, &key ) != ERROR_SUCCESS ) {
+        delete data;
+        return 0; // FIXME what's the right error handling here?
+    }
+
+    const HKeyCloser closer( key );
+
+    TZI tzi = { 0 };
+
+    if ( !get_binary_value( key, TEXT( "TZI" ), &tzi, sizeof( TZI ) ) ) {
+        delete data;
+        return 0; // ?
+    }
+
+    get_string_value( key, L"Std", data->_tzi.StandardName, sizeof( data->_tzi.StandardName ) );
+    get_string_value( key, L"Dlt", data->_tzi.DaylightName, sizeof( data->_tzi.DaylightName ) );
+
+    WCHAR display[512];
+    get_string_value( key, L"Display", display, sizeof( display ) );
+    data->displayName = QString::fromUtf16( reinterpret_cast<ushort*>( display ) );
+
+#define COPY( name ) data->_tzi.name = tzi.name
+    COPY( Bias );
+    COPY( StandardBias );
+    COPY( StandardDate );
+    COPY( DaylightBias );
+    COPY( DaylightDate );
+#undef COPY
+
+    return data;
+}
+
+Transitions transitions( const KTimeZone * caller, int year ) {
+    return transitions( static_cast<const KSystemTimeZoneDataWindows*>( caller->data(true) )->tzi( year ), year );
+}
+
+static bool is_dst( const TIME_ZONE_INFORMATION & tzi, const QDateTime & utc, int year ) {
+    if ( !has_transition( tzi ) )
+        return false;
+    const Transitions trans = transitions( tzi, year );
+    if ( trans.stdStart < trans.dstStart )
+        return trans.dstStart <= utc || utc < trans.stdStart ;
+    else
+        return trans.dstStart <= utc && utc < trans.stdStart ;
+}
+
+static bool is_dst( const KTimeZone * caller, const QDateTime & utc ) {
+    assert( caller );
+    assert( caller->isValid() );
+    const int year = utc.date().year();
+    const TIME_ZONE_INFORMATION & tzi = static_cast<const KSystemTimeZoneDataWindows*>( caller->data(true) )->tzi( year );
+    return is_dst( tzi, utc, year );
+}
+
+static int effective_offset( const TIME_ZONE_INFORMATION& tz, bool isDst ) {
+    int bias = tz.Bias;
+    if ( has_transition( tz ) )
+        if ( isDst )
+            bias += tz.DaylightBias;
+        else
+            bias += tz.StandardBias;
+    return bias * -60; // min -> secs
+}
+
+static int offset_at_utc( const KTimeZone * caller, const QDateTime & utc ) {
+    assert( caller );
+    assert( caller->isValid() );
+    const int year = utc.date().year();
+    const TIME_ZONE_INFORMATION & tz = static_cast<const KSystemTimeZoneDataWindows*>( caller->data(true) )->tzi( year );
+    return effective_offset( tz, is_dst( tz, utc, year ) );
+}
+
+static const int OneHour = 3600; //sec
+
+static int difference( const SYSTEMTIME & st1, const SYSTEMTIME & st2 ) {
+    return systemtime_to_qdatetime( st1 ).secsTo( systemtime_to_qdatetime( st2 ) );
+}
+
+static int offset_at_zone_time( const KTimeZone * caller, const SYSTEMTIME & zone, int * secondOffset ) {
+    assert( caller );
+    assert( caller->isValid() );
+    assert(caller->data(true));
+    const KSystemTimeZoneDataWindows * const data = static_cast<const KSystemTimeZoneDataWindows*>( caller->data(true) );
+    const TIME_ZONE_INFORMATION & tz = data->tzi( zone.wYear );
+    SYSTEMTIME utc;
+    if ( !TzSpecificLocalTimeToSystemTime_Portable( const_cast<LPTIME_ZONE_INFORMATION>( &tz ), const_cast<LPSYSTEMTIME>( &zone ), &utc ) )
+        return 0;
+    const bool isDst = is_dst( tz, systemtime_to_qdatetime( utc ), utc.wYear );
+    int result = effective_offset( tz, isDst );
+    if ( secondOffset ) {
+        const SYSTEMTIME utcplus1 = qdatetime_to_systemtime( systemtime_to_qdatetime( utc ).addSecs( OneHour ) );
+        const SYSTEMTIME utcminus1 = qdatetime_to_systemtime( systemtime_to_qdatetime( utc ).addSecs( -OneHour ) );
+        SYSTEMTIME zoneplus1, zoneminus1;
+        if ( !SystemTimeToTzSpecificLocalTime( const_cast<LPTIME_ZONE_INFORMATION>( &tz ), const_cast<LPSYSTEMTIME>( &utcplus1 ), &zoneplus1 ) ||
+             !SystemTimeToTzSpecificLocalTime( const_cast<LPTIME_ZONE_INFORMATION>( &tz ), const_cast<LPSYSTEMTIME>( &utcminus1 ), &zoneminus1 ) )
+            return result;
+        if ( difference( zoneminus1, zone ) != OneHour ||
+             difference( zone, zoneplus1 ) != OneHour )
+        {
+            *secondOffset = effective_offset( tz, !isDst );
+            if ( result < *secondOffset )
+                qSwap( result, *secondOffset );
+        }
+    }
+    return result;
+}
+
+
+static const int MAX_KEY_LENGTH = 255;
+
+// TCHAR can be either uchar, or wchar_t:
+static inline QString tchar_to_qstring( TCHAR * ustr ) {
+    const char * str = reinterpret_cast<const char*>( ustr );
+    return QString::fromLocal8Bit( str );
+}
+static inline QString tchar_to_qstring( const wchar_t * str ) {
+    return QString::fromUtf16( reinterpret_cast<const ushort*>( str ) );
+}
+
+static QStringList list_key( HKEY key ) {
+
+    DWORD numSubKeys = 0;
+    QStringList result;
+
+    if ( RegQueryInfoKey( key, 0, 0, 0, &numSubKeys, 0, 0, 0, 0, 0, 0, 0 ) == ERROR_SUCCESS )
+        for ( DWORD i = 0 ; i < numSubKeys ; ++i ) {
+            TCHAR name[MAX_KEY_LENGTH+1];
+            DWORD nameLen = MAX_KEY_LENGTH;
+            if ( RegEnumKeyEx( key, i, name, &nameLen, 0, 0, 0, 0 ) == ERROR_SUCCESS )
+                result.push_back( tchar_to_qstring( name ) );
+        }
+
+    return result;
+}
+
+
+KSystemTimeZoneBackendWindows * KSystemTimeZoneBackendWindows::clone() const
+{
+    return new KSystemTimeZoneBackendWindows(*this);
+}
+
+QByteArray KSystemTimeZoneBackendWindows::type() const
+{
+    return "KSystemTimeZoneWindows";
+}
+
+int KSystemTimeZoneBackendWindows::offsetAtZoneTime(const KTimeZone *caller, const QDateTime &zoneDateTime, int *secondOffset) const
+{
+    if (!caller->isValid()  ||  !zoneDateTime.isValid()  ||  zoneDateTime.timeSpec() != Qt::LocalTime)
+        return 0;
+    if ( !check_local( caller, zoneDateTime ) )
+        return 0;
+
+    return offset_at_zone_time( caller, qdatetime_to_systemtime( zoneDateTime ), secondOffset );
+}
+
+int KSystemTimeZoneBackendWindows::offsetAtUtc(const KTimeZone *caller, const QDateTime &utcDateTime) const
+{
+    if (!caller->isValid()  ||  !utcDateTime.isValid())
+        return 0;
+    if ( !check_utc( caller, utcDateTime ) )
+        return 0;
+    return offset_at_utc( caller, utcDateTime );
+}
+
+int KSystemTimeZoneBackendWindows::offset(const KTimeZone *caller, time_t t) const
+{
+    if (!caller->isValid()  ||  t == KTimeZone::InvalidTime_t)
+        return 0;
+    return offsetAtUtc( caller, KTimeZone::fromTime_t( t ) );
+}
+
+bool KSystemTimeZoneBackendWindows::isDstAtUtc(const KTimeZone *caller, const QDateTime &utcDateTime) const
+{
+    return check_utc( caller, utcDateTime ) && is_dst( caller, utcDateTime );
+}
+
+
+bool KSystemTimeZoneBackendWindows::isDst(const KTimeZone *caller, time_t t) const
+{
+    return isDstAtUtc( caller, KTimeZone::fromTime_t( t ) );
+}
+
+KSystemTimeZoneWindows::KSystemTimeZoneWindows(KTimeZoneSource *source, const QString &name)
+: KTimeZone(new KSystemTimeZoneBackendWindows(source, name))
+{}
+
+QStringList KSystemTimeZoneWindows::listTimeZones() 
+{
+    HKEY timeZones;
+    if ( RegOpenKeyEx( HKEY_LOCAL_MACHINE, timeZonesKey, 0, KEY_READ, &timeZones ) != ERROR_SUCCESS )
+        return QStringList();
+    const HKeyCloser closer( timeZones );
+    return list_key( timeZones );
+}
+
Index: kdecore/date/ktimezone_win.h
===================================================================
--- kdecore/date/ktimezone_win.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 0)
+++ kdecore/date/ktimezone_win.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -0,0 +1,102 @@
+/*
+   This file is part of the KDE libraries
+   Copyright (c) 2008 Marc Mutz <mutz@kde.org>, Till Adam <adam@kde.org>
+
+   This library is free software; you can redistribute it and/or
+   modify it under the terms of the GNU Library General Public
+   License as published by the Free Software Foundation; either
+   version 2 of the License, or (at your option) any later version.
+
+   This library is distributed in the hope that it will be useful,
+   but WITHOUT ANY WARRANTY; without even the implied warranty of
+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+   Library General Public License for more details.
+
+   You should have received a copy of the GNU Library General Public License
+   along with this library; see the file COPYING.LIB.  If not, write to
+   the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+   Boston, MA 02110-1301, USA.
+*/
+
+#ifndef _KTIMEZONE_WINDOWS_H
+#define _KTIMEZONE_WINDOWS_H
+
+#include <kdecore_export.h>
+
+#include <ktimezone.h>
+#include <ksystemtimezone.h>
+#include <windows.h>
+  
+class KSystemTimeZoneSourceWindowsPrivate;
+
+/**
+ * A class to read and parse the timezone information from the Windows registry.
+ *
+ * The registry is queried for the currently active and for all available timezones
+ * on the system, and those are provided to the KystemTimeZone framework.
+ *
+ * @short Reads and parses the Windows registry timezone information
+ * @see KSystemTimeZoneWindows, KSystemTimeZoneDataWindows
+ * @ingroup timezones
+ * @author Marc Mutz <mutz@kde.org>, Till Adam <adam@kde.org>.
+ */
+class KDECORE_EXPORT KSystemTimeZoneSourceWindows : public KSystemTimeZoneSource
+{
+public:
+   /**
+     * Constructs a time zone source.
+     */
+  KSystemTimeZoneSourceWindows();
+
+   /**
+    * Retrieves and parses the Windows registry information to extract
+    * detailed information for one time zone.
+    *
+    * @param zone the time zone for which data is to be extracted
+    * @return a KSystemTimeZoneDataWindows instance containing the parsed data.
+    *         The caller is responsible for deleting the KTimeZoneData instance.
+    *         Null is returned on error.
+    */
+  KTimeZoneData* parse(const KTimeZone &zone) const;
+private:
+  KSystemTimeZoneSourceWindowsPrivate * const d;
+};
+
+
+/**
+ * The KSystemTimeZoneWindows class represents a time zone defined in the Windows registry.
+ *
+ * It works in partnership with the KSystemTimeZoneSourceWindows class which reads and parses the
+ * time zone definitions from the Windows registry.
+ *
+ * @short Represents a time zone defined in the Windows registry 
+ * @see KSystemTimeZoneBackendWindows, KSystemTimeZoneSourceWindows, KSystemTimeZoneDataWindows
+ * @ingroup timezones
+ * @author Marc Mutz <mutz@kde.org>, Till Adam <adam@kde.org>.
+ */
+class KDECORE_EXPORT KSystemTimeZoneWindows : public KTimeZone  //krazy:exclude=dpointer (no d-pointer for KTimeZone derived classes)
+{
+public:
+   /**
+    * Creates a time zone.
+    *
+    * @param source      Windows registry reader and parser
+    * @param name        time zone's unique name, which must be the tzfile path relative
+    *                    to the location specified for @p source
+    */
+  KSystemTimeZoneWindows(KTimeZoneSource *source, const QString &name);
+    
+  ~KSystemTimeZoneWindows() {}
+
+  /**
+   * Static helper method that lists all availalbe timezones on the system
+   * as per the information in the Windows registry.
+   */
+  static QStringList listTimeZones();
+private:
+   // d-pointer is in backend class.
+   // This is a requirement for classes inherited from KTimeZone.
+};
+
+#endif // _KTIMEZONE_WINDOWS_H
+
Index: kdecore/date/kcalendarsystem.cpp
===================================================================
--- kdecore/date/kcalendarsystem.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/date/kcalendarsystem.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1,7 +1,7 @@
 /*
     Copyright (c) 2002 Carlos Moro <cfmoro@correo.uniovi.es>
     Copyright (c) 2002 Hans Petter Bieker <bieker@kde.org>
-    Copyright (c) 2007 John Layt <john@layt.net>
+    Copyright (c) 2007-2009 John Layt <john@layt.net>
  
     This library is free software; you can redistribute it and/or
     modify it under the terms of the GNU Library General Public
@@ -101,6 +101,8 @@
 
     bool setAnyDate( QDate &date, int year, int month, int day ) const;
 
+    int addYearNumber( int originalYear, int addYears ) const;
+
     QDate invalidDate() const;
 
     int stringToInteger( const QString &sNum, int &iLength );
@@ -117,6 +119,23 @@
     return true;
 }
 
+// Utility to correctly add year numbers together
+// Julian and Gregorian calendars don't have a year 0
+// In 4.4 will need to check on a Calendar System basis
+// but for 4.3 all current systems do not use year 0
+int KCalendarSystemPrivate::addYearNumber( int originalYear, int addYears ) const
+{
+    int newYear = originalYear + addYears;
+
+    if ( originalYear > 0 && newYear <= 0 ) {
+        newYear = newYear - 1;
+    } else if ( originalYear < 0 && newYear >= 0 ) {
+        newYear = newYear + 1;
+    }
+
+    return newYear;
+}
+
 QDate KCalendarSystemPrivate::invalidDate() const
 {
     //Is QDate's way of saying is invalid
@@ -171,7 +190,7 @@
 {
     // Default to true Gregorian
 
-    if ( y < year( earliestValidDate() ) || y > year( latestValidDate() ) ) {
+    if ( y == 0 || y < year( earliestValidDate() ) || y > year( latestValidDate() ) ) {
         return false;
     }
 
@@ -269,7 +288,8 @@
 
         julianDayToDate( date.toJulianDay(), originalYear, originalMonth, originalDay );
 
-        newYear = originalYear + numYears;
+        newYear = d->addYearNumber( originalYear, numYears );
+
         newMonth = originalMonth;
 
         //Adjust day number if new month has fewer days than old month
@@ -300,15 +320,16 @@
 
         monthsInOriginalYear = monthsInYear( date );
 
-        newYear = originalYear + ( ( originalMonth + numMonths ) / monthsInOriginalYear );
+        newYear = d->addYearNumber( originalYear, ( originalMonth + numMonths ) / monthsInOriginalYear );
+
         newMonth = ( originalMonth + numMonths ) % monthsInOriginalYear;
 
         if ( newMonth == 0 ) {
-            newYear = newYear - 1;
+            newYear = d->addYearNumber( newYear, - 1 );
             newMonth = monthsInOriginalYear;
         }
         if ( newMonth < 0 ) {
-            newYear = newYear - 1;
+            newYear = d->addYearNumber( newYear, - 1 );
             newMonth = newMonth + monthsInOriginalYear;
         }
 
@@ -316,7 +337,7 @@
         if ( setDate( firstOfNewMonth, newYear, newMonth, 1 ) ) {
             daysInNewMonth = daysInMonth( firstOfNewMonth );
             newDay = ( daysInNewMonth < originalDay ) ? daysInNewMonth : originalDay;
-
+            
             if ( setDate( newDate, newYear, newMonth, newDay ) ) {
                 return newDate;
             }
@@ -348,7 +369,7 @@
 
     if ( isValid( date ) ) {
         QDate firstDayOfNextYear;
-        d->setAnyDate( firstDayOfNextYear, year( date ) + 1, 1, 1 );
+        d->setAnyDate( firstDayOfNextYear, d->addYearNumber( year( date ), 1 ), 1, 1 );
         QDate lastDayOfThisYear = addDays( firstDayOfNextYear, -1 );
         return month( lastDayOfThisYear );
     }
@@ -372,7 +393,7 @@
 
     if ( isValid( year, 1, 1 ) ) {
         QDate firstDayOfNextYear;
-        d->setAnyDate( firstDayOfNextYear, year + 1, 1, 1 );
+        d->setAnyDate( firstDayOfNextYear, d->addYearNumber( year, 1 ), 1, 1 );
         QDate lastDayOfThisYear = addDays( firstDayOfNextYear, -1 );
 
         int lastWeekInThisYear = weekNumber( lastDayOfThisYear );
@@ -398,7 +419,7 @@
         QDate firstDayOfThisYear, firstDayOfNextYear;
 
         setDate( firstDayOfThisYear, year( date ), 1, 1 );
-        d->setAnyDate( firstDayOfNextYear, year( date ) + 1, 1, 1 );
+        d->setAnyDate( firstDayOfNextYear, d->addYearNumber( year( date ), 1 ), 1, 1 );
 
         return ( firstDayOfNextYear.toJulianDay() - firstDayOfThisYear.toJulianDay() );
     }
@@ -410,20 +431,20 @@
 {
     // Days In Month = jd of first day of next month minus jd of first day of this month
     // Use setAnyDate() to allow correct calculation in last valid year
-
+    
     if ( isValid( date ) ) {
         QDate firstDayOfThisMonth, firstDayOfNextMonth;
 
         int thisYear = year( date );
         int thisMonth = month( date );
-
+        
         setDate( firstDayOfThisMonth, thisYear, thisMonth, 1 );
-
+        
         //check if next month falls in next year
         if ( thisMonth < monthsInYear( date ) ) {
             setDate( firstDayOfNextMonth, thisYear, thisMonth + 1, 1 );
         } else {
-            d->setAnyDate( firstDayOfNextMonth, thisYear + 1, 1, 1 );
+            d->setAnyDate( firstDayOfNextMonth, d->addYearNumber( thisYear, 1 ), 1, 1 );
         }
 
         return ( firstDayOfNextMonth.toJulianDay() - firstDayOfThisMonth.toJulianDay() );
@@ -490,19 +511,19 @@
         // our date in prev year's week
         if ( dayOfYear( date ) < dayOfWeek1InYear ) { 
             if ( yearNum ) {
-                *yearNum = y - 1;
+                *yearNum = d->addYearNumber( y, - 1 );
             }
-            return weeksInYear( y - 1 );
+            return weeksInYear( d->addYearNumber( y, - 1 ) );
         }
 
         // let's check if its last week belongs to next year
-        d->setAnyDate( lastDayOfYear, y + 1, 1, 1 );
+        d->setAnyDate( lastDayOfYear, d->addYearNumber( y, 1 ), 1, 1 );
         lastDayOfYear = addDays( lastDayOfYear, -1 );
         // if our date is in last week && 1st week in next year has thursday
         if ( ( dayOfYear( date ) >= daysInYear( date ) - dayOfWeek( lastDayOfYear ) + 1 )
              && dayOfWeek( lastDayOfYear ) < 4 ) {
             if ( yearNum ) {
-                * yearNum = y + 1;
+                * yearNum = d->addYearNumber( y, 1 );
             }
              week = 1;
         } else {
@@ -525,10 +546,18 @@
 {
     // Default to pure Gregorian
 
-    if ( year % 4 == 0 ) {
-        if ( year % 100 != 0 ) {
+    int y;
+
+    if ( year < 1 ) {
+        y = year + 1;
+    } else {
+        y = year;
+    }
+
+    if ( y % 4 == 0 ) {
+        if ( y % 100 != 0 ) {
             return true;
-        } else if ( year % 400 == 0 ) {
+        } else if ( y % 400 == 0 ) {
             return true;
         }
     }
Index: kdecore/CMakeLists.txt
===================================================================
--- kdecore/CMakeLists.txt	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/CMakeLists.txt	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -76,6 +76,7 @@
       util/kmacroexpander_win.cpp
       util/kshell_win.cpp
       util/kuser_win.cpp
+	  date/ktimezone_win.cpp
    )
    if(NOT MSVC)
       LIST(APPEND kdecore_OPTIONAL_SRCS
Index: kdecore/util/kpluginloader.cpp
===================================================================
--- kdecore/util/kpluginloader.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdecore/util/kpluginloader.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -89,6 +89,10 @@
 
     if (hasPrefix && !kdeinit)
         kDebug(150) << "plugins should not have a 'lib' prefix:" << libname;
+#ifdef Q_OS_WIN
+    // first remove the 'lib' prefix in front of windows plugins
+    libname = fixLibPrefix(libname);
+#endif
 
     // If it is a absolute path just return it
     if (!QDir::isRelativePath(libname))
@@ -103,9 +107,7 @@
         return libfile;
 
     // Now look where they don't belong but sometimes are
-#ifdef Q_OS_WIN
-    libname = fixLibPrefix(libname);
-#else
+#ifndef Q_OS_WIN
     if (!hasPrefix)
         libname = fileinfo.path() + QLatin1String("/lib") + fileinfo.fileName();
 #endif
Index: knewstuff/knewstuff2/engine.h
===================================================================
--- knewstuff/knewstuff2/engine.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ knewstuff/knewstuff2/engine.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -130,7 +130,7 @@
      *
      * This method should be used whenever a blocking application with a
      * non-blocking GUI during GHNS operations is not suitable.
-     * the slot passed in should have the signature (KNS::Entry::List) as it's parameter
+     * the slot passed in should have the signature (KNS::Entry::List) as its parameter
      *
      * @see downloadDialogModal()
      */
Index: knewstuff/knewstuff2/ui/itemsviewdelegate.h
===================================================================
--- knewstuff/knewstuff2/ui/itemsviewdelegate.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ knewstuff/knewstuff2/ui/itemsviewdelegate.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -43,7 +43,7 @@
     explicit ItemsViewDelegate(QAbstractItemView *itemView, QObject * parent = 0);
     ~ItemsViewDelegate();
 
-    // paint the item at index with all it's attributes shown
+    // paint the item at index with all its attributes shown
     virtual void paint(QPainter * painter, const QStyleOptionViewItem & option, const QModelIndex & index) const;
 
     // get the list of widgets
Index: plasma/servicetypes/plasma-applet-popupapplet.desktop
===================================================================
--- plasma/servicetypes/plasma-applet-popupapplet.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-applet-popupapplet.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -14,9 +14,10 @@
 Comment[el]=Αναδυόμενη μικροεφαρμογή σεναρίου plasma
 Comment[es]=Miniaplicación emergente de script para Plasma
 Comment[et]=Plasma skriptimise hüpikaplett
-Comment[fr]=Applet de scripting Plasma
+Comment[fr]=Applet de script Plasma
 Comment[gl]=Applet contextual de scripting de Plasma
 Comment[gu]=પ્લાઝમા સ્ક્રિપ્ટીંગ પોપઅપ એપ્લેટ
+Comment[hr]=Plasmin skriptni skočni applet
 Comment[hu]=Szkriptkezelő kisalkalmazás a Plasmához
 Comment[is]=Plasma smáforrit fyrir skriftun
 Comment[it]=Applet Plasma scripting a comparsa
@@ -34,6 +35,7 @@
 Comment[pt]='Applet' de programação do Plasma
 Comment[pt_BR]=Miniaplicativo de script do Plasma
 Comment[ro]=Miniaplicație Plasma de indicii ale scripturilor
+Comment[ru]=Аплет программируемого контекстного окна Plasma
 Comment[sl]=Plasma skriptni pojavni programček
 Comment[sr]=Плазма скриптовани искачући аплет
 Comment[sr@latin]=Plasma skriptovani iskačući aplet
Index: plasma/servicetypes/plasma-packagestructure.desktop
===================================================================
--- plasma/servicetypes/plasma-packagestructure.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-packagestructure.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -23,6 +23,7 @@
 Comment[gu]=પ્લાઝમા પેકેજ માળખાંની વ્યાખ્યા
 Comment[he]=הגדרת מבנה של חבילת Plasma
 Comment[hne]=प्लाज्मा पैकेज स्ट्रक्चर परिभासा
+Comment[hr]=Plasmina definicija strukture paketa
 Comment[hsb]=Strukturna definicija Plasma-pakćika
 Comment[hu]=Struktúraleíró Plasma-csomagokhoz
 Comment[is]=Skilgreiningar Plasma pakkauppbyggingar
Index: plasma/servicetypes/plasma-containment.desktop
===================================================================
--- plasma/servicetypes/plasma-containment.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-containment.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -24,6 +24,7 @@
 Comment[gu]=પ્લાઝમા એપ્લેટ ધરાવનાર અને પાશ્ચભાગ રંગનાર
 Comment[he]=תוחם של יישומון Plasma וצובע הרקע
 Comment[hne]=प्लाज्मा एपलेट कंटेनर अउ पिछोत अंगना पुतइया
+Comment[hr]=Spremnik za Plasmin applet i crtač pozadine
 Comment[hsb]=Plasma-container za applet a molowadło pozadka
 Comment[hu]=Tartóelem és háttérrajzoló Plasma-kisalkalmazásokhoz
 Comment[is]=Grunnur fyrir Plasma smáforrit og bakgrunnslitun
Index: plasma/servicetypes/plasma-dataengine.desktop
===================================================================
--- plasma/servicetypes/plasma-dataengine.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-dataengine.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 Comment[gu]=પ્લાઝમા માહિતી એન્જિન
 Comment[he]=מנוע מידע עבור Plasma
 Comment[hne]=प्लाज्मा डाटा इंजिन
+Comment[hr]=Plasmin podaktovni mehanizam
 Comment[hsb]=Datowa engine za Plasma
 Comment[hu]=Plasma adatkezelő
 Comment[is]=Plasma gagnavél
Index: plasma/servicetypes/plasma-applet-extenderapplet.desktop
===================================================================
--- plasma/servicetypes/plasma-applet-extenderapplet.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-applet-extenderapplet.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -16,6 +16,7 @@
 Name[gu]=ભંડોળ
 Name[he]=אוסף
 Name[hi]=शब्द पूर्णता
+Name[hr]=Kolekcija
 Name[hu]=Gyűjtemény
 Name[is]=Safn
 Name[it]=Collezione
Index: plasma/servicetypes/plasma-wallpaper.desktop
===================================================================
--- plasma/servicetypes/plasma-wallpaper.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-wallpaper.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 Comment[gu]=પ્લાઝમા વોલપેપર
 Comment[he]=תמונת רקע של Plasma
 Comment[hne]=प्लाज्मा वालपेपर
+Comment[hr]=Plasmina pozadinska slika
 Comment[hsb]=Tapeta za Plasma
 Comment[hu]=Plasma háttérkép
 Comment[is]=Plasma veggfóður
Index: plasma/servicetypes/plasma-runner.desktop
===================================================================
--- plasma/servicetypes/plasma-runner.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-runner.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -26,6 +26,7 @@
 Comment[he]=תוסף KRunner
 Comment[hi]=केरन्नर प्लगइन
 Comment[hne]=के-रनरइट प्लगइन
+Comment[hr]=Priključak Krunner
 Comment[hu]=KRunner-bővítmény
 Comment[is]=KRunner íforrit
 Comment[it]=Plugin KRunner
Index: plasma/servicetypes/plasma-animator.desktop
===================================================================
--- plasma/servicetypes/plasma-animator.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-animator.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -25,6 +25,7 @@
 Comment[gu]=પ્લાઝમા એનિમેશન એન્જિન
 Comment[he]=מנוע אנימציה של Plasma
 Comment[hne]=प्लाज्मा एनिमेशन इंजिन
+Comment[hr]=Plasmin animatorski mehanizam
 Comment[hsb]=Plasma-engine za animacije
 Comment[hu]=Plasma animációkezelő
 Comment[is]=Plasma hreyfingastjóri
Index: plasma/servicetypes/plasma-scriptengine.desktop
===================================================================
--- plasma/servicetypes/plasma-scriptengine.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/servicetypes/plasma-scriptengine.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -24,6 +24,7 @@
 Comment[gu]=પ્લાઝમા માટે સ્ક્રિપ્ટીંગ ભાષા એક્સટેન્શન
 Comment[he]=הרחבת שפת תסריטים של Plasma
 Comment[hne]=प्लाज्मा बर स्क्रिप्टिंग भाखा
+Comment[hr]=Proširenje Plasme za skriptne jezike
 Comment[hsb]=Skriptowa rěč jako Plasma-ekstensija
 Comment[hu]=Szkriptkezelő bővítmény a Plasmához
 Comment[is]=Framlenging á skriftunarmál fyrir Plasma
Index: plasma/framesvg.cpp
===================================================================
--- plasma/framesvg.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/framesvg.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -394,8 +394,9 @@
     QString id = QString::fromLatin1("%5_%4_%3_%2_%1_").
                          arg(frame->enabledBorders).arg(size.width()).arg(size.height()).arg(prefix).arg(q->imagePath());
 
+
+    Theme *theme = Theme::defaultTheme();
     if (q->isUsingRenderingCache()) {
-        Theme *theme = Theme::defaultTheme();
         if (theme->findInCache(id, frame->cachedBackground) && !frame->cachedBackground.isNull()) {
             return;
         }
@@ -557,10 +558,16 @@
         }
     }
 
+
+
     //Overlays
-    if (!prefix.startsWith("mask-") && q->hasElement(prefix+"overlay")) {
+    QSize overlaySize;
+    frame->cachedOverlay = QPixmap();
+    if (!prefix.startsWith("mask-") && q->hasElement(prefix+"overlay") &&
+        !theme->findInCache(id, frame->cachedOverlay) &&
+        frame->cachedOverlay.isNull()) {
         QPoint pos = QPoint(0, 0);
-        QSize overlaySize = q->elementSize(prefix+"overlay");
+        overlaySize = q->elementSize(prefix+"overlay");
 
         //Random pos, stretched and tiled are mutually exclusive
         if (q->hasElement(prefix + "hint-overlay-random-pos")) {
@@ -577,8 +584,8 @@
             }
         }
 
-        QPixmap overlay = q->alphaMask();
-        QPainter overlayPainter(&overlay);
+        frame->cachedOverlay = q->alphaMask();
+        QPainter overlayPainter(&frame->cachedOverlay);
         overlayPainter.setCompositionMode(QPainter::CompositionMode_SourceIn);
         //Tiling?
         if (q->hasElement(prefix+"hint-overlay-tile-horizontal") ||
@@ -593,12 +600,14 @@
             q->paint(&overlayPainter, QRect(overlayPos, overlaySize), prefix+"overlay");
         }
         overlayPainter.end();
+    }
 
+    cacheFrame(prefix);
+
+    if (!frame->cachedOverlay.isNull()) {
         p.setCompositionMode(QPainter::CompositionMode_SourceOver);
-        p.drawPixmap(overlayPos, overlay, QRect(overlayPos, overlaySize));
+        p.drawPixmap(overlayPos, frame->cachedOverlay, QRect(overlayPos, overlaySize));
     }
-
-    cacheFrame(prefix);
 }
 
 
@@ -627,7 +636,7 @@
     id = QString::fromLatin1("overlay_%7_%6_%5_%4_%3_%2_%1_").
         arg(overlayPos.y()).arg(overlayPos.x()).arg(frame->enabledBorders).arg(size.width()).arg(size.height()).arg(prefixToSave).arg(q->imagePath());
 
-    Theme::defaultTheme()->insertIntoCache(id, frame->cachedBackground, QString::number((qint64)q, 16)+prefixToSave+"overlay");
+    Theme::defaultTheme()->insertIntoCache(id, frame->cachedOverlay, QString::number((qint64)q, 16)+prefixToSave+"overlay");
 }
 
 void FrameSvgPrivate::updateSizes()
Index: plasma/service.cpp
===================================================================
--- plasma/service.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/service.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -116,7 +116,7 @@
 {
     if (!d->config) {
         kDebug() << "No valid operations scheme has been registered";
-        return KConfigGroup();
+        return d->dummyGroup();
     }
 
     d->config->writeConfig();
@@ -212,6 +212,9 @@
     delete d->tempFile;
     d->tempFile = 0;
 
+    delete d->dummyConfig;
+    d->dummyConfig = 0;
+
     registerOperationsScheme();
 }
 
@@ -258,6 +261,9 @@
     delete d->config;
     delete d->tempFile;
 
+    delete d->dummyConfig;
+    d->dummyConfig = 0;
+
     //FIXME: make KSharedConfig and KConfigSkeleton not braindamaged in 4.2 and then get rid of the
     //       temp file object here
     d->tempFile = new KTemporaryFile;
Index: plasma/extenderitem.h
===================================================================
--- plasma/extenderitem.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/extenderitem.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -203,7 +203,7 @@
         uint autoExpireDelay() const;
 
         /**
-         * @return whether or not this item is detached from it's original source.
+         * @return whether or not this item is detached from its original source.
          */
         bool isDetached() const;
 
Index: plasma/extender.h
===================================================================
--- plasma/extender.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/extender.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -163,7 +163,7 @@
         bool isEmpty() const;
 
         /**
-         * Use this function to instruct the extender on how to render it's items. Usually you will
+         * Use this function to instruct the extender on how to render its items. Usually you will
          * want to call this function in your applet's constraintsEvent, allthough this is already
          * done for you when using PopupApplet as base class for your applet. Defaults to NoBorders.
          * @param appearance the way this extender should look.
@@ -233,8 +233,8 @@
         /**
          * This function get's called on every item to determine which background border's to
          * render.
-         * @param item the item for which it's position or extender has changed.
-         * @return the borders that have to be enabled on it's background.
+         * @param item the item for which its position or extender has changed.
+         * @return the borders that have to be enabled on its background.
          */
         virtual FrameSvg::EnabledBorders enabledBordersForItem(ExtenderItem *item) const;
 
Index: plasma/widgets/scrollbar.cpp
===================================================================
--- plasma/widgets/scrollbar.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/widgets/scrollbar.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -108,12 +108,14 @@
 
 QScrollBar *ScrollBar::nativeWidget() const
 {
-   return static_cast<QScrollBar*>(widget());
+   return static_cast<QScrollBar *>(widget());
 }
 
 void ScrollBar::setOrientation(Qt::Orientation orientation)
 {
-   static_cast<QScrollBar*>(widget())->setOrientation(orientation);
+   QScrollBar *native = static_cast<QScrollBar *>(widget());
+   native->setOrientation(orientation);
+   resize(native->sizeHint());
 }
 
 }
Index: plasma/widgets/iconwidget.cpp
===================================================================
--- plasma/widgets/iconwidget.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/widgets/iconwidget.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -984,7 +984,8 @@
 
 
     if (d->textBgColor != QColor() &&
-        !(d->text.isEmpty() && d->infoText.isEmpty())) {
+        !(d->text.isEmpty() && d->infoText.isEmpty()) &&
+        !textBoundingRect.isEmpty()) {
         QRectF rect = textBoundingRect.adjusted(-2, -2, 4, 4);
         painter->setPen(Qt::transparent);
         QColor color = d->textBgColor;
Index: plasma/private/wallpaperrenderthread.cpp
===================================================================
--- plasma/private/wallpaperrenderthread.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/private/wallpaperrenderthread.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -135,7 +135,7 @@
             // otherwise, use the natural size of the loaded image
             img = QImage(file);
             imgSize = img.size();
-            kDebug() << "loaded with" << imgSize << ratio;
+            //kDebug() << "loaded with" << imgSize << ratio;
         }
 
         // if any of them is zero we may run into a div-by-zero below.
@@ -229,7 +229,7 @@
         }
 
         QPainter p(&result);
-        kDebug() << token << scalable << scaledSize << imgSize;
+        //kDebug() << token << scalable << scaledSize << imgSize;
         if (scalable) {
             // tiling is ignored for scalable wallpapers
             QSvgRenderer svg(file);
Index: plasma/private/framesvg_p.h
===================================================================
--- plasma/private/framesvg_p.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/private/framesvg_p.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -68,6 +68,7 @@
 
     FrameSvg::EnabledBorders enabledBorders;
     QPixmap cachedBackground;
+    QPixmap cachedOverlay;
     QRegion cachedMask;
     QSize frameSize;
 
Index: plasma/private/extenderapplet_p.h
===================================================================
--- plasma/private/extenderapplet_p.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/private/extenderapplet_p.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -28,7 +28,7 @@
 /**
  * This class is used as a 'host' for detached extender items. When an extender item is dropped
  * somewhere, this applet is added at the location where the item is dropped, and the item is added
- * to it's extender.
+ * to its extender.
  */
 class ExtenderApplet : public Plasma::PopupApplet
 {
Index: plasma/private/service_p.h
===================================================================
--- plasma/private/service_p.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/private/service_p.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -73,6 +73,7 @@
     ServicePrivate(Service *service)
         : q(service),
           config(0),
+          dummyConfig(0),
           tempFile(0)
     {
     }
@@ -80,6 +81,7 @@
     ~ServicePrivate()
     {
         delete config;
+        delete dummyConfig;
         delete tempFile;
     }
 
@@ -98,10 +100,25 @@
         associatedGraphicsWidgets.remove(static_cast<QGraphicsWidget*>(obj));
     }
 
+    KConfigGroup dummyGroup()
+    {
+        if (!dummyConfig) {
+            if (!tempFile) {
+                tempFile = new KTemporaryFile;
+                tempFile->open();
+            }
+
+            dummyConfig = new KConfig(tempFile->fileName());
+        }
+
+        return KConfigGroup(dummyConfig, "DummyGroup");
+    }
+
     Service *q;
     QString destination;
     QString name;
     ConfigLoader *config;
+    KConfig *dummyConfig;
     KTemporaryFile *tempFile;
     QMultiHash<QWidget *, QString> associatedWidgets;
     QMultiHash<QGraphicsWidget *, QString> associatedGraphicsWidgets;
Index: plasma/tests/packagemetadatatest.desktop
===================================================================
--- plasma/tests/packagemetadatatest.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/tests/packagemetadatatest.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -20,6 +20,7 @@
 Name[gu]=પેકેજ મેટાડેટા ચકાસણી ફાઇલ
 Name[he]=חבילת בדיקה של מטה־מידע
 Name[hne]=पैकेज मेटाडाटा जांच फाइल
+Name[hr]=Paketna, metapodatkovna, probna datoteka
 Name[hsb]=Testowa dataja za metadata pakćika
 Name[hu]=PackageMetaData tesztfájl
 Name[is]=Package metagagna prófunarskrá
@@ -78,6 +79,7 @@
 Comment[gu]=પેકેજમેટાડેટા વર્ગ ચકાસવા માટે ચકાસણી ડેસ્કટોપ ફાઇલ.
 Comment[he]=קובץ desktop לבדיקה של מחלקה PackageMetaData.
 Comment[hne]=पैकेज मेटाडाटा क्लास ल जांचे बर जांच डेस्कटाप फाइल
+Comment[hr]=Probna desktop datoteka za isprobavanje klase PackageMetaData.
 Comment[hsb]=Testowa dataja za dźěłowy powjerch za testowanje klasy PackageMetaData.
 Comment[hu]=Tesztfájl a PackageMetaData osztályhoz.
 Comment[is]=Skjáborðsskrá til prófunar á PackageMetaData class
@@ -86,7 +88,7 @@
 Comment[kn]=PackageMetaData ವರ್ಗವನ್ನು ಪರೀಕ್ಷಿಸಲು ಒಂದು ಪರೀಕ್ಷಾರ್ಥ ಗಣಕತೆರೆ ಕಡತ.
 Comment[ko]=PackageMetaData 클래스를 테스트하는 데스크톱 파일.
 Comment[ku]=Pela ceribandina sermasê ku beşên SerDanayêPakêtê diceribîne.
-Comment[lv]=Testa .dekstop fails lai pārbaudītu PackageMetaData klasi.
+Comment[lv]=Testa .dekstop fails, lai pārbaudītu PackageMetaData klasi.
 Comment[mai]=PackageMetaData वर्गक जाँचबाक लेल एकटा जाँचि डेस्कटाप फाइल.
 Comment[ml]=പാക്കേജ്മെറ്റാഡാറ്റാ ക്ലാസ് പരിശോധിയ്ക്കാനുള്ള പരിശോധനാ പണിയിട ഫയല്‍.
 Comment[nb]=En skrivebordsfil med testdata for klassen PackageMetaData.
Index: plasma/tests/testengine/plasma-dataengine-testengine.desktop
===================================================================
--- plasma/tests/testengine/plasma-dataengine-testengine.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/tests/testengine/plasma-dataengine-testengine.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -23,6 +23,7 @@
 Name[gu]=ચકાસણી માહિતી એન્જિન
 Name[he]=בדיקה למנוע מידע
 Name[hne]=जांच डाटा इंजिन
+Name[hr]=Provjeri podatkovni mehanizam
 Name[hu]=Az adatkezelő modul tesztje
 Name[is]=Gagnaprófunarvél
 Name[it]=Motore dati di prova
Index: plasma/containment.h
===================================================================
--- plasma/containment.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/containment.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -424,7 +424,7 @@
     public Q_SLOTS:
         /**
          * Informs the Corona as to what position it is in. This is informational
-         * only, as the Corona doesn't change it's actual location. This is,
+         * only, as the Corona doesn't change its actual location. This is,
          * however, passed on to Applets that may be managed by this Corona.
          *
          * @param location the new location of this Corona
Index: plasma/theme.cpp
===================================================================
--- plasma/theme.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/theme.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -664,11 +664,7 @@
 bool Theme::findInCache(const QString &key, QPixmap &pix)
 {
     if (d->useCache()) {
-        if (!d->keysToCache.contains(key)) {
-            return false;
-        }
-
-        const QString id = d->keysToCache[key];
+        const QString id = d->keysToCache.value(key);
         if (d->pixmapsToCache.contains(id)) {
             pix = d->pixmapsToCache.value(id);
             return true;
@@ -684,7 +680,7 @@
 bool Theme::findInCache(const QString &key, QPixmap &pix, unsigned int lastModified)
 {
     if (d->useCache() && lastModified > d->pixmapCache->timestamp()) {
-        d->discardCache(true);
+        return false;
     }
 
     return findInCache(key, pix);
@@ -725,9 +721,9 @@
         return true;
     }
 
-    //A single _ means the element is empty and we're asked for the size of
+    //Name starting by _ means the element is empty and we're asked for the size of
     //the whole image, so the whole image is never invalid
-    if (element.count('_') == 1) {
+    if (element.indexOf('_') <= 0) {
         return false;
     }
 
@@ -780,6 +776,8 @@
 {
     QHash<QString, QSet<QString> >::iterator it = d->invalidElements.find(image);
     if (it != d->invalidElements.end()) {
+        KConfigGroup imageGroup(d->svgElementsCache, it.key());
+        imageGroup.writeEntry("invalidElements", it.value().toList());
         d->invalidElements.erase(it);
     }
 }
Index: plasma/containment.cpp
===================================================================
--- plasma/containment.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ plasma/containment.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1743,6 +1743,9 @@
     if (handles.contains(handle->applet())) {
         handles.remove(handle->applet());
         handle->detachApplet();
+        if (q->scene()) {
+            q->scene()->removeItem(handle);
+        }
         handle->deleteLater();
     }
 }
@@ -1789,6 +1792,11 @@
 
             foreach (AppletHandle *handle, h) {
                 handle->disconnect(q);
+
+                if (q->scene()) {
+                    q->scene()->removeItem(handle);
+                }
+
                 handle->deleteLater();
             }
         }
@@ -1870,6 +1878,9 @@
     if (handles.contains(applet)) {
         AppletHandle *handle = handles.value(applet);
         handles.remove(applet);
+        if (q->scene()) {
+            q->scene()->removeItem(handle);
+        }
         handle->deleteLater();
     }
 
Index: khtml/khtmladaptorpart.desktop
===================================================================
--- khtml/khtmladaptorpart.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ khtml/khtmladaptorpart.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -24,6 +24,7 @@
 Name[gu]=KHTML એક્સટેન્સન સ્વિકારનાર
 Name[he]=מתאם הרחבה של KHTML
 Name[hne]=केएचटीएमएल विस्तार एडाप्टर
+Name[hr]=Prilagodnik proširenja za KHTML
 Name[hu]=KHTML kiterjesztésadapter
 Name[is]=Aðlögun KHTML-endinga
 Name[it]=Adattatore estensione KHTML
Index: khtml/khtmlview.cpp
===================================================================
--- khtml/khtmlview.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ khtml/khtmlview.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -3137,6 +3137,7 @@
     const QPointerDeleter settingsDeleter(printSettings); //the printdialog takes ownership of the settings widget, thus this workaround to avoid double deletion
     QPrinter printer;
     QPointer<QPrintDialog> dialog = KdePrint::createPrintDialog(&printer, QList<QWidget*>() << printSettings, this);
+    dialog->setOption( QAbstractPrintDialog::PrintPageRange, false);
     const QPointerDeleter dialogDeleter(dialog);
 
     QString docname = m_part->xmlDocImpl()->URL().prettyUrl();
Index: khtml/kmultipart/kmultipart.desktop
===================================================================
--- khtml/kmultipart/kmultipart.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ khtml/kmultipart/kmultipart.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -31,7 +31,7 @@
 Name[he]=רכיב בר־שיבוץ עבור multipart/mixed
 Name[hi]=मल्टीपार्ट/मिक्स्ड के लिए अंतर्निर्मित अवयव
 Name[hne]=मल्टीपार्ट/मिक्स्ड बर भीतर मं बने अवयव
-Name[hr]=Ugradiva komponenta za multipart/mixed
+Name[hr]=Ugradiva komponenta za višedijelni MIME
 Name[hsb]=Integrujomna komponenta za multipart/mixed
 Name[hu]=Beágyazható komponens a multipart/mixed adattípushoz
 Name[is]=Ívefjanleg eining fyrir MIME multipart/mixed
Index: khtml/editing/editor.h
===================================================================
--- khtml/editing/editor.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ khtml/editing/editor.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -73,7 +73,7 @@
   /**
    * Executes the given editor command.
    * @param command name of command
-   * @param userInterface whether an user interface should be used to input data. This is command dependant.
+   * @param userInterface whether a user interface should be used to input data. This is command dependent.
    * @param value value for command. Its semantic depends on the command.
    */
   bool execCommand(const DOMString &command, bool userInterface, const DOMString &value);
@@ -91,7 +91,7 @@
   /**
    * Executes the given built-in editor command.
    * @param EditorCommand index of command
-   * @param userInterface whether an user interface should be used to input data. This is command dependant.
+   * @param userInterface whether a user interface should be used to input data. This is command dependent.
    * @param value value for command. Its semantic depends on the command.
    */
   bool execCommand(EditorCommand, bool userInterface, const DOMString &value);
Index: khtml/khtml.desktop
===================================================================
--- khtml/khtml.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ khtml/khtml.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -32,7 +32,7 @@
 Comment[he]=רכיב בר־שיבוץ לתצוגת HTML
 Comment[hi]=अंतर्निर्मित एचटीएमएल प्रदर्शक अवयव
 Comment[hne]=भीतर मं बने एचटीएमएल प्रदर्सक अवयव
-Comment[hr]=Ugrađeni komponenta za pregledavanje HTML
+Comment[hr]=Ugrađena komponenta za pregledavanje HTML
 Comment[hsb]=Integrowana HTML-komponenta
 Comment[hu]=Beágyazható HTML-néző komponens
 Comment[is]=Ívafin HTML-skoðunar eining
Index: khtml/rendering/render_container.cpp
===================================================================
--- khtml/rendering/render_container.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ khtml/rendering/render_container.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -573,7 +573,7 @@
     }
 
     KHTMLAssert(!child->parent());
-    while ( beforeChild->parent() != this && beforeChild->parent()->isAnonymousBlock() )
+    while ( beforeChild->parent() != this && beforeChild->parent()->isAnonymous() )
 	beforeChild = beforeChild->parent();
     KHTMLAssert(beforeChild->parent() == this);
 
Index: kde3support/kdeui/k3spell.h
===================================================================
--- kde3support/kdeui/k3spell.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kde3support/kdeui/k3spell.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -345,7 +345,7 @@
    *  If it is emitted by checkList(), @p pos is the index to
    *  the misspelled
    *   word in the QStringList passed to checkList().
-   *  Note, that @p originalword can be only a word part, if it's
+   *  Note, that @p originalword can be only a word part, if it's a
    *  word with hyphens.
    *
    *  These are called _before_ the dialog is opened, so that the
Index: kjs/ExecState.h
===================================================================
--- kjs/ExecState.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kjs/ExecState.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -221,7 +221,7 @@
      * Returns the context from which the current context was invoked. For
      * global code this will be a null context (i.e. one for which
      * isNull() returns true). You should check isNull() on the returned
-     * value before calling any of it's methods.
+     * value before calling any of its methods.
      *
      * @return The calling execution context
      */
Index: kjs/ustring.h
===================================================================
--- kjs/ustring.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kjs/ustring.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -65,7 +65,7 @@
   /**
    * @short Unicode character.
    *
-   * UChar represents a 16 bit Unicode character. It's internal data
+   * UChar represents a 16 bit Unicode character. Its internal data
    * representation is compatible to XChar2b and QChar. It's therefore
    * possible to exchange data with X and Qt with shallow copies.
    */
Index: kjs/object.h
===================================================================
--- kjs/object.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kjs/object.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -221,7 +221,7 @@
 
     /**
      * Retrieves the specified property from the object. If neither the object
-     * or any other object in it's prototype chain have the property, this
+     * or any other object in its prototype chain have the property, this
      * function will return Undefined.
      *
      * See ECMA 8.6.2.1
@@ -281,7 +281,7 @@
     bool propertyIsEnumerable(ExecState *exec, const Identifier &propertyName) const;
 
     /**
-     * Checks to see whether the object (or any object in it's prototype chain)
+     * Checks to see whether the object (or any object in its prototype chain)
      * has a property with the specified name.
      *
      * See ECMA 8.6.2.4
Index: kjs/scriptfunction.h
===================================================================
--- kjs/scriptfunction.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kjs/scriptfunction.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -65,7 +65,7 @@
     /**
      * Returns the scope of this object. This is used when execution declared
      * functions - the execution context for the function is initialized with
-     * extra object in it's scope. An example of this is functions declared
+     * extra object in its scope. An example of this is functions declared
      * inside other functions:
      *
      * \code
Index: kdoctools/customization/pl/user.entities
===================================================================
--- kdoctools/customization/pl/user.entities	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdoctools/customization/pl/user.entities	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -9,11 +9,13 @@
 <!ENTITY Alt        		"<keycap>Alt</keycap>">
 <!ENTITY Backspace     		"<keycap>Backspace</keycap>">
 <!ENTITY Ctrl        		"<keycap>Ctrl</keycap>">				  <!-- English: &Ctrl; -->
+<!ENTITY dpi        		"dpi">
 <!ENTITY Enter        		"<keycap>Enter</keycap>">				  <!-- English: &Enter; -->
 <!ENTITY Esc        		"<keycap>Esc</keycap>">
 <!ENTITY eg        		"np.">
 <!ENTITY etc        		"itp.">
 <!ENTITY FAQ			"<acronym>FAQ</acronym>">
+<!ENTITY ie        		"tzn.">
 <!ENTITY Shift        		"<keycap>Shift</keycap>">				  <!-- English: &Shift; -->
 <!ENTITY Tab        		"<keycap>Tab</keycap>">
 
@@ -26,25 +28,29 @@
 </inlinemediaobject>
 </guiicon>"><!-- if image is localised, then entityref should be used instead of fileref -->
 
+<!ENTITY akregator-mianownik    '<application>Akregator</application>'>
+<!ENTITY akregator-dopelniacz    '<application>Akregatora</application>'>
+<!ENTITY akregator-celownik    '<application>Akregatorowi</application>'>
+<!ENTITY akregator-biernik    '<application>Akregatora</application>'>
+<!ENTITY akregator-narzednik    '<application>Akregatorem</application>'>
+<!ENTITY akregator-miejscownik    '<application>Akregatorze</application>'>
+
 <!ENTITY amarok-mianownik    '<application>Amarok</application>'>
-<!ENTITY amarok-dopelniacz    '<application>Amarok</application>'>
-<!ENTITY amarok    '&amarok-mianownik;'>
+<!ENTITY amarok-dopelniacz    '<application>Amaroka</application>'>
+<!ENTITY amarok-celownik    '<application>Amarokowi</application>'>
+<!ENTITY amarok-biernik    '<application>Amaroka</application>'>
+<!ENTITY amarok-narzednik    '<application>Amarokiem</application>'>
+<!ENTITY amarok-miejscownik    '<application>Amaroku</application>'>
 
 <!ENTITY ark-mianownik    '<application>Ark</application>'>
 <!ENTITY ark-dopelniacz    '<application>Arka</application>'>
 <!ENTITY ark-miejscownik    '<application>Arku</application>'>
 <!ENTITY ark-narzednik    '<application>Arkiem</application>'>
 <!ENTITY ark-biernik    '<application>Arka</application>'>
-<!ENTITY ark    '&ark-mianownik;'>
 
-<!ENTITY akregator-mianownik    '<application>Akregator</application>'>
-<!ENTITY akregator-dopelniacz    '<application>Akregatora</application>'>
-<!ENTITY akregator    '&akregator-mianownik;'>
-
 <!ENTITY DBus-mianownik    '<application>D-Bus</application>'>
 <!ENTITY DBus-dopelniacz    '<application>D-Busa</application>'>
 <!ENTITY DBus-biernik    '<application>D-Bus</application>'>
-<!ENTITY DBus    '&DBus-mianownik;'>
 
 <!ENTITY gif        		'<literal role="extension">.gif</literal>'>
 
@@ -52,7 +58,8 @@
 <!ENTITY dolphin-dopelniacz    '<application>Dolphina</application>'>
 <!ENTITY dolphin-celownik    '<application>Dolphinowi</application>'>
 <!ENTITY dolphin-biernik    '<application>Dolphina</application>'>
-<!ENTITY dolphin    '&dolphin-mianownik;'>
+<!ENTITY dolphin-narzednik    '<application>Dolphinem</application>'>
+<!ENTITY dolphin-miejscownik    '<application>Dolphinie</application>'>
 
 <!ENTITY GUI-mianownik    'graficzny interfejs użytkownika'>
 <!ENTITY GUI-dopelniacz    'graficznego interfejsu użytkownika'>
@@ -60,17 +67,26 @@
 <!ENTITY GUI-biernik    'graficzny interfejs użytkownika'>
 <!ENTITY GUI-miejscownik    'graficznym interfejsie użytkownika'>
 
-<!ENTITY juk-mianownik    '<application>JuK</application>'>
-<!ENTITY juk-dopelniacz    '<application>JuKa</application>'>
-<!ENTITY juk    '&juk-mianownik;'>
+<!ENTITY juk-mianownik    '<application>Juk</application>'>
+<!ENTITY juk-dopelniacz    '<application>Juka</application>'>
+<!ENTITY juk-celownik    '<application>Jukowi</application>'>
+<!ENTITY juk-biernik    '<application>Juka</application>'>
+<!ENTITY juk-narzednik    '<application>Jukiem</application>'>
+<!ENTITY juk-miejscownik    '<application>Juku</application>'>
 
+<!ENTITY kaddressbook-mianownik    '<application>Książka adresowa &kde;</application>'>
+<!ENTITY kaddressbook-dopelniacz    '<application>Książki adresowej &kde;</application>'>
+<!ENTITY kaddressbook-celownik    '<application>Książce adresowej &kde;</application>'>
+<!ENTITY kaddressbook-biernik    '<application>Książkę adresową &kde;</application>'>
+<!ENTITY kaddressbook-narzednik    '<application>Książką adresową &kde;</application>'>
+<!ENTITY kaddressbook-miejscownik    '<application>Książce adresowej &kde;</application>'>
+
 <!ENTITY kalarm-mianownik    '<application>Kalarm</application>'>
 <!ENTITY kalarm-dopelniacz    '<application>Kalarmu</application>'>
 <!ENTITY kalarm-celownik    '<application>Kalarmowi</application>'>
 <!ENTITY kalarm-biernik    '<application>Kalarm</application>'>
 <!ENTITY kalarm-narzednik    '<application>Kalarmem</application>'>
 <!ENTITY kalarm-miejscownik    '<application>Kalarmie</application>'>
-<!ENTITY kalarm    '&kalarm-mianownik;'>
 
 <!ENTITY kappfinder-mianownik    '<application>Kappfinder</application>'>
 <!ENTITY kappfinder-dopelniacz    '<application>Kappfinder</application>'>
@@ -78,17 +94,17 @@
 <!ENTITY kappfinder-biernik    '<application>Kappfinder</application>'>
 <!ENTITY kappfinder-narzednik    '<application>Kappfinder</application>'>
 <!ENTITY kappfinder-miejscownik    '<application>Kappfinder</application>'>
-<!ENTITY kappfinder    '&kappfinder-mianownik;'>
 
+<!ENTITY kate-mianownik    '<application>Kate</application>'>
+<!ENTITY kate-dopelniacz    '<application>Kate</application>'>
+
 <!ENTITY kcalc-mianownik    '<application>Kalkulator</application>'>
 <!ENTITY kcalc-dopelniacz    '<application>Kalkulatora</application>'>
 <!ENTITY kcalc-celownik    '<application>Kalkulatorowi</application>'>
 <!ENTITY kcalc-biernik    '<application>Kalkulator</application>'>
 <!ENTITY kcalc-narzednik    '<application>Kalkulatorem</application>'>
 <!ENTITY kcalc-miejscownik    '<application>Kalkulatorze</application>'>
-<!ENTITY kcalc    '&kcalc-mianownik;'>
 
-<!ENTITY kcontrolcenter    '&kcontrolcenter-mianownik;'>
 <!ENTITY kcontrolcenter-mianownik    '<application>Centrum sterowania &kde;</application>'>
 <!ENTITY kcontrolcenter-dopelniacz    '<application>Centrum sterowania &kde;</application>'>
 <!ENTITY kcontrolcenter-celownik    '<application>Centrum sterowania &kde;</application>'>
@@ -96,32 +112,21 @@
 <!ENTITY kcontrolcenter-miejscownik    '<application>Centrum sterowania &kde;</application>'>
 <!ENTITY kcontrol-biernik    '&kcontrolcenter-biernik;'>
 
-<!ENTITY kaddressbook-mianownik    '<application>Książka adresowa &kde;</application>'>
-<!ENTITY kaddressbook-dopelniacz    '<application>Książki adresowej &kde;</application>'>
-<!ENTITY kaddressbook-celownik    '<application>Książce adresowej &kde;</application>'>
-<!ENTITY kaddressbook-biernik    '<application>Książkę adresową &kde;</application>'>
-<!ENTITY kaddressbook-narzednik    '<application>Książką adresową &kde;</application>'>
-<!ENTITY kaddressbook-miejscownik    '<application>Książce adresowej &kde;</application>'>
-<!ENTITY kaddressbook    '&kalarm-mianownik;'>
-
-<!ENTITY kate-mianownik    '<application>Kate</application>'>
-<!ENTITY kate-dopelniacz    '<application>Kate</application>'>
-<!ENTITY kate    '&kate-mianownik;'>
-
 <!ENTITY kdm-mianownik    '<application>KDM</application>'>
 <!ENTITY kdm-dopelniacz    '<application>KDM</application>'>
 <!ENTITY kdm-celownik    '<application>KDM</application>'>
 <!ENTITY kdm-biernik    '<application>KDM</application>'>
 <!ENTITY kdm-narzednik    '<application>KDM</application>'>
 <!ENTITY kdm-miejscownik    '<application>KDM</application>'>
-<!ENTITY kdm    '&kdm-mianownik;'>
 
+<!ENTITY kfind-mianownik    '<application>Znajdź pliki (KFind)</application>'>
+<!ENTITY kfind-biernik    '<application>Znajdź pliki (KFind)</application>'>
+
 <!ENTITY khelpcenter-mianownik    '<application>Centrum pomocy &kde;</application>'>
 <!ENTITY khelpcenter-dopelniacz    '<application>Centrum pomocy &kde;</application>'>
 <!ENTITY khelpcenter-celownik    '<application>Centrum pomocy &kde;</application>'>
 <!ENTITY khelpcenter-biernik    '<application>Centrum pomocy &kde;</application>'>
 <!ENTITY khelpcenter-miejscownik    '<application>Centrum pomocy &kde;</application>'>
-<!ENTITY khelpcenter    '&khelpcenter-mianownik;'>
 
 <!ENTITY kicker-mianownik    '<application>Kicker</application>'>
 <!ENTITY kicker-dopelniacz    '<application>Kickera</application>'>
@@ -129,10 +134,8 @@
 <!ENTITY kicker-biernik    '<application>Kickera</application>'>
 <!ENTITY kicker-narzednik    '<application>Kickerem</application>'>
 <!ENTITY kicker-miejscownik    '<application>Kickerze</application>'>
-<!ENTITY kicker    '&kicker-mianownik;'>
 
 <!ENTITY kickoff-mianownik    '<application>Kickoff</application>'>
-<!ENTITY kickoff    '&kickoff-mianownik;'>
 
 <!ENTITY klipper-mianownik    '<application>Klipper</application>'>
 <!ENTITY klipper-dopelniacz    '<application>Klippera</application>'>
@@ -140,10 +143,8 @@
 <!ENTITY klipper-biernik    '<application>Klippera</application>'>
 <!ENTITY klipper-narzednik    '<application>Klipperem</application>'>
 <!ENTITY klipper-miejscownik    '<application>Klipperze</application>'>
-<!ENTITY klipper    '&klipper-mianownik;'>
 
 <!ENTITY kleopatra-mianownik    '<application>Kleopatra</application>'>
-<!ENTITY kleopatra    '&kleopatra-mianownik;'>
 
 <!ENTITY kmail-mianownik    '<application>Kmail</application>'>
 <!ENTITY kmail-dopelniacz    '<application>Kmaila</application>'>
@@ -151,7 +152,6 @@
 <!ENTITY kmail-biernik    '<application>Kmaila</application>'>
 <!ENTITY kmail-narzednik    '<application>Kmailem</application>'>
 <!ENTITY kmail-miejscownik    '<application>Kmailu</application>'>
-<!ENTITY kmail    '&kmail-mianownik;'>
 
 <!ENTITY kmenu-mianownik    'Menu K'>
 <!ENTITY kmenu-dopelniacz    '&kmenu-mianownik;'>
@@ -165,11 +165,9 @@
 <!ENTITY knode-celownik    '<application>Knode</application>'>
 <!ENTITY knode-biernik    '<application>Knode</application>'>
 <!ENTITY knode-miejscownik    '<application>Knode</application>'>
-<!ENTITY knode    '&knode-mianownik;'>
 
 <!ENTITY knotes-mianownik    '<application>Notatki</application>'>
 <!ENTITY knotes-dopelniacz    '<application>Notatek</application>'>
-<!ENTITY knotes    '&knotes-mianownik;'>
 
 <!ENTITY konqueror-mianownik    '<application>Konqueror</application>'>
 <!ENTITY konqueror-dopelniacz    '<application>Konquerora</application>'>
@@ -177,7 +175,6 @@
 <!ENTITY konqueror-biernik    '<application>Konquerora</application>'>
 <!ENTITY konqueror-narzednik    '<application>Konquerorem</application>'>
 <!ENTITY konqueror-miejscownik    '<application>Konquerorze</application>'>
-<!ENTITY konqueror    '&konqueror-mianownik;'>
 
 <!ENTITY konsole-mianownik    '<application>Konsola</application>'>
 <!ENTITY konsole-dopelniacz    '<application>Konsoli</application>'>
@@ -185,7 +182,6 @@
 <!ENTITY konsole-biernik    '<application>Konsolę</application>'>
 <!ENTITY konsole-narzednik    '<application>Konsolą</application>'>
 <!ENTITY konsole-miejscownik    '<application>Konsoli</application>'>
-<!ENTITY konsole    '&konsole-mianownik;'>
 
 <!ENTITY kontact-mianownik    '<application>Kontact</application>'>
 <!ENTITY kontact-dopelniacz    '<application>Kontact</application>'>
@@ -193,7 +189,6 @@
 <!ENTITY kontact-biernik    '<application>Kontact</application>'>
 <!ENTITY kontact-narzednik    '<application>Kontact</application>'>
 <!ENTITY kontact-miejscownik    '<application>Kontact</application>'>
-<!ENTITY kontact    '&kontact-mianownik;'>
 
 <!ENTITY kopete-mianownik    '<application>Kopete</application>'>
 <!ENTITY kopete-dopelniacz    '<application>Kopete</application>'>
@@ -201,7 +196,6 @@
 <!ENTITY kopete-biernik    '<application>Kopete</application>'>
 <!ENTITY kopete-narzednik    '<application>Kopete</application>'>
 <!ENTITY kopete-miejscownik    '<application>Kopete</application>'>
-<!ENTITY kopete    '&kopete-mianownik;'>
 
 <!ENTITY korganizer-mianownik    '<application>Korganizer</application>'>
 <!ENTITY korganizer-dopelniacz    '<application>Korganizera</application>'>
@@ -209,27 +203,30 @@
 <!ENTITY korganizer-biernik    '<application>Korganizera</application>'>
 <!ENTITY korganizer-narzednik    '<application>Korganizerem</application>'>
 <!ENTITY korganizer-miejscownik    '<application>Korganizerze</application>'>
-<!ENTITY korganizer    '&korganizer-mianownik;'>
 
+<!ENTITY ksnapshot-mianownik    '<application>Zrzuty ekranu</application>'>
+<!ENTITY ksnapshot-dopelniacz    '<application>Zrzutów ekranu</application>'>
+<!ENTITY ksnapshot-biernik    '<application>Zrzutom ekranu</application>'>
+
+<!ENTITY krunner-mianownik    '<application>Krunner</application>'>
+<!ENTITY krunner-dopelniacz    '<application>Krunnera</application>'>
+<!ENTITY krunner-biernik    '<application>Krunnera</application>'>
+
 <!ENTITY ksysguard-mianownik    '<application>Strażnik systemu &kde;</application>'>
 <!ENTITY ksysguard-dopelniacz    '<application>Strażnika systemu &kde;</application>'>
 <!ENTITY ksysguard-biernik    '<application>Strażnika systemu &kde;</application>'>
 <!ENTITY ksysguard-miejscownik    '<application>Strażniku systemu &kde;</application>'>
-<!ENTITY ksysguard    '&ksysguard-mianownik;'>
 
 <!ENTITY kwallet-mianownik    '<application>Portfel &kde;</application>'>
 <!ENTITY kwallet-dopelniacz    '<application>Portfela &kde;</application>'>
 <!ENTITY kwallet-biernik    '<application>Portfel &kde;</application>'>
-<!ENTITY kwallet    '&kwallet-mianownik;'>
 
 <!ENTITY kwin-mianownik    '<application>KWin</application>'>
 <!ENTITY kwin-dopelniacz    '<application>KWin</application>'>
 <!ENTITY kwin-biernik    '<application>KWin</application>'>
-<!ENTITY kwin    '&kwallet-mianownik;'>
 
 <!ENTITY kwalletmanager-mianownik    '<application>Menedżer portfeli &kde;</application>'>
 <!ENTITY kwalletmanager-dopelniacz    '<application>Menedżera portfeli &kde;</application>'>
-<!ENTITY kwalletmanager    '&kwalletmanager-mianownik;'>
 
 <!ENTITY Linux-mianownik    'Linux'>
 <!ENTITY Linux-dopelniacz    'Linuksa'>
@@ -237,19 +234,20 @@
 <!ENTITY Linux-biernik    'Linuksa'>
 <!ENTITY Linux-narzednik    'Linuksem'>
 <!ENTITY Linux-miejscownik    'Linuksie'>
-<!ENTITY Linux    '&Linux-mianownik;'>
 
+<!ENTITY marble-mianownik    '<application>Marble</application>'>
+<!ENTITY marble-dopelniacz    '<application>Marble</application>'>
+<!ENTITY marble-biernik    '<application>Marble</application>'>
+
 <!ENTITY Mozilla-mianownik    'Mozilla'>
 <!ENTITY Mozilla-dopelniacz    'Mozilli'>
 <!ENTITY Mozilla-celownik    'Mozilli'>
 <!ENTITY Mozilla-biernik    'Mozillę'>
 <!ENTITY Mozilla-narzednik    'Mozilli'>
 <!ENTITY Mozilla-miejscownik    'Mozilli'>
-<!ENTITY Mozilla    '&Mozilla-mianownik;'>
 
 <!ENTITY noatun-mianownik    '<application>Noatun</application>'>
 <!ENTITY noatun-dopelniacz    '<application>Noatuna</application>'>
-<!ENTITY noatun    '&noatun-mianownik;'>
 
 <!ENTITY okular-mianownik    '<application>Okular</application>'>
 <!ENTITY okular-dopelniacz    '<application>Okulara</application>'>
@@ -257,25 +255,27 @@
 <!ENTITY okular-biernik    '<application>Okulara</application>'>
 <!ENTITY okular-narzednik    '<application>Okularem</application>'>
 <!ENTITY okular-miejscownik    '<application>Okularze</application>'>
-<!ENTITY okular    '&okular-mianownik;'>
 
-
 <!ENTITY Sendmail-mianownik    '<application>Sendmail</application>'>
 <!ENTITY Sendmail-dopelniacz    '<application>Sendmaila</application>'>
 <!ENTITY Sendmail-celownik    '<application>Sendmailowi</application>'>
 <!ENTITY Sendmail-biernik    '<application>Sendmaila</application>'>
 <!ENTITY Sendmail-narzednik    '<application>Sendmailem</application>'>
 <!ENTITY Sendmail-miejscownik    '<application>Sendmailu/application>'>
-<!ENTITY Sendmail    '&Sendmail-mianownik;'>
 
 <!ENTITY sonnet-mianownik    '<application>Sonnet</application>'>
 <!ENTITY sonnet-dopelniacz    '<application>Sonnetu</application>'>
-<!ENTITY sonnet    '&sonnet-mianownik;'>
 
+<!ENTITY systemsettings-mianownik    '<application>Ustawienia systemowe</application>'>
+<!ENTITY systemsettings-dopelniacz    '<application>Ustawień systemowych</application>'>
+<!ENTITY systemsettings-celownik    '<application>Ustawieniom systemowym</application>'>
+<!ENTITY systemsettings-biernik    '<application>Ustawienia systemowe</application>'>
+<!ENTITY systemsettings-narzednik    '<application>Ustawieniami systemowymi</application>'>
+<!ENTITY systemsettings-miejscownik    '<application>Ustawieniach systemowych/application>'>
+
 <!ENTITY UNIX-mianownik    'Unix'>
 <!ENTITY UNIX-dopelniacz    'Uniksa'>
 <!ENTITY UNIX-celownik    'Uniksowi'>
 <!ENTITY UNIX-biernik    'Uniksa'>
 <!ENTITY UNIX-narzednik    'Uniksem'>
 <!ENTITY UNIX-miejscownik    'Uniksie'>
-<!ENTITY UNIX    '&UNIX-mianownik;'>
Index: kdoctools/customization/pt-BR/user.entities
===================================================================
--- kdoctools/customization/pt-BR/user.entities	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdoctools/customization/pt-BR/user.entities	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -6,37 +6,38 @@
      names (which if they occur will cost you a _lot_ of time)
  -->
 
-<!ENTITY Alt    "<keycap>Alt</keycap>">
-<!ENTITY artsbuilder "construtor arts">
-<!ENTITY Backspace "<keycap>Esc</keycap>">
-<!ENTITY cdrom  "<hardware>CD-ROM</hardware>">
-<!ENTITY Ctrl   "<keycap>Ctrl</keycap>">
-<!ENTITY dpi	'<acronym>DPI</acronym>'>
-<!ENTITY eg     "<abbrev>por exemplo</abbrev>">
+<!ENTITY Alt	"<keycap>Alt</keycap>">
+<!ENTITY Backspace	"<keycap>Backspace</keycap>">
+<!ENTITY cdrom	'<hardware>leitor de CD-ROM</hardware>'>
+<!ENTITY Ctrl	"<keycap>Ctrl</keycap>">
+<!ENTITY dpi	'<acronym>ppp</acronym>'>
+<!ENTITY eg     "por exemplo">
+<!ENTITY pex 	"por exemplo"> <!-- English: &eg; -->
 <!ENTITY Enter	"<keycap>Enter</keycap>">
-<!ENTITY Esc   "<keycap>Esc</keycap>">
-<!ENTITY etc     "<abbrev>etc</abbrev>">
-<!ENTITY ex     "<abbrev>por exemplo</abbrev>">
-<!ENTITY FAQ     "Perguntas mais freqüentes (do inglês <acronym>FAQ</acronym>)">
-<!ENTITY HTML	'<acronym>HTML</acronym>'>
-<!ENTITY ie     "isto é">
-<!ENTITY infocenter	"<application>Centro de Informações</application>">
-<!ENTITY kcontrolcenter "<application>Centro de Controle do &kde;</application>">
-<!ENTITY kicon	"ícone <guiicon>
+<!ENTITY Esc	"<keycap>Esc</keycap>">
+<!ENTITY etc    "<abbrev>etc</abbrev>">
+<!ENTITY FAQ	"Perguntas mais frequentes (do inglês <acronym>FAQ</acronym>)">
+<!ENTITY ie 	"isto é">
+<!ENTITY infocenter	"<application>Centro de informação</application>">
+<!ENTITY kcontrolcenter	"<application>Centro de Controle do &kde;</application>">
+<!ENTITY kicon	"<guiicon>
 <inlinemediaobject>
- <objectinfo><title>O ícone K do &kde;</title></objectinfo>
+ <objectinfo><title>Ícone K do &kde;</title></objectinfo>
  <imageobject><imagedata fileref='common/kmenu.png' format='PNG'/></imageobject>
  <textobject><phrase>K</phrase></textobject>
 </inlinemediaobject>
-</guiicon>"><!-- if image is localised, then entityref should be used 
+</guiicon> icon"><!-- if image is localised, then entityref should be used 
                       instead of fileref -->
-<!ENTITY kmenu    "Menu <guimenu>K</guimenu>">
-<!ENTITY LMB    "botão <mousebutton>esquerdo</mousebutton> do mouse">
-<!ENTITY MMB    "botão do <mousebutton>meio</mousebutton> do mouse">
-<!ENTITY OS "<acronym>Sistema Operacional</acronym>">
-<!ENTITY RMB    "botão <mousebutton>direito</mousebutton> do mouse">
-<!ENTITY Shift   "<keycap>Shift</keycap>">
-<!ENTITY systemsettings	"<application>Configurações do Sistema</application>">
-<!ENTITY systemtray "<application>bandeja do sistema</application>">
+<!ENTITY kmenu  "menu <guimenu>K</guimenu>">
+<!ENTITY BEM 	"botão <mousebutton>esquerdo</mousebutton> do mouse">  <!-- English: &LMB; -->
+<!ENTITY LMB 	"botão <mousebutton>esquerdo</mousebutton> do mouse">
+<!ENTITY BMM 	"botão <mousebutton>do meio</mousebutton> do mouse">   <!-- English: &MMB; -->
+<!ENTITY MMB 	"botão <mousebutton>do meio</mousebutton> do mouse">
+<!ENTITY OS	"sistema operacional"><!-- <acronym>OS</acronym>-->
+<!ENTITY partman "<application>Gerenciador de partições do KDE</application>">
+<!ENTITY BDM 	"botão <mousebutton>direito</mousebutton> do mouse">   <!-- English: &RMB; -->
+<!ENTITY RMB 	"botão <mousebutton>direito</mousebutton> do mouse">
+<!ENTITY Shift	"<keycap>Shift</keycap>">
+<!ENTITY systemsettings	"<application>Configurações do sistema</application>">
+<!ENTITY systemtray "<application>área de notificação</application>">
 <!ENTITY Tab	"<keycap>Tab</keycap>">
-<!ENTITY BSD	"<acronym>BSD</acronym>">
Index: kdoctools/customization/pt-BR/entities/update-doc.docbook
===================================================================
--- kdoctools/customization/pt-BR/entities/update-doc.docbook	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdoctools/customization/pt-BR/entities/update-doc.docbook	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1,3 +1,3 @@
 <para>Este documento pode ter sido atualizado depois da sua instalação. 
 Você pode encontrar a última versão em <ulink
-url="http://docs.kde.org/current/&package;/">http://docs.kde.org/current/&package;/</ulink>.</para>
+url="http://docs.kde.org/">http://docs.kde.org/</ulink>.</para>
Index: kdoctools/customization/pt-BR/entities/help-menu.docbook
===================================================================
--- kdoctools/customization/pt-BR/entities/help-menu.docbook	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdoctools/customization/pt-BR/entities/help-menu.docbook	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -6,10 +6,10 @@
 <keycombo action="simul"><keycap>F1</keycap></keycombo>
 </shortcut>
 <guimenu>Ajuda</guimenu>
-<guimenuitem>Conteúdo...</guimenuitem>
+<guimenuitem>Manual do &kappname;</guimenuitem>
 </menuchoice>
 </term>
-<listitem><para><action>Invoca a ajuda do KDE</action>, niniciando a ajuda do &kappname;.</para></listitem>
+<listitem><para><action>Invoca o sistema de ajuda do KDE</action>, iniciando nas páginas de ajuda do &kappname;. (este documento)</para></listitem>
 </varlistentry>
 
 <varlistentry>
@@ -18,28 +18,42 @@
 <keycombo action="simul">&Shift;<keycap>F1</keycap></keycombo>
 </shortcut>
 <guimenu>Ajuda</guimenu>
-<guimenuitem>O que é Isto?</guimenuitem>
+<guimenuitem>O que é isto?</guimenuitem>
 </menuchoice>
 </term>
-<listitem><para><action>Muda o cursor do mouse para uma mistura de uma seta com um ponto de interrogação.</action>  Ao clicar nos itens do &kappname; irás abrir uma janela de ajuda (se existir alguma para o item em particular) que explica a função do item.</para></listitem>
+<listitem><para><action>Muda o cursor do mouse para uma mistura de seta 
+com um ponto de interrogação.</action>  Ao clicar nos itens do &kappname; 
+uma janela de ajuda será aberta (se existir alguma para o item) explicando 
+a função do item.</para></listitem>
 </varlistentry>
 
 
 <varlistentry>
 <term><menuchoice>
 <guimenu>Ajuda</guimenu>
-<guimenuitem>Reportar Erro...</guimenuitem>
+<guimenuitem>Relatar falha...</guimenuitem>
 </menuchoice></term>
-<listitem><para><action>Abre a janela para Reportar Erros</action> onde pode 
-relatar um erro ou <quote>sugerir</quote> uma funcionalidade.</para></listitem>
+<listitem><para><action>Abre o diálogo para relatar falhas</action> onde 
+você pode comunicar um erro ou <quote>sugerir</quote> uma funcionalidade.</para></listitem>
 </varlistentry>
 
 <varlistentry>
 <term><menuchoice>
 <guimenu>Ajuda</guimenu>
+<guimenuitem>Mudar o idioma do aplicativo...</guimenuitem>
+</menuchoice></term>
+<listitem><para><action>Abre o diálogo</action> onde você pode escolher o 
+<guilabel>Idioma primário</guilabel> e o <guilabel>Idioma secundário</guilabel>
+para este aplicativo.</para></listitem>
+</varlistentry>
+
+<varlistentry>
+<term><menuchoice>
+<guimenu>Ajuda</guimenu>
 <guimenuitem>Sobre o &kappname;</guimenuitem>
 </menuchoice></term>
-<listitem><para><action>Isto irá mostrar a versão e as informações do autor.</action></para></listitem>
+<listitem><para><action>Isto irá mostrar a versão e as informações 
+do autor.</action></para></listitem>
 </varlistentry>
 
 <varlistentry>
@@ -47,6 +61,6 @@
 <guimenu>Ajuda</guimenu>
 <guimenuitem>Sobre o KDE</guimenuitem>
 </menuchoice></term>
-<listitem><para><action>Isto mostra a versão do KDE bem como outras informações básicas.</action></para></listitem>
+<listitem><para><action>Mostra a versão do KDE e outras informações básicas.</action></para></listitem>
 </varlistentry>
 </variablelist>
Index: kdoctools/customization/pt-BR/entities/install-compile.docbook
===================================================================
--- kdoctools/customization/pt-BR/entities/install-compile.docbook	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdoctools/customization/pt-BR/entities/install-compile.docbook	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1,12 +1,7 @@
-<para>Para compilar e instalar o &kappname; sem seu sistema, digite o 
-sequinte no diretório base da distribuição de &kappname;:</para>
+<para>Para informações detalhadas de como compilar e instalar os aplicativos 
+do &kde; veja em <ulink url="http://techbase.kde.org/Getting_Started">
+Construindo o KDE4 a partir do código-fonte</ulink></para>
 
-<screen><prompt>%</prompt> <userinput><command>./configure</command></userinput>
-<prompt>%</prompt> <userinput><command>make</command></userinput>
-<prompt>%</prompt> <userinput><command>make</command> install</userinput>
-</screen>
-
-<para>Uma vez que o &kappname; usa o <command>autoconf</command> e o 
-<command>automake</command> você não deve ter problemas em compilá-lo. Se você 
-tiver problemas por favor reporte-os às lista de correio do &kde;.</para>
-
+<para>Uma vez que o &kde; usa o <command>cmake</command>, você não deve ter  
+ao compilá-lo. Se tiver problemas, por favor, relate-os nas listas de 
+discussão do &kde;.</para>
\ No newline at end of file
Index: kdoctools/customization/pt-BR/entities/install-intro.docbook
===================================================================
--- kdoctools/customization/pt-BR/entities/install-intro.docbook	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdoctools/customization/pt-BR/entities/install-intro.docbook	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1,4 +1,6 @@
 <!-- requires that packagename is defined in the documentation prologue -->
-<para>&kappname; faz parte do projeto &kde; &kde-http;.</para>
 
-<para>&kappname; pode ser encontrado no pacote &package; no site &FTP; principal do projeto &kde; &kde-ftp;.</para>
+<para>O &kappname; é integrante do projeto &kde; &kde-http;.</para>
+
+<para>O &kappname; pode ser encontrado no pacote &package; em &kde-ftp;, 
+no site &FTP; principal do projeto &kde;.</para>
Index: kparts/krop.desktop
===================================================================
--- kparts/krop.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kparts/krop.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -34,7 +34,7 @@
 Comment[he]=רכיב של KDE
 Comment[hi]=केडीई अवयव
 Comment[hne]=केडीई अवयव
-Comment[hr]=KDE komponenta
+Comment[hr]=KDE-ova komponenta
 Comment[hsb]=KDE-komponenta
 Comment[hu]=KDE-komponens
 Comment[is]=KDE eining
Index: kparts/krwp.desktop
===================================================================
--- kparts/krwp.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kparts/krwp.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -34,7 +34,7 @@
 Comment[he]=רכיב של KDE
 Comment[hi]=केडीई अवयव
 Comment[hne]=केडीई अवयव
-Comment[hr]=KDE komponenta
+Comment[hr]=KDE-ova komponenta
 Comment[hsb]=KDE-komponenta
 Comment[hu]=KDE-komponens
 Comment[is]=KDE eining
Index: kparts/browserrun.cpp
===================================================================
--- kparts/browserrun.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kparts/browserrun.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -214,6 +214,14 @@
         //kDebug(1000) << "suggestedFileName=" << suggestedFileName;
         d->m_contentDisposition = job->queryMetaData("content-disposition-type");
 
+        // Preserve all the SSL related meta data information...       
+        QMapIterator<QString,QString> it (job->metaData());
+        while (it.hasNext()) {
+           it.next();
+           if (it.key().startsWith(QLatin1String("ssl_"), Qt::CaseInsensitive))
+             d->m_args.metaData().insert(it.key(), it.value());
+        }
+
         // Make a copy to avoid a dead reference
         QString _type = type;
         job->putOnHold();
Index: kparts/kpart.desktop
===================================================================
--- kparts/kpart.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kparts/kpart.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -33,7 +33,7 @@
 Comment[he]=רכיב של KDE
 Comment[hi]=केडीई अवयव
 Comment[hne]=केडीई अवयव
-Comment[hr]=KDE komponenta
+Comment[hr]=KDE-ova komponenta
 Comment[hsb]=KDE-komponenta
 Comment[hu]=KDE-komponens
 Comment[is]=KDE eining
Index: kded/kdedmodule.desktop
===================================================================
--- kded/kdedmodule.desktop	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kded/kdedmodule.desktop	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -32,7 +32,7 @@
 Comment[he]=מודול KDED
 Comment[hi]=केडीईडी मॉड्यूल
 Comment[hne]=केडीईडी माड्यूल
-Comment[hr]=KDED modul
+Comment[hr]=Modul KDED
 Comment[hsb]=KDED modul
 Comment[hu]=KDED modul
 Comment[is]=KDED eining
Index: kded/vfolder_menu.h
===================================================================
--- kded/vfolder_menu.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kded/vfolder_menu.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -234,7 +234,7 @@
   void insertSubMenu(VFolderMenu::SubMenu *parentMenu, const QString &menuName, VFolderMenu::SubMenu *newMenu, bool reversePriority=false);
 
   /**
-   * Merge menu2 and it's submenus into menu1 and it's submenus
+   * Merge menu2 and its submenus into menu1 and its submenus
    * If reversePriority is false, menu2 has priority over menu1
    * If reversePriority is true, menu1 has priority over menu2
    */
Index: solid/solid/button.h
===================================================================
--- solid/solid/button.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ solid/solid/button.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -55,9 +55,10 @@
          * - LidButton : The switch on a laptop that senses whether the lid is open or closed.
          * - PowerButton : The main power button on the computer.
          * - SleepButton : The sleep button on a computer capable of putting the computer into a suspend state.
+	 * - TabletButton : The tablet switch on a laptop that senses if the monitor is rotated or not.
          * - UnknownButtonType : The type of the button is unknow.
          */
-         enum ButtonType{ LidButton, PowerButton, SleepButton, UnknownButtonType };
+         enum ButtonType{ LidButton, PowerButton, SleepButton, UnknownButtonType, TabletButton };
 
 
     private:
Index: solid/solid/ifaces/processor.h
===================================================================
--- solid/solid/ifaces/processor.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ solid/solid/ifaces/processor.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -55,7 +55,7 @@
         /**
          * Indicates if the processor can change the CPU frequency.
          *
-         * True if a processor is able to change it's own CPU frequency.
+         * True if a processor is able to change its own CPU frequency.
          *  (generally for power management).
          *
          * @return true if the processor can change CPU frequency, false otherwise
Index: solid/solid/backends/hal/halbutton.cpp
===================================================================
--- solid/solid/backends/hal/halbutton.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ solid/solid/backends/hal/halbutton.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -49,6 +49,10 @@
     {
         return Solid::Button::SleepButton;
     }
+    else if (buttontype=="tablet_mode")
+    {
+        return Solid::Button::TabletButton;
+    }
     else
     {
         return Solid::Button::UnknownButtonType;
Index: solid/solid/backends/hal/halstorageaccess.cpp
===================================================================
--- solid/solid/backends/hal/halstorageaccess.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ solid/solid/backends/hal/halstorageaccess.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -316,6 +316,8 @@
             options<<"iocharset=utf8";
         if (halOptions.contains("shortname="))
             options<<"shortname=mixed";
+        if (halOptions.contains("flush"))
+            options<<"flush";
     }
     // pass our locale to the ntfs-3g driver so it can translate local characters
     else if ( halOptions.contains("locale=") ) {
Index: solid/solid/backends/hal/haldevice.cpp
===================================================================
--- solid/solid/backends/hal/haldevice.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ solid/solid/backends/hal/haldevice.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -146,6 +146,8 @@
             return "media-floppy";
         } else if (property("storage.drive_type").toString()=="cdrom") {
             return "drive-optical";
+        } else if (property("storage.drive_type").toString()=="sd_mmc") {
+            return "media-flash-sd-mmc";
         } else if (property("storage.hotpluggable").toBool()) {
             if (property("storage.bus").toString()=="usb") {
                 if (property("storage.no_partitions_hint").toBool()
Index: kdeui/dialogs/kdialog_p.h
===================================================================
--- kdeui/dialogs/kdialog_p.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/dialogs/kdialog_p.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -21,6 +21,7 @@
 #define KDEUI_KDIALOG_P_H
 
 #include "kdialog.h"
+#include <QtCore/QPointer>
 #include <QtCore/QSignalMapper>
 #include <QtCore/QSize>
 #include <QtCore/QHash>
@@ -61,7 +62,7 @@
         QString mDetailsButtonText;
 
         QBoxLayout *mTopLayout;
-        QWidget *mMainWidget;
+        QPointer<QWidget> mMainWidget;
         KUrlLabel *mUrlHelp;
         KSeparator *mActionSeparator;
 
Index: kdeui/dialogs/kdialog.cpp
===================================================================
--- kdeui/dialogs/kdialog.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/dialogs/kdialog.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -310,15 +310,14 @@
 void KDialog::setMainWidget( QWidget *widget )
 {
     Q_D(KDialog);
-  if ( d->mMainWidget == widget )
-    return;
-  d->mMainWidget = widget;
-  QLayout* layout = d->mMainWidget->layout();
-  if (layout) {
-    // Avoid double-margin problem
-    layout->setMargin(0);
-  }
-  d->setupLayout();
+    if ( d->mMainWidget == widget )
+        return;
+    d->mMainWidget = widget;
+    if (d->mMainWidget && d->mMainWidget->layout()) {
+        // Avoid double-margin problem
+        d->mMainWidget->layout()->setMargin(0);
+    }
+    d->setupLayout();
 }
 
 QWidget *KDialog::mainWidget()
Index: kdeui/kdepackages.h
===================================================================
--- kdeui/kdepackages.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/kdepackages.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -1,75 +1,48 @@
 // DO NOT EDIT - EDIT bugs/Maintainers instead
 const char * const packages[] = {
+"abakus",
+"adept",
+"aki",
+"aki/libakicore",
+"akiirc",
+"akiirc/ChannelView",
+"akiirc/ChatInput",
+"akiirc/notifications",
+"akiirc/ServerView",
+"akodelib",
 "Akonadi",
+"Akonadi/ICal file resource",
+"Akonadi/IMAP resource",
+"Akonadi/KResource compat bridges",
 "Akonadi/libakonadi",
 "Akonadi/server",
-"Dragon Player",
-"HIG",
-"KCall",
-"KDE-Eclipse",
-"KExtProcess",
-"KExtProcess/Main Library",
-"KExtProcess/Profile API and GUI",
-"KExtProcess/Protocol Support",
-"KSquares",
-"KSystemLog",
-"Keyboard status applet",
-"Khalkhi",
-"Khalkhi/kicker applet",
-"Okteta",
-"Oxygen",
-"Oxygen/icons",
-"Oxygen/sound",
-"Oxygen/style",
-"Oxygen/win deco",
-"Phonon",
-"Phonon/KDE platform plugin",
-"Phonon/NMM backend",
-"Phonon/audio device listing",
-"Phonon/avKode Backend",
-"Phonon/frontend",
-"Phonon/settings",
-"Phonon/xine backend",
-"abakus",
-"adept",
-"akodelib",
+"Akonadi/VCard dir resource",
+"Akonadi/VCard file resource",
 "akregator",
 "akregator/akregator konqueror plugin",
 "akregator/feed parser",
 "akregator/internal browser",
 "akregator/kontact plugin",
 "akregator/metakit plugin",
-"aktion",
 "amarok",
 "amarok/AFT",
 "amarok/Collection",
 "amarok/CollectionBrowser",
-"amarok/ContextBrowser",
+"amarok/ContextView",
 "amarok/DAAP",
+"amarok/DynamicPlaylists",
 "amarok/Engines",
 "amarok/FileBrowser",
-"amarok/GStreamer-0.10",
-"amarok/Helix",
-"amarok/Magnatune",
 "amarok/Mediabrowser",
-"amarok/Moodbar",
 "amarok/OSD",
 "amarok/Playlist",
 "amarok/PlaylistBrowser",
 "amarok/Podcast",
-"amarok/scripts",
-"amarok/xine",
+"amarok/ScriptManager",
+"amarok/ServiceBrowser",
 "amor",
 "ark",
 "ark/Konqueror Plugin",
-"arts",
-"arts/artsbuilder",
-"arts/artscontrol",
-"arts/artsd",
-"arts/kcmarts",
-"arts/knotify",
-"arts/libartskde",
-"arts/xine_artsplugin",
 "artwork",
 "atlantik",
 "atlantik/monopd",
@@ -89,12 +62,15 @@
 "bovo",
 "brahms",
 "bugs.kde.org",
+"bugs.kde.org/code customizations",
+"bugs.kde.org/database",
+"bugs.kde.org/product/component changes",
+"bugs.kde.org/templates",
 "buildsystem",
 "buildsystem/KDE3 (autotools)",
 "buildsystem/KDE4 (cmake)",
-"cdbakeoven",
 "cervisia",
-"configure",
+"choqok",
 "daap ioslave",
 "daap ioslave/daap ioslave",
 "daap ioslave/daap library",
@@ -105,21 +81,27 @@
 "decibel",
 "digikam",
 "digikam/Albums GUI",
+"digikam/Batch Queue Manager",
 "digikam/Camera GUI",
 "digikam/Color Management",
 "digikam/Database",
 "digikam/Dates",
 "digikam/Export",
 "digikam/Filter",
+"digikam/Fuzzy Searches",
+"digikam/Geolocation",
 "digikam/Image Editor",
 "digikam/Import",
+"digikam/Kioslave",
 "digikam/Kipiinterface",
 "digikam/Light Table",
+"digikam/Map Searches",
 "digikam/Metadata",
 "digikam/Portability",
 "digikam/Preview",
 "digikam/RAW files management",
 "digikam/Searches",
+"digikam/setup",
 "digikam/SlideShow",
 "digikam/Tags",
 "digikam/Themes",
@@ -127,12 +109,10 @@
 "digikam/Time Line",
 "digikam/Usability",
 "digikam/Workflow",
-"digikam/setup",
 "digikamimageplugins",
 "digikamimageplugins/Adjust Curves",
 "digikamimageplugins/AdjustLevels",
 "digikamimageplugins/Anti-Vignetting",
-"digikamimageplugins/BlowUp",
 "digikamimageplugins/Blur Fx",
 "digikamimageplugins/Border",
 "digikamimageplugins/Channel Mixer",
@@ -162,20 +142,23 @@
 "digikamimageplugins/Wish for new plugin",
 "docs",
 "docs/Corrections",
-"docs/Missing Content",
-"docs/Screenshots",
 "docs/docs.kde.org",
 "docs/faq",
 "docs/ksgmltools",
+"docs/Missing Content",
+"docs/Screenshots",
 "dolphin",
 "dragonplayer",
 "drkonqi",
+"drkonqi/backtraceparsing",
 "filelight",
-"flashkard",
 "geheimnis",
 "gofai",
+"grantlee",
 "guidance",
+"guidance-power-manager",
 "gwenview",
+"HIG",
 "i18n",
 "i18n/af",
 "i18n/bg",
@@ -225,14 +208,14 @@
 "i18n/uk",
 "i18n/wa",
 "i18n/zh-CN.GB2312",
-"i18n/zh-TW.Big5",
-"indexlib",
+"i18n/zh_TW",
 "juk",
 "k3b",
 "k3b/Audio Project",
 "k3b/Burning/Hardware",
 "k3b/Copying",
 "k3b/Data Project",
+"k3b/eMovix project",
 "k3b/GUI/Usability",
 "k3b/Image Formats",
 "k3b/Mixed Mode Project",
@@ -240,14 +223,15 @@
 "k3b/Verfication",
 "k3b/Video CD project",
 "k3b/Video DVD",
-"k3b/eMovix project",
-"kab",
+"kab3",
+"kab3/ldap",
+"kab3/printing",
 "kaboodle",
 "kaboodle/icons",
 "kaddressbook",
-"kaddressbook/ldap",
+"kaddressbook/ldap search",
+"kaddressbook/printing",
 "kaffeine",
-"kafka",
 "kalamaris",
 "kalarm",
 "kalarm/kalarmd",
@@ -260,13 +244,13 @@
 "kamefu",
 "kanagram",
 "kandy",
+"kapman",
 "kappfinder",
 "kapptemplate",
 "karbon",
 "karbon/opendocument",
 "karbon/usability",
 "karchie",
-"karchiver",
 "kard",
 "kasbar",
 "kasteroids",
@@ -280,18 +264,18 @@
 "kate/kwrite",
 "kate/part",
 "kate/syntax",
+"kate/Vi Input Mode",
 "katomic",
 "kaudiocreator",
 "kbabel",
 "kbabel/CatalogManager",
+"kbabel/db search engine",
 "kbabel/KBabel editor",
 "kbabel/KBabelDict",
-"kbabel/db search engine",
 "kbackgammon",
 "kbattleship",
 "kbear",
 "kbfx",
-"kbiff",
 "kblackbox",
 "kblocks",
 "kbounce",
@@ -300,84 +284,24 @@
 "kbugbuster",
 "kcachegrind",
 "kcalc",
+"KCall",
 "kcanvas",
 "kcharselect",
 "kchart",
 "kchart/opendocument",
+"kchart/shape",
 "kchart/usability",
 "kchat",
 "kcoloredit",
 "kconfigeditor",
 "kconfigure",
-"kcontrol",
-"kcontrol/kcmaccess",
-"kcontrol/kcmaccessibility",
-"kcontrol/kcmaudiocd",
-"kcontrol/kcmbackground",
-"kcontrol/kcmbell",
-"kcontrol/kcmclock",
-"kcontrol/kcmcolors",
-"kcontrol/kcmcomponentchooser",
-"kcontrol/kcmcrypto",
-"kcontrol/kcmdisplay",
-"kcontrol/kcmdisplayconfig",
-"kcontrol/kcmemail",
-"kcontrol/kcmenergy",
-"kcontrol/kcmfiletypes",
-"kcontrol/kcmfontinst",
-"kcontrol/kcmfonts",
-"kcontrol/kcmicons",
-"kcontrol/kcminfo",
-"kcontrol/kcminit",
-"kcontrol/kcminput",
-"kcontrol/kcmioslaveinfo",
-"kcontrol/kcmjoystick",
-"kcontrol/kcmkabldapconfig",
-"kcontrol/kcmkded",
-"kcontrol/kcmkdm",
-"kcontrol/kcmkeyboard",
-"kcontrol/kcmkeys",
-"kcontrol/kcmkhotkeys",
-"kcontrol/kcmkmix",
-"kcontrol/kcmknotify",
-"kcontrol/kcmkonq",
-"kcontrol/kcmkonqhtml",
-"kcontrol/kcmkresources",
-"kcontrol/kcmksplash",
-"kcontrol/kcmkurifilt",
-"kcontrol/kcmkvaio",
-"kcontrol/kcmkwindecoration",
-"kcontrol/kcmkwinoptions",
-"kcontrol/kcmlanbrowser",
-"kcontrol/kcmlaptop",
-"kcontrol/kcmlilo",
-"kcontrol/kcmlinuz",
-"kcontrol/kcmlocale",
-"kcontrol/kcmmidi",
-"kcontrol/kcmmouse",
-"kcontrol/kcmpanel",
-"kcontrol/kcmpasswords",
-"kcontrol/kcmperformance",
-"kcontrol/kcmprintmgr",
-"kcontrol/kcmprivacy",
-"kcontrol/kcmproxy",
-"kcontrol/kcmsamba",
-"kcontrol/kcmscreensaver",
-"kcontrol/kcmshell",
-"kcontrol/kcmsmserver",
-"kcontrol/kcmspellchecking",
-"kcontrol/kcmstyle",
-"kcontrol/kcmtaskbar",
-"kcontrol/kcmthinkpad",
-"kcontrol/kcmuseraccount",
-"kcontrol/kcmuseragent",
-"kcontrol/kcmuserinfo",
-"kcontrol/krdb",
-"kcontrol/kthememanager",
-"kcontrol/kthememgr",
 "kcpuload",
 "kcron",
 "kdat",
+"kde",
+"kde/clipboard",
+"kde/dualhead",
+"kde/xinerama",
 "kde-bluetooth",
 "kde-bluetooth/kbemusedsrv",
 "kde-bluetooth/kbluelock",
@@ -392,16 +316,14 @@
 "kde-bluetooth/kio_bluetooth",
 "kde-bluetooth/kio_obex",
 "kde-bluetooth/kio_sdp",
+"KDE-Eclipse",
 "kde-windows",
 "kde-windows/buildsystem",
 "kde-windows/gui",
 "kde-windows/installer",
-"kde-windows/network&amp;files",
+"kde-windows/network&files",
 "kde-windows/other",
-"kde",
-"kde/clipboard",
-"kde/dualhead",
-"kde/xinerama",
+"kde-windows/porting",
 "kdeaddons",
 "kdeaddons/dirfilter-plugin",
 "kdeaddons/kate-cppsymbolviewer",
@@ -428,27 +350,37 @@
 "kdelibs/knetwork",
 "kdelibs/knewstuff",
 "kdelibs/knotify",
+"kdelibs/kpasswdserver",
 "kdelibs/kspell",
 "kdelibs/kstyle",
 "kdelibs/ksycoca",
 "kdelibs/kwallet",
+"kdelibs/print-dialog",
 "kdelibs/qt",
+"kdelibs/shortcuts",
 "kdelirc",
 "kdelirc/irkick",
 "kdelirc/kcmlirc",
 "kdemultimedia",
+"kdemultimedia/mplayerthumbs",
 "kdepasswd",
-"kdeprint",
-"kdeprint/kdeprintfax",
-"kdeprint/kjobviewer",
+"kdepimlibs",
+"kdepimlibs/gpgme++",
+"kdepimlibs/kabc",
+"kdepimlibs/kblog",
+"kdepimlibs/kcal",
+"kdepimlibs/kholidays",
+"kdepimlibs/kldap",
+"kdepimlibs/kmime",
+"kdepimlibs/kpimidentities",
+"kdepimlibs/kpimtextedit",
+"kdepimlibs/mailtransport",
+"kdepimlibs/qgpgme",
+"kdepimlibs/syndication",
 "kdesdk-scripts",
+"kdesdk-scripts/cmake",
 "kdesdk-scripts/Miscellaneous",
-"kdesdk-scripts/cmake",
 "kdesdk-scripts/source_control",
-"kdesktop",
-"kdesktop/icons",
-"kdesktop/minicli",
-"kdesktop/wallpaper",
 "kdessh",
 "kdesu",
 "kdesu/kdesu",
@@ -456,106 +388,139 @@
 "kdesvn-build",
 "kdetv",
 "kdevelop",
-"kdevelop/Appwizard Templates",
-"kdevelop/Build tools: ANT",
-"kdevelop/Build tools: Automake",
-"kdevelop/Build tools: Custom Makefiles",
-"kdevelop/Build tools: QMake",
-"kdevelop/CPP Debugger",
-"kdevelop/CTags",
-"kdevelop/Language Support: Ada",
-"kdevelop/Language Support: CPP",
-"kdevelop/Language Support: Java",
-"kdevelop/Language Support: PHP",
-"kdevelop/Language Support: Pascal",
-"kdevelop/Language Support: Perl",
-"kdevelop/Language Support: Python",
-"kdevelop/Language Support: Ruby",
-"kdevelop/Output Views",
-"kdevelop/Profiles",
-"kdevelop/Qt Designer Integration",
-"kdevelop/UI: IDEAl",
-"kdevelop/UI: all modes",
-"kdevelop/UI: childframe window",
-"kdevelop/UI: tabbed pages",
-"kdevelop/UI: toplevel window",
-"kdevelop/VCS: CVS",
-"kdevelop/VCS: CVSService",
-"kdevelop/VCS: Clearcase",
-"kdevelop/VCS: Perforce",
-"kdevelop/VCS: SVN",
 "kdevelop/abbreviation plugin",
 "kdevelop/all build tools",
 "kdevelop/all editors",
-"kdevelop/appwizard",
+"kdevelop/application templates",
 "kdevelop/astyle",
 "kdevelop/bookmarks part",
+"kdevelop/Build tools: ANT",
+"kdevelop/Build tools: Automake",
+"kdevelop/Build tools: CMake",
+"kdevelop/Build tools: Custom Makefiles",
+"kdevelop/Build tools: QMake",
+"kdevelop/Buildtools: Make",
 "kdevelop/classview",
 "kdevelop/code completion",
+"kdevelop/coverage",
+"kdevelop/CPP Debugger",
 "kdevelop/cpp-parser",
+"kdevelop/CTags",
 "kdevelop/distpart",
 "kdevelop/doctreeview",
 "kdevelop/documentation viewer",
+"kdevelop/documentview",
 "kdevelop/doxygen integration",
 "kdevelop/file create",
 "kdevelop/file groups",
 "kdevelop/file selector",
 "kdevelop/file tree",
 "kdevelop/grep frontend",
-"kdevelop/kate integration",
+"kdevelop/ident",
 "kdevelop/kdevelop 2.x (obsolete)",
-"kdevelop/konsole part",
+"kdevelop/Language Support: Ada",
+"kdevelop/Language Support: CPP",
+"kdevelop/Language Support: Java",
+"kdevelop/Language Support: Pascal",
+"kdevelop/Language Support: Perl",
+"kdevelop/Language Support: PHP",
+"kdevelop/Language Support: Python",
+"kdevelop/Language Support: Ruby",
+"kdevelop/Output Views",
 "kdevelop/partexplorer",
 "kdevelop/php support",
 "kdevelop/problem reporter",
+"kdevelop/Profiles",
 "kdevelop/qeditor",
+"kdevelop/Qt Designer Integration",
 "kdevelop/replace part",
 "kdevelop/scriptproject",
+"kdevelop/UI: all modes",
+"kdevelop/UI: childframe window",
+"kdevelop/UI: IDEAl",
+"kdevelop/UI: tabbed pages",
+"kdevelop/UI: toplevel window",
 "kdevelop/valgrind integration",
+"kdevelop/VCS: Clearcase",
+"kdevelop/VCS: CVS",
+"kdevelop/VCS: CVSService",
+"kdevelop/VCS: Perforce",
+"kdevplatform",
+"kdevplatform/appwizard",
+"kdevplatform/bazaar",
+"kdevplatform/classbrowser",
+"kdevplatform/contextbrowser",
+"kdevplatform/documentswitcher",
+"kdevplatform/dvcs",
+"kdevplatform/editor integration",
+"kdevplatform/filemanager",
+"kdevplatform/git",
+"kdevplatform/konsole integration",
+"kdevplatform/kross",
+"kdevplatform/language",
+"kdevplatform/mercurial",
+"kdevplatform/outputview",
+"kdevplatform/problemreporter",
+"kdevplatform/project",
+"kdevplatform/quickopen",
+"kdevplatform/run support",
+"kdevplatform/shell",
+"kdevplatform/snippet",
+"kdevplatform/sourceformatter",
+"kdevplatform/sublime",
+"kdevplatform/subversion",
+"kdevplatform/util",
+"kdevplatform/vcs",
+"kdevplatform/veritas",
 "kdf",
 "kdialog",
 "kdiamond",
-"kdict",
 "kdiff3",
 "kdiff3/KDiff3Part",
 "kdm",
 "kdm/kdmdesktop",
 "kdm/krootimage",
-"kdoc",
 "kdom",
-"kdvi",
 "kedit",
 "keditbookmarks",
 "keduca",
 "keep",
 "kenolaba",
 "kepas",
+"kephal",
+"kephal/General",
 "kerry",
 "kexi",
-"kexi/Forms Designer",
+"kexi/Forms",
+"kexi/General",
 "kexi/KexiDB",
 "kexi/Migration/Import/Export",
-"kexi/Query Designer",
+"kexi/Queries",
 "kexi/Reports and Printouts",
 "kexi/Scripting",
-"kexi/Table Designer",
-"kexi/usability",
+"kexi/Tables",
+"kexi/Usability",
+"KExtProcess",
+"KExtProcess/Main Library",
+"KExtProcess/Profile API and GUI",
+"KExtProcess/Protocol Support",
+"Keyboard status applet",
 "keystone",
 "kfax",
+"kfile",
+"kfile/kfileplacesview",
 "kfile-plugins",
-"kfile-plugins/OOo",
-"kfile-plugins/PNG",
 "kfile-plugins/avi",
 "kfile-plugins/exr",
 "kfile-plugins/jpeg",
 "kfile-plugins/mp3",
 "kfile-plugins/mpeg",
 "kfile-plugins/ogg",
+"kfile-plugins/OOo",
 "kfile-plugins/pdf",
+"kfile-plugins/PNG",
 "kfile-plugins/ps",
 "kfile-plugins/wav",
-"kfile",
-"kfile/kfileplacesview",
 "kfilereplace",
 "kfind",
 "kfinger",
@@ -567,61 +532,45 @@
 "kfouleggs",
 "kfourinline",
 "kftpgrabber",
-"kgeo",
 "kgeography",
 "kget",
 "kget/Core",
-"kget/Multisegkio",
-"kget/UI",
 "kget/konqextension",
 "kget/metalink",
-"kget/plasmoid",
+"kget/Multisegkio",
+"kget/plasma widget",
 "kget/torrent",
+"kget/UI",
 "kget/webinterface",
 "kghostview",
 "kghostview/Ghostscript",
 "kgoldrunner",
 "kgoodstuff",
 "kgpg",
-"kgrab",
+"kgrapheditor",
 "kgraphviewer",
+"Khalkhi",
+"Khalkhi/kicker applet",
 "khangman",
 "khelpcenter",
-"khexedit",
 "khexedit2",
-"khexedit2/KPart",
-"khexedit2/Standalone application",
 "khexedit2/designer plugin",
 "khexedit2/interface",
+"khexedit2/KPart",
 "khexedit2/library",
+"khexedit2/Standalone application",
 "khotkeys",
 "khotkeys/Voice recognition",
-"kicker",
-"kicker/Drag &apos;n Drop",
-"kicker/Panel Strut Management",
-"kicker/appletproxy",
-"kicker/devicesapplet",
-"kicker/dockbar",
-"kicker/kbinaryclock",
-"kicker/kclockapplet",
-"kicker/mediaapplet",
-"kicker/minipagerapplet",
-"kicker/multiscreen",
-"kicker/naughtyapplet",
-"kicker/quicklauncher",
-"kicker/sidebar",
-"kicker/systemtray",
-"kicker/taskbarapplet",
-"kicker/transparency",
-"kicker/trashapplet",
 "kiconedit",
 "kig",
 "kile",
 "kile/editor",
 "kile/user interface",
+"killbots",
 "kim",
 "kimagemapeditor",
 "kimdaba",
+"kinfocenter",
 "kinkatta",
 "kio",
 "kio/audiocd",
@@ -643,6 +592,7 @@
 "kio/kssl",
 "kio/man",
 "kio/media",
+"kio/network",
 "kio/nfs",
 "kio/nntp",
 "kio/pop3",
@@ -665,18 +615,21 @@
 "kiosk",
 "kiosk/kiosktool",
 "kipiplugins",
-"kipiplugins/GPSSync",
-"kipiplugins/HTMLExport",
-"kipiplugins/IpodExport",
-"kipiplugins/Wish For New Plugins",
 "kipiplugins/acquireimages",
+"kipiplugins/AdvancedSlideshow",
 "kipiplugins/batchprocessimages",
 "kipiplugins/calendar",
 "kipiplugins/cdarchiving",
+"kipiplugins/DngConverter",
+"kipiplugins/Facebook/23",
 "kipiplugins/findimages",
+"kipiplugins/FlashExport",
 "kipiplugins/flickrexport",
 "kipiplugins/galleryexport",
+"kipiplugins/GPSSync",
+"kipiplugins/HTMLExport",
 "kipiplugins/imageviewer",
+"kipiplugins/IpodExport",
 "kipiplugins/jpeglossless",
 "kipiplugins/kameraklient",
 "kipiplugins/libkdcraw",
@@ -687,11 +640,12 @@
 "kipiplugins/picasawebexport",
 "kipiplugins/printwizard",
 "kipiplugins/rawconverter",
+"kipiplugins/RemoveRedEyes",
 "kipiplugins/sendimages",
-"kipiplugins/simpleviewerexport",
-"kipiplugins/slideshow",
+"kipiplugins/Smug",
 "kipiplugins/timeadjust",
 "kipiplugins/wallpaper",
+"kipiplugins/Wish For New Plugins",
 "kiriki",
 "kit",
 "kit/icons",
@@ -704,14 +658,11 @@
 "kjsembed/Core",
 "kjsembed/Docs and examples",
 "kjsembed/Plugins",
-"kjukebox",
 "kjumpingcube",
 "klaptopdaemon",
-"klatin",
 "klegacyimport",
 "kleopatra",
 "kleopatra/Assuan UI Server",
-"kless",
 "klettres",
 "klickety",
 "klines",
@@ -719,12 +670,8 @@
 "klipper",
 "klyx",
 "kmag",
-"kmago",
 "kmahjongg",
 "kmail",
-"kmail/GUI",
-"kmail/IMAP",
-"kmail/MDN",
 "kmail/addressbook",
 "kmail/calender",
 "kmail/composer",
@@ -733,27 +680,26 @@
 "kmail/encryption",
 "kmail/filtering",
 "kmail/folder list",
+"kmail/GUI",
+"kmail/IMAP",
 "kmail/index",
 "kmail/keys and menus",
 "kmail/kmailcvt",
 "kmail/maildir",
 "kmail/mbox",
+"kmail/MDN",
 "kmail/message list",
 "kmail/messageviewer",
 "kmail/mime",
+"kmail/new folder tree",
+"kmail/new message list",
 "kmail/pop3",
 "kmail/search",
 "kmail/sending",
 "kmail/templates",
-"kmameleon",
-"kmameleon/interface",
-"kmameleon/tools",
-"kmapnotify",
 "kmenuedit",
 "kmerlin",
-"kmessedwords",
 "kmid",
-"kmidi",
 "kmilo",
 "kmilo/Asus",
 "kmilo/Dell i8k",
@@ -763,8 +709,10 @@
 "kmilo/vaio",
 "kmines",
 "kmix",
+"kmix/Backend: Pulseaudio",
 "kmix/KMix Panel Applet",
 "kmix/KMix Panel Docking",
+"kmix/On-Screen-Display (OSD)",
 "kmix/Soundcard specific",
 "kmldonkey",
 "kmldonkey/libkmldonkey",
@@ -776,26 +724,30 @@
 "kmouth",
 "kmplayer",
 "kmplot",
-"kmrml",
 "kmtrace",
 "kmymoney2",
-"knapster2",
 "knemo",
 "knetattach",
-"knetload",
-"knetload/Linux Statistics",
 "knetwalk",
 "knetworkconf",
 "knetworkmanager",
+"knetworkmanager/802.1x",
+"knetworkmanager/cellular",
+"knetworkmanager/openvpn",
+"knetworkmanager/ppp",
+"knetworkmanager/pptp",
+"knetworkmanager/vpnc",
+"knetworkmanager/wep",
+"knetworkmanager/wpa-psk",
 "knewmail",
-"knewsticker",
 "knode",
-"knorskverbs",
 "knotes",
 "knu",
 "kodo",
 "koffice",
 "koffice/filters",
+"koffice/flake",
+"koffice/flake-picture",
 "koffice/usability",
 "kolf",
 "kollision",
@@ -811,15 +763,14 @@
 "kompare/navigationpart",
 "kompare/parser",
 "kompare/viewpart",
-"koncd",
 "konqueror",
-"konqueror/New Plugin wishes",
 "konqueror/bookmarks",
 "konqueror/file icon view",
 "konqueror/file list view",
 "konqueror/fsview",
 "konqueror/imagerotation",
 "konqueror/kcookiejar",
+"konqueror/khtml",
 "konqueror/khtml adblock",
 "konqueror/khtml ecma",
 "konqueror/khtml event",
@@ -829,13 +780,14 @@
 "konqueror/khtml part",
 "konqueror/khtml printing",
 "konqueror/khtml renderer",
+"konqueror/khtml svg",
 "konqueror/khtml xml",
-"konqueror/khtml",
 "konqueror/kimgalleryplugin",
 "konqueror/kjava",
 "konqueror/kjs",
 "konqueror/konq-e",
 "konqueror/kuick",
+"konqueror/New Plugin wishes",
 "konqueror/nsplugins",
 "konqueror/nspluginscan",
 "konqueror/nspluginviewer",
@@ -844,9 +796,10 @@
 "konqueror/rellinks",
 "konqueror/searchbarplugin",
 "konqueror/servicemenus",
+"konqueror/session restore",
+"konqueror/sidebar",
 "konqueror/sidebar media player",
 "konqueror/sidebar newsticker",
-"konqueror/sidebar",
 "konqueror/tabbing",
 "konqueror/webarchiverplugin",
 "konquest",
@@ -865,14 +818,20 @@
 "kontact/news",
 "kontact/newsticker",
 "kontact/notes",
+"kontact/planner summary",
 "kontact/special dates",
 "kontact/summary",
 "kontact/todo",
-"kontour",
-"kontour/filters",
 "konversation",
+"konversation/dcc",
+"konversation/documentation",
+"konversation/inputline",
 "konversation/ircview",
+"konversation/logging",
+"konversation/notifications",
 "konversation/protocol",
+"konversation/tabcompletion",
+"konversation/upnp",
 "kooka",
 "kooka/libkscan",
 "kopennap",
@@ -883,31 +842,37 @@
 "kopete/Audio/Video Plugin",
 "kopete/Auto-Away Plugin",
 "kopete/Autoreplace plugin",
+"kopete/Bonjour Plugin",
 "kopete/Bookmarks plugin",
 "kopete/Chat Window",
 "kopete/Chatwindow Styles",
 "kopete/Connection Status Plugin",
+"kopete/Contact list",
 "kopete/Contact Notes Plugin",
-"kopete/Contact list",
 "kopete/Cryptography Plugin",
 "kopete/DBus",
 "kopete/DCOP Interface",
 "kopete/Gadu-Gadu Plugin",
 "kopete/History Plugin",
 "kopete/ICQ and AIM Plugins",
+"kopete/Importer plugin",
 "kopete/IRC Plugin",
-"kopete/Importer plugin",
 "kopete/Jabber Plugin",
 "kopete/Latex Plugin",
+"kopete/libkopete",
 "kopete/Lotus Sametime Plugin",
-"kopete/MSN Plugin",
 "kopete/Main Application",
 "kopete/Meanwhile plugin",
+"kopete/MSN Plugin",
 "kopete/New plugin wishes",
 "kopete/Notifications",
 "kopete/Novell GroupWise Messenger Plugin",
 "kopete/Now Listening Plugin",
+"kopete/OTR Plugin",
+"kopete/Pipes Plugin",
 "kopete/Privacy Plugin",
+"kopete/QQ Plugin",
+"kopete/Skype Plugin",
 "kopete/SMS Plugin",
 "kopete/SpellCheck Plugin",
 "kopete/Statistics plugin",
@@ -916,19 +881,28 @@
 "kopete/Translator Plugin",
 "kopete/Web Presence Plugin",
 "kopete/WinPopup Plugin",
+"kopete/WLM Plugin",
 "kopete/Yahoo Plugin",
-"kopete/libkopete",
 "korganizer",
-"korganizer/alarmd",
+"korganizer/agendaview (weekview)",
 "korganizer/embedded",
 "korganizer/exchangeplugin",
 "korganizer/groupware",
+"korganizer/html export",
+"korganizer/import/export",
+"korganizer/invitations",
+"korganizer/journalview",
+"korganizer/monthview",
+"korganizer/otherviews",
+"korganizer/printing",
+"korganizer/reminder daemon (korgac)",
+"korganizer/todoview",
 "korn",
 "koshell",
 "koshell/usability",
 "kpackage",
+"kpackagekit",
 "kpager",
-"kpaint",
 "kpat",
 "kpdf",
 "kpercentage",
@@ -947,15 +921,16 @@
 "kphotoalbum/Viewer",
 "kphotoalbum/XML backend",
 "kpilot",
-"kpilot/Internal editors",
-"kpilot/Memo conduit (KNotes)",
-"kpilot/Other conduits",
-"kpilot/addressbook conduit",
-"kpilot/calendar conduits",
+"kpilot/base/akonadibase",
+"kpilot/Calendar Conduit",
+"kpilot/Contacts Conduit",
+"kpilot/General",
+"kpilot/Keyring Conduit",
 "kpilot/kpilotDaemon",
+"kpilot/Memofile Conduit",
+"kpilot/ToDo Conduit",
 "kplato",
 "kplato/usability",
-"kpm",
 "kpoker",
 "kpovmodeler",
 "kppp",
@@ -968,16 +943,14 @@
 "krandr",
 "krandr/control center",
 "krandr/krandrtray",
+"krazy",
 "krdc",
-"kreatecd",
-"krec",
-"krec/mp3_export",
-"krec/ogg_export",
-"krec/wave_export",
+"krdc/NX",
+"krdc/RDP",
+"krdc/VNC",
 "krecord",
 "kregexpeditor",
 "kresources",
-"kresources/SLOX",
 "kresources/birthdays",
 "kresources/blogging",
 "kresources/bugzilla",
@@ -992,21 +965,23 @@
 "kresources/local",
 "kresources/newexchange",
 "kresources/remote",
+"kresources/SLOX",
 "kreversi",
 "krfb",
 "krichtexteditor",
 "krita",
+"krita/adjustment layers",
 "krita/Color models",
 "krita/Documentation",
 "krita/File formats",
 "krita/Filters",
 "krita/Tile manager",
 "krita/Tools",
-"krita/adjustment layers",
 "krita/transform",
 "krita/usability",
 "kruler",
 "krunner",
+"krunner/quicksand",
 "krusader",
 "ksame",
 "ksayit",
@@ -1021,8 +996,8 @@
 "ksim",
 "ksirc",
 "ksirk",
+"ksirkskineditor",
 "ksirtet",
-"ksmiletris",
 "ksmserver",
 "ksnake",
 "ksnapshot",
@@ -1033,6 +1008,7 @@
 "kspread/filters",
 "kspread/opendocument",
 "kspread/usability",
+"KSquares",
 "kst",
 "kst/datasources",
 "kst/documentation",
@@ -1059,10 +1035,11 @@
 "ksynaptics/syndock",
 "ksysctrl",
 "ksysguard",
+"ksysguard/ksysguard",
+"ksysguard/ksysguardd",
 "ksysguard/Plasmoid / Applet",
 "ksysguard/Process Controller - krunner part",
-"ksysguard/ksysguard",
-"ksysguard/ksysguardd",
+"KSystemLog",
 "ksysv",
 "ktalk",
 "ktalkd",
@@ -1095,19 +1072,17 @@
 "kuiviewer",
 "kuser",
 "kverbos",
-"kvidmode",
 "kview",
 "kview/kviewcanvas",
 "kview/kviewviewer",
 "kview/plugins",
 "kviewerpart",
 "kviewshell",
-"kvim",
-"kvim/Vim KPart",
+"kvkbd",
 "kvoctrain",
+"kvpnc",
 "kwalletmanager",
 "kweather",
-"kwebget",
 "kwifimanager",
 "kwikdisk",
 "kwin",
@@ -1117,20 +1092,19 @@
 "kwin/eyecandy",
 "kwin/multihead",
 "kwin/xinerama",
-"kwin4",
 "kwintv",
 "kwireless",
 "kword",
 "kword/filters",
+"kword/flake-texttool",
+"kword/flake-texttool-plugins",
 "kword/opendocument",
 "kword/tables",
 "kword/usability",
 "kwordquiz",
 "kworldclock",
-"kwuftpd",
 "kxconfig",
 "kxkb",
-"kxmlrpcd",
 "kxsldbg",
 "kxsldbg/kxsldbg",
 "kxsldbg/xsldbg",
@@ -1139,6 +1113,7 @@
 "libkdegames",
 "libkdepim",
 "libkdepim/libkpgp",
+"libksane",
 "lilo-config",
 "lokalize",
 "lokalize/editor",
@@ -1147,18 +1122,19 @@
 "lokalize/translation memory",
 "lskat",
 "mailody",
-"mailtransport",
 "marble",
 "marble/data",
+"marble/plasmoid",
 "mediacontrol",
 "mediacontrol/amarok support",
-"megami",
 "metabar",
-"mp3kult",
-"mpeglib",
 "nepomuk",
+"Network Management",
+"Network Management/Control Module",
+"Network Management/KDED Module",
+"Network Management/knetworkmanager",
+"Network Management/Plasma Widget",
 "noatun",
-"noatun/Young Hickory",
 "noatun/dub",
 "noatun/excellent",
 "noatun/hayes",
@@ -1170,23 +1146,51 @@
 "noatun/simple",
 "noatun/split",
 "noatun/winskin",
+"noatun/Young Hickory",
+"okteta",
 "okular",
 "okular/CHM backend",
+"okular/Comicbook backend",
+"okular/DjVu backend",
 "okular/DVI backend",
-"okular/DjVu backend",
+"okular/EPub backend",
 "okular/New backend wishes",
 "okular/ODT backend",
 "okular/PDF backend",
 "okular/PS backend",
 "okular/TIFF backend",
+"okular/XPS backend",
+"Oxygen",
+"Oxygen/icons",
+"Oxygen/sound",
+"Oxygen/style",
+"Oxygen/win deco",
 "parley",
+"partitionmanager",
+"Phonon",
+"Phonon/avKode backend",
+"Phonon/frontend",
+"Phonon/GStreamer backend",
+"Phonon/KDE platform plugin",
+"Phonon/kded module for audio device listing",
+"Phonon/NMM backend",
+"Phonon/settings",
+"Phonon/VLC backend",
+"Phonon/Xine backend",
 "pixieplus",
+"Planet KDE",
+"Planet KDE/feeds",
 "plasma",
 "plasma/containment-desktop",
 "plasma/containment-panel",
 "plasma/desktop",
+"plasma/multihead",
 "plasma/multiscreen",
+"plasma/notifications",
 "plasma/panel",
+"plasma/screensaver overlay",
+"plasma/scriptengines",
+"plasma/wallpaper-image",
 "plasma/widget browser",
 "plasma/widget-battery",
 "plasma/widget-clock",
@@ -1195,60 +1199,131 @@
 "plasma/widget-folderview",
 "plasma/widget-frame",
 "plasma/widget-kickoff",
+"plasma/widget-lancelot",
+"plasma/widget-microblogging",
 "plasma/widget-misc",
 "plasma/widget-notifier",
+"plasma/widget-nowplaying",
+"plasma/widget-osx",
+"plasma/widget-pager",
+"plasma/widget-pastebin",
+"plasma/widget-quicklaunch",
+"plasma/widget-rememberthemilk",
+"plasma/widget-systemmonitor",
 "plasma/widget-systemtray",
 "plasma/widget-taskbar",
-"plasma/widget-twitter",
+"plasma/widget-trashcan",
+"plasma/widget-weather",
+"policykit-kde",
+"policykit-kde/kcm_auth",
+"policykit-kde/manager",
+"printer-applet",
 "qca",
 "quanta",
 "quanta/VPL",
+"rekonq",
+"Rocs",
 "rsibreak",
 "sanetracker",
 "showfoto",
+"Skanlite",
+"skrooge",
+"solid",
+"solid/control::bluetooth",
+"solid/control::network",
+"solid/control::powermanager",
+"solid/libsolid",
+"solid/powerdevil-daemon",
+"solid/powerdevil-kcm",
 "spreadkde.org",
 "step",
 "step/stepcore",
 "superkaramba",
+"sweeper",
+"sysadmin",
+"sysadmin/*base.kde.org",
+"sysadmin/bugzilla",
+"sysadmin/docs.kde.org",
+"sysadmin/forum",
+"sysadmin/gitorious",
+"sysadmin/irc",
+"sysadmin/kdedevelopers",
+"sysadmin/mailinglists",
+"sysadmin/other websites",
+"sysadmin/reviewboard",
+"sysadmin/svn account",
+"sysadmin/svn servers",
+"system-config-printer-kde",
 "systemsettings",
-"systemsettings/accessibility",
-"systemsettings/autostart",
-"systemsettings/bell",
-"systemsettings/clock",
-"systemsettings/colors",
-"systemsettings/componentchooser",
-"systemsettings/desktoppath",
-"systemsettings/energy",
-"systemsettings/fileshare",
-"systemsettings/fontinst",
-"systemsettings/fonts",
-"systemsettings/icons",
-"systemsettings/joystick",
+"systemsettings/kcm_accessibility",
+"systemsettings/kcm_autostart",
+"systemsettings/kcm_bell",
+"systemsettings/kcm_clock",
+"systemsettings/kcm_colors",
+"systemsettings/kcm_componentchooser",
+"systemsettings/kcm_desktop",
+"systemsettings/kcm_desktoppath",
+"systemsettings/kcm_desktopthemedetails",
+"systemsettings/kcm_emoticons",
+"systemsettings/kcm_energy",
+"systemsettings/kcm_fileshare",
+"systemsettings/kcm_filetypes",
+"systemsettings/kcm_fontinst",
+"systemsettings/kcm_fonts",
+"systemsettings/kcm_icons",
+"systemsettings/kcm_joystick",
+"systemsettings/kcm_kded",
+"systemsettings/kcm_kdm",
+"systemsettings/kcm_kdnssd",
+"systemsettings/kcm_keyboard",
+"systemsettings/kcm_keyboard_layout",
+"systemsettings/kcm_keys",
+"systemsettings/kcm_kgamma",
+"systemsettings/kcm_khotkeys",
+"systemsettings/kcm_ksmserver",
+"systemsettings/kcm_ksplashthememgr",
+"systemsettings/kcm_kthememanage",
+"systemsettings/kcm_kwincompositing",
+"systemsettings/kcm_kwindecoration",
+"systemsettings/kcm_kwinoptions",
+"systemsettings/kcm_language",
+"systemsettings/kcm_launch",
+"systemsettings/kcm_mouse",
+"systemsettings/kcm_netpref",
+"systemsettings/kcm_notify",
+"systemsettings/kcm_phonon",
+"systemsettings/kcm_proxy",
+"systemsettings/kcm_randr",
+"systemsettings/kcm_samba",
+"systemsettings/kcm_screensaver",
+"systemsettings/kcm_solid-actions",
+"systemsettings/kcm_standard_actions",
+"systemsettings/kcm_style",
 "systemsettings/kcm_useraccount",
-"systemsettings/kcmkded",
-"systemsettings/kcmkdnssd",
-"systemsettings/kcmknotify",
-"systemsettings/kcmlaunch",
-"systemsettings/kdm",
-"systemsettings/keyboard",
-"systemsettings/keyboard_layout",
-"systemsettings/keys",
-"systemsettings/khotkeys",
-"systemsettings/ksplashthememgr",
-"systemsettings/kthememanager",
-"systemsettings/kwincompositing",
-"systemsettings/kwindecoration",
-"systemsettings/kwinoptions",
-"systemsettings/language",
-"systemsettings/mouse",
-"systemsettings/netpref",
-"systemsettings/proxy",
-"systemsettings/screensaver",
-"systemsettings/sound",
-"systemsettings/style",
+"systemsettings/treeview",
+"systemsettings-kde3",
 "taglib",
+"telepathy",
+"telepathy/accountmanager-kwallet",
+"telepathy/accounts-kcm",
+"telepathy/presence-applet",
+"telepathy/presence-dataengine",
+"telepathy/telepathy-qt",
+"tellico",
 "umbrello",
 "unknown",
+"valgrind",
+"valgrind/addrcheck (defunct)",
+"valgrind/cachegrind",
+"valgrind/callgrind",
+"valgrind/drd",
+"valgrind/helgrind",
+"valgrind/massif",
+"valgrind/memcheck",
+"valgrind/ptrcheck",
+"valgrind/vex",
+"webkitkde",
+"webkitkde/WebKit KPart",
 "www.kde.org",
 "yakuake",
 0 };
Index: kdeui/shortcuts/kglobalaccel.h
===================================================================
--- kdeui/shortcuts/kglobalaccel.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/shortcuts/kglobalaccel.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -101,8 +101,8 @@
      * is purged too.
      *
      * If a purged component or shortcut is activated the next time it will
-     * reregister itself. All you probably will loose on wrong usage are the
-     * users set shortcuts.
+     * reregister itself. All you probably will lose on wrong usage are the
+     * user's set shortcuts.
      *
      * If you make sure your component is running and all global shortcuts it
      * has are active this function can be used to clean up the registry.
Index: kdeui/actions/kselectaction.cpp
===================================================================
--- kdeui/actions/kselectaction.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/actions/kselectaction.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -36,6 +36,7 @@
 #include <QEvent>
 #include <QToolButton>
 #include <QToolBar>
+#include <QStandardItem>
 #include <kicon.h>
 #include <kdebug.h>
 
@@ -566,6 +567,9 @@
       foreach (QAction* action, selectableActionGroup()->actions())
         comboBox->addAction(action);
 
+      if (selectableActionGroup()->actions().isEmpty())
+          comboBox->setEnabled(false);
+
       connect(comboBox, SIGNAL(destroyed(QObject*)), SLOT(_k_comboBoxDeleted(QObject*)));
       connect(comboBox, SIGNAL(currentIndexChanged(int)), SLOT(_k_comboBoxCurrentIndexChanged(int)));
       d->m_comboBoxes.append(comboBox);
@@ -685,6 +689,10 @@
       e->action()->icon(),
       ::DropAmpersands (e->action()->text()),
       QVariantFromQAction (e->action ()));
+    if (QStandardItemModel *model = qobject_cast<QStandardItemModel *>(comboBox->model())) {
+        QStandardItem *item = model->item(index);
+        item->setEnabled(e->action()->isEnabled());
+    }
 
     // Inserting an item into a combobox can change the current item so
     // make sure the item corresponding to the checked action is selected.
@@ -707,6 +715,10 @@
     //          << endl;
     comboBox->setItemIcon (index, e->action ()->icon ());
     comboBox->setItemText (index, ::DropAmpersands (e->action ()->text ()));
+    if (QStandardItemModel *model = qobject_cast<QStandardItemModel *>(comboBox->model())) {
+        QStandardItem *item = model->item(index);
+        item->setEnabled(e->action()->isEnabled());
+    }
 
     // The checked action may have become unchecked so
     // make sure the item corresponding to the checked action is selected.
Index: kdeui/actions/kstandardaction.cpp
===================================================================
--- kdeui/actions/kstandardaction.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/actions/kstandardaction.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -198,12 +198,15 @@
   }
 
   if (recvr && slot) {
-    if (id != OpenRecent)
-      QObject::connect(pAction, SIGNAL(triggered(bool)), recvr, slot);
-    else
-      // FIXME KAction port: probably a good idea to find a cleaner way to do this
-      // Open Recent is a special case - provide the selected URL
-      QObject::connect(pAction, SIGNAL(urlSelected(const KUrl &)), recvr, slot);
+      if (id == OpenRecent) {
+          // FIXME KAction port: probably a good idea to find a cleaner way to do this
+          // Open Recent is a special case - provide the selected URL
+          QObject::connect(pAction, SIGNAL(urlSelected(const KUrl &)), recvr, slot);
+      } else if (id == ConfigureToolbars) { // #200815
+          QObject::connect(pAction, SIGNAL(triggered(bool)), recvr, slot, Qt::QueuedConnection);
+      } else {
+          QObject::connect(pAction, SIGNAL(triggered(bool)), recvr, slot);
+      }
   }
 
   KActionCollection *collection = qobject_cast<KActionCollection *>(parent);
Index: kdeui/tests/krichtextedittest.h
===================================================================
--- kdeui/tests/krichtextedittest.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 0)
+++ kdeui/tests/krichtextedittest.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -0,0 +1,33 @@
+/* This file is part of the KDE libraries
+    Copyright (c) 2009 Thomas McGuire <mcguire@kde.org>
+
+    This library is free software; you can redistribute it and/or modify
+    it under the terms of the GNU Lesser General Public License as published by
+    the Free Software Foundation; either version 2 of the License or ( at
+    your option ) version 3 or, at the discretion of KDE e.V. ( which shall
+    act as a proxy as in section 14 of the GPLv3 ), any later version.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Lesser General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+*/
+#ifndef KRICHTEXTEDITTEST_H
+#define KRICHTEXTEDITTEST_H
+
+#include <QtCore/QObject>
+
+class KRichTextEditTest : public QObject
+{
+    Q_OBJECT
+
+    private Q_SLOTS:
+        void testLinebreaks();
+};
+
+#endif
Index: kdeui/tests/CMakeLists.txt
===================================================================
--- kdeui/tests/CMakeLists.txt	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/tests/CMakeLists.txt	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -45,6 +45,7 @@
   kiconloader_unittest
   ktabwidget_unittest
   ktoolbar_unittest
+  krichtextedittest
 )
 
 KDEUI_EXECUTABLE_TESTS(
Index: kdeui/tests/krichtextedittest.cpp
===================================================================
--- kdeui/tests/krichtextedittest.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 0)
+++ kdeui/tests/krichtextedittest.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -0,0 +1,51 @@
+/* This file is part of the KDE libraries
+    Copyright (c) 2009 Thomas McGuire <mcguire@kde.org>
+
+    This library is free software; you can redistribute it and/or modify
+    it under the terms of the GNU Lesser General Public License as published by
+    the Free Software Foundation; either version 2 of the License or ( at
+    your option ) version 3 or, at the discretion of KDE e.V. ( which shall
+    act as a proxy as in section 14 of the GPLv3 ), any later version.
+
+    This library is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+    Library General Public License for more details.
+
+    You should have received a copy of the GNU Lesser General Public License
+    along with this library; see the file COPYING.LIB.  If not, write to
+    the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
+    Boston, MA 02110-1301, USA.
+*/
+#include "krichtextedittest.h"
+
+#include <krichtextedit.h>
+
+#include <qtestevent.h>
+#include <qtest_kde.h>
+
+QTEST_KDEMAIN(KRichTextEditTest, GUI)
+
+void KRichTextEditTest::testLinebreaks()
+{
+  KRichTextEdit edit;
+  edit.enableRichTextMode();
+
+  // Enter the text with keypresses, for some strange reason a normal setText() or
+  // setPlainText() call doesn't do the trick
+  QTest::keyClick( &edit, Qt::Key_A );
+  QTest::keyClick( &edit, Qt::Key_Enter );
+  QTest::keyClick( &edit, Qt::Key_Enter );
+  edit.setTextUnderline( true );
+  QTest::keyClick( &edit, Qt::Key_B );
+  QTest::keyClick( &edit, Qt::Key_Enter );
+  QTest::keyClick( &edit, Qt::Key_Enter );
+  QTest::keyClick( &edit, Qt::Key_Enter );
+  QTest::keyClick( &edit, Qt::Key_C );
+  QCOMPARE( edit.toPlainText(), QString( "a\n\nb\n\n\nc" ) );
+
+  QString html = edit.toCleanHtml();
+  edit.clear();
+  edit.setHtml( html );
+  QCOMPARE( edit.toPlainText(), QString( "a\n\nb\n\n\nc" ) );
+}
Index: kdeui/widgets/krichtextedit.cpp
===================================================================
--- kdeui/widgets/krichtextedit.cpp	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/widgets/krichtextedit.cpp	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -514,53 +514,9 @@
 
 QString KRichTextEdit::toCleanHtml() const
 {
-    static QString evilline = "<p style=\" margin-top:0px; margin-bottom:0px; "
-                      "margin-left:0px; margin-right:0px; -qt-block-indent:0; "
-                      "text-indent:0px; -qt-user-state:0;\">";
-
-    QString result;
-    const QStringList lines = toHtml().split('\n');
-    Q_FOREACH (const QString &tempLine, lines) {
-        if (tempLine.startsWith(evilline)) { 
-            QString tempLineCopy = tempLine;
-            tempLineCopy.remove(evilline);
-            if (tempLineCopy.endsWith("</p>")) {
-                tempLineCopy.remove(QRegExp("</p>$"));
-                tempLineCopy.append("<br>\n");
-            }
-            result += tempLineCopy;
-        } else {
-            result += tempLine;
-        }
-    }
-
-    // ### HACK to fix bug 86925: A completely empty line is ignored in HTML-mode
-    int offset = 0;
-    QRegExp paragraphFinder("<p.*>(.*)</p>");
-    QRegExp paragraphEnd("</p>");
-    paragraphFinder.setMinimal(true);
-
-    while (offset != -1) {
-
-        // Find the next paragraph
-        offset = paragraphFinder.indexIn(result, offset);
-
-        if (offset != -1) {
-
-            // If the text in the paragraph is empty, add a &nbsp there.
-            if (paragraphFinder.capturedTexts().size() == 2 &&
-                paragraphFinder.capturedTexts()[1].isEmpty()) {
-                int end = paragraphEnd.indexIn(result, offset);
-                Q_ASSERT(end != -1 && end > offset);
-                result.replace(end, paragraphEnd.pattern().length(), "<br></p>");
-            }
-
-            // Avoid finding the same match again
-            offset++;
-        }
-    }
-
-    return result;
+    // Does nothing anymore, as Qt seems to be fixed now.
+    // See the unit test which confirms this.
+    return toHtml();
 }
 
 #include "krichtextedit.moc"
Index: kdeui/widgets/kkeysequencewidget.h
===================================================================
--- kdeui/widgets/kkeysequencewidget.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/widgets/kkeysequencewidget.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -120,7 +120,7 @@
 		 * 2. Call applyStealShortcut and KKeySequenceWidget will steal the
 		 * shortcut. This will save the actionCollections the shortcut is part
 		 * of so make sure it doesn't inadvertly save some unwanted changes
-		 * too. Read it's documentation for some limitation when handling
+		 * too. Read its documentation for some limitation when handling
 		 * global shortcuts.
 		*
 		 * If you want to do the conflict checking yourself here are some code
@@ -228,7 +228,7 @@
 
 	/**
 	 * If the component using this widget supports shortcuts contexts, it has
-	 * to set the it's component name so we can check conflicts correctly.
+	 * to set its component name so we can check conflicts correctly.
 	 */
 	void setComponentName(const QString &componentName);
 
Index: kdeui/icons/kiconloader.h
===================================================================
--- kdeui/icons/kiconloader.h	(.../tags/KDE/4.3.0/kdelibs)	(wersja 1013400)
+++ kdeui/icons/kiconloader.h	(.../branches/KDE/4.3/kdelibs)	(wersja 1013400)
@@ -386,7 +386,7 @@
      * Returns a pointer to the current theme. Can be used to query
      * available and default sizes for groups.
      * @note The KIconTheme will change if reconfigure() is called and
-     * therefore it's not recommed to store the pointer somewhere.
+     * therefore it's not recommended to store the pointer anywhere.
      * @return a pointer to the current theme. 0 if no theme set.
      */
     KIconTheme *theme() const;

Zmiany atrybutów dla: .
___________________________________________________________________
Dodane: svn:externals
   + 


